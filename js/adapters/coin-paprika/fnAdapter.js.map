{"version":3,"sources":["../../../src/adapters/coin-paprika/fnAdapter.js"],"names":["crError","ymdToUTC","getValue","joinBy","toUpperCaseFirst","crItemLink","AdapterFn","DF_ID","getCoinId","items","dfValue","COIN_URL","_crCoinUrl","option","_crInfo","name","title","description","fnAdapter","crData","arr","data","dColumn","dVolume","dMarketCap","forEach","item","time_close","close","open","low","high","volume","market_cap","_date","split","push","date","_high","_low","addConfOption","info"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAM;AACJA,EAAAA,OADI;AAEJC,EAAAA,QAFI;AAGJC,EAAAA,QAHI;AAIJC,EAAAA,MAJI;AAKJC,EAAAA,gBALI;AAMJC,EAAAA;AANI,IAOFC,kBAPJ;AASA,MAAMC,KAAK,GAAG,aAAd;;AACA,MAAMC,SAAS,GAAG;AAAA,MAAC;AAAEC,IAAAA,KAAK,GAAC;AAAR,GAAD;AAAA,SAChBP,QAAQ,CAACO,KAAK,CAAC,CAAD,CAAN,EAAW;AAAEC,IAAAA,OAAO,EAAEH;AAAX,GAAX,CADQ;AAAA,CAAlB;;AAGA,MAAMI,QAAQ,GAAG,8BAAjB;AAAA,MACEC,UAAU,GAAGC,MAAM,IAAOF,QAAP,SAAmBH,SAAS,CAACK,MAAD,CAA5B,MADrB;AAAA,MAEEC,OAAO,GAAGD,MAAM,KAAK;AACrBE,EAAAA,IAAI,EAAEF,MAAM,CAACG,KAAP,IAAgB,EADD;AAErBC,EAAAA,WAAW,EAAEZ,UAAU,CAAC,aAAD,EAAgBO,UAAU,CAACC,MAAD,CAA1B;AAFF,CAAL,CAFlB;;AAQA,MAAMK,SAAS,GAAG;AAChBlB,EAAAA,OADgB;AAEhBE,EAAAA,QAFgB;AAGhBC,EAAAA,MAHgB;AAIhBC,EAAAA,gBAJgB;AAMhBI,EAAAA,SANgB;AAQhBW,EAAAA,MAAM,EAAGC,GAAD,IAAS;AACf,UAAMC,IAAI,GAAG,EAAb;AAAA,UACEC,OAAO,GAAG,EADZ;AAAA,UACgBC,OAAO,GAAG,EAD1B;AAAA,UAEEC,UAAU,GAAG,EAFf;AAGAJ,IAAAA,GAAG,CAACK,OAAJ,CAAYC,IAAI,IAAI;AAClB,YAAM;AACJC,QAAAA,UADI;AACQC,QAAAA,KADR;AAEJC,QAAAA,IAFI;AAEEC,QAAAA,GAFF;AAEOC,QAAAA,IAFP;AAEaC,QAAAA,MAFb;AAGJC,QAAAA;AAHI,UAIFP,IAJJ;AAAA,YAKEQ,KAAK,GAAGP,UAAU,GACd1B,QAAQ,CAAC0B,UAAU,CAACQ,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAD,CADM,GAEd,KAAK,CAPX;;AAQA,UAAID,KAAJ,EAAW;AACTb,QAAAA,IAAI,CAACe,IAAL,CAAU,CAAEF,KAAF,EAASN,KAAT,CAAV;AACAL,QAAAA,OAAO,CAACa,IAAR,CAAa,CAAEF,KAAF,EAASF,MAAT,CAAb;AACAV,QAAAA,OAAO,CAACc,IAAR,CACE,4BAAc;AACXC,UAAAA,IAAI,EAAEH,KADK;AAEXL,UAAAA,IAFW;AAELD,UAAAA,KAFK;AAEEI,UAAAA,MAFF;AAGXnB,UAAAA,MAAM,EAAE;AACLyB,YAAAA,KAAK,EAAEP,IADF;AAELQ,YAAAA,IAAI,EAAET;AAFD;AAHG,SAAd,CADF;AAUAN,QAAAA,UAAU,CAACY,IAAX,CAAgB,CAACF,KAAD,EAAQD,UAAR,CAAhB;AACD;AACF,KAxBD;AAyBA,WAAO;AACLZ,MAAAA,IADK;AAELE,MAAAA,OAFK;AAEID,MAAAA,OAFJ;AAGLE,MAAAA;AAHK,KAAP;AAKD,GA1Ce;AA4ChBgB,EAAAA,aAAa,EAAE3B,MAAM,KAAK;AACxB4B,IAAAA,IAAI,EAAE3B,OAAO,CAACD,MAAD;AADW,GAAL;AA5CL,CAAlB;eAiDeK,S","sourcesContent":["import AdapterFn from '../AdapterFn'\r\nimport { crVolumePoint } from '../pointFn';\r\n\r\nconst {\r\n  crError,\r\n  ymdToUTC,\r\n  getValue,\r\n  joinBy,\r\n  toUpperCaseFirst,\r\n  crItemLink\r\n} = AdapterFn;\r\n\r\nconst DF_ID = 'btc-bitcoin';\r\nconst getCoinId = ({ items=[] }) =>\r\n  getValue(items[0], { dfValue: DF_ID });\r\n\r\nconst COIN_URL = 'https://coinpaprika.com/coin'\r\n, _crCoinUrl = option => `${COIN_URL}/${getCoinId(option)}/`\r\n, _crInfo = option => ({\r\n  name: option.title || '',\r\n  description: crItemLink('Coinpaprika', _crCoinUrl(option))\r\n});\r\n\r\n\r\nconst fnAdapter = {\r\n  crError,\r\n  getValue,\r\n  joinBy,\r\n  toUpperCaseFirst,\r\n\r\n  getCoinId,\r\n\r\n  crData: (arr) => {\r\n    const data = []\r\n    , dColumn = [], dVolume = []\r\n    , dMarketCap = [];\r\n    arr.forEach(item => {\r\n      const {\r\n        time_close, close,\r\n        open, low, high, volume,\r\n        market_cap\r\n      } = item\r\n      , _date = time_close\r\n          ? ymdToUTC(time_close.split('T')[0])\r\n          : void 0;\r\n      if (_date) {\r\n        data.push([ _date, close ])\r\n        dVolume.push([ _date, volume ])\r\n        dColumn.push(\r\n          crVolumePoint({\r\n             date: _date,\r\n             open, close, volume,\r\n             option: {\r\n                _high: high,\r\n                _low: low\r\n              }\r\n          })\r\n        )\r\n        dMarketCap.push([_date, market_cap])\r\n      }\r\n    })\r\n    return {\r\n      data,\r\n      dVolume, dColumn,\r\n      dMarketCap\r\n    };\r\n  },\r\n\r\n  addConfOption: option => ({\r\n    info: _crInfo(option)\r\n  })\r\n}\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}