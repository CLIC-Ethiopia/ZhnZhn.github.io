{"version":3,"sources":["../../src/adapters/toTableFn.js"],"names":["numberFormat","roundBy","AdapterFn","_isNumber","n","_replaceNaN","str","_getCellValue","r","h","pn","toN","_isToNumber","_toFixedBy","_strV","parseFloat","crTableConfig","id","title","headers","rows","dataSource","fns","tableFn","zhCompType","zhConfig","key","crTableRows","idPropName","map","rIndex","forEach"],"mappings":";;;;;;;AAAA;;AAEA,MAAM;AAAEA,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,IAA4BC,kBAAlC;;AAEA,MAAMC,SAAS,GAAGC,CAAC,IAAI,OAAOA,CAAP,KAAa,QAApC;AAAA,MACEC,WAAW,GAAG,UAACD,CAAD,EAAIE,GAAJ;AAAA,MAAIA,GAAJ;AAAIA,IAAAA,GAAJ,GAAQ,EAAR;AAAA;;AAAA,SAAeF,CAAC,GAAGA,CAAJ,KAAU,CAAV,GACzBA,CADyB,GACrBE,GADM;AAAA,CADhB;;AAIA,MAAMC,aAAa,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC9B,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA;AAAN,MAAcF,CAApB;AAAA,QACEG,WAAW,GAAG,CAAC,CAACD,GADlB;AAAA,QAEEE,UAAU,GAAGD,WAAW,IAAID,GAAG,CAAC,CAAD,CAFjC;AAAA,QAGEG,KAAK,GAAGN,CAAC,CAACE,EAAD,CAHX;;AAIA,SAAOE,WAAW,GACdT,SAAS,CAACU,UAAD,CAAT,GACIZ,OAAO,CAACa,KAAD,EAAQD,UAAR,CADX,GAEIR,WAAW,CAACU,UAAU,CAACD,KAAD,CAAX,CAHD,GAIdA,KAJJ;AAKD,CAVD;;AAYO,MAAME,aAAa,GAAG;AAAA,MAAC;AAC5BC,IAAAA,EAD4B;AAE5BC,IAAAA,KAF4B;AAG5BC,IAAAA,OAH4B;AAI5BC,IAAAA,IAJ4B;AAK5BC,IAAAA,UAL4B;AAM5BC,IAAAA;AAN4B,GAAD;AAAA,SAOtB;AACLL,IAAAA,EADK;AAELC,IAAAA,KAFK;AAGLC,IAAAA,OAHK;AAILI,IAAAA,OAAO,EAAE;AACPvB,MAAAA,YADO;AAEP,SAAGsB;AAFI,KAJJ;AAQLF,IAAAA,IARK;AASLC,IAAAA,UATK;AAULG,IAAAA,UAAU,EAAE,OAVP;AAWLC,IAAAA,QAAQ,EAAE;AACRR,MAAAA,EAAE,EAAEA,EADI;AACAS,MAAAA,GAAG,EAAET;AADL;AAXL,GAPsB;AAAA,CAAtB;;;;AAuBA,MAAMU,WAAW,GAAG,UACzBR,OADyB,EAEzBC,IAFyB,EAGzBQ,UAHyB;AAAA,MACzBT,OADyB;AACzBA,IAAAA,OADyB,GACjB,EADiB;AAAA;;AAAA,MAEzBC,IAFyB;AAEzBA,IAAAA,IAFyB,GAEpB,EAFoB;AAAA;;AAAA,MAGzBQ,UAHyB;AAGzBA,IAAAA,UAHyB,GAGd,IAHc;AAAA;;AAAA,SAItBR,IAAI,CACNS,GADE,CACE,CAACrB,CAAD,EAAIsB,MAAJ,KAAe;AACjBX,IAAAA,OAAO,CAACY,OAAR,CAAgBtB,CAAC,IAAI;AACnBD,MAAAA,CAAC,CAACC,CAAC,CAACC,EAAH,CAAD,GAAUH,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAvB;AACD,KAFD;AAGAD,IAAAA,CAAC,CAACS,EAAF,GAAOT,CAAC,CAACoB,UAAD,CAAD,WAAsBE,MAA7B;AACA,WAAOtB,CAAP;AACF,GAPE,CAJsB;AAAA,CAApB","sourcesContent":["import AdapterFn from './AdapterFn'\r\n\r\nconst { numberFormat, roundBy } = AdapterFn;\r\n\r\nconst _isNumber = n => typeof n === 'number'\r\n, _replaceNaN = (n, str='') => n - n === 0\r\n    ? n : str;\r\n\r\nconst _getCellValue = (r, h) => {\r\n  const { pn, toN } = h\r\n  , _isToNumber = !!toN\r\n  , _toFixedBy = _isToNumber && toN[0]\r\n  , _strV = r[pn];\r\n  return _isToNumber\r\n    ? _isNumber(_toFixedBy)\r\n        ? roundBy(_strV, _toFixedBy)\r\n        : _replaceNaN(parseFloat(_strV))\r\n    : _strV;\r\n};\r\n\r\nexport const crTableConfig = ({\r\n  id,\r\n  title,\r\n  headers,\r\n  rows,\r\n  dataSource,\r\n  fns\r\n}) => ({\r\n  id,\r\n  title,\r\n  headers,\r\n  tableFn: {\r\n    numberFormat,\r\n    ...fns\r\n  },\r\n  rows,\r\n  dataSource,\r\n  zhCompType: 'TABLE',\r\n  zhConfig: {\r\n    id: id, key: id\r\n  }\r\n})\r\n\r\nexport const crTableRows = (\r\n  headers=[],\r\n  rows=[],\r\n  idPropName='id'\r\n) => rows\r\n  .map((r, rIndex) => {\r\n     headers.forEach(h => {\r\n       r[h.pn] = _getCellValue(r, h);\r\n     })\r\n     r.id = r[idPropName] || `id${rIndex}`\r\n     return r;\r\n  });\r\n"],"file":"toTableFn.js"}