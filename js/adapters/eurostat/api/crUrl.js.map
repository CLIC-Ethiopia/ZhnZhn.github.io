{"version":3,"sources":["../../../../src/adapters/eurostat/api/crUrl.js"],"names":["URL","apiFn","QUERY_TAIL","isCategory","isMap","createMapValue","mapFn","createMapSlice","crUrl","option","seriaType","metric","geo","itemMap","time","_geo","_metric","indexOf","mapValue","mapSlice","_mapValue","zhMapSlice"],"mappings":";;;;;;;;;AAAA;;AACA;;IAGEA,G,GAEEC,iB,CAFFD,G;IAAKE,U,GAEHD,iB,CAFGC,U;IACLC,U,GACEF,iB,CADFE,U;IAAYC,K,GACVH,iB,CADUG,K;IAENC,c,GAAmCC,iB,CAAnCD,c;IAAgBE,c,GAAmBD,iB,CAAnBC,c;;AAExB,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,MAAD,EAAY;AAAA,MAEtBC,SAFsB,GAMpBD,MANoB,CAEtBC,SAFsB;AAAA,MAGtBC,MAHsB,GAMpBF,MANoB,CAGtBE,MAHsB;AAAA,MAGdC,GAHc,GAMpBH,MANoB,CAGdG,GAHc;AAAA,MAItBC,OAJsB,GAMpBJ,MANoB,CAItBI,OAJsB;AAAA,MAKtBC,IALsB,GAMpBL,MANoB,CAKtBK,IALsB;;AAQxB,MAAI,CAACX,UAAU,CAACO,SAAD,CAAf,EAA2B;AACzB,QAAMK,IAAI,YAAUH,GAApB;AAAA,QACEI,OAAO,GAAIL,MAAM,CAACM,OAAP,CAAe,GAAf,MAAwB,CAAC,CAA1B,GACHN,MADG,SAENA,MAHN;;AAKA,gBAAUX,GAAV,GAAgBgB,OAAhB,SAA2BD,IAA3B,GAAkCb,UAAlC;AACD;;AAfuB,MAiBhBgB,QAjBgB,GAiBOL,OAjBP,CAiBhBK,QAjBgB;AAAA,MAiBNC,QAjBM,GAiBON,OAjBP,CAiBNM,QAjBM;AAAA,MAkBlBC,SAlBkB,GAkBNF,QAAQ,IAAIb,cAAc,CAACI,MAAD,EAASI,OAAT,CAlBpB;;AAmBxB,MAAIT,KAAK,CAACM,SAAD,CAAT,EAAsB;AACpBD,IAAAA,MAAM,CAACY,UAAP,GAAoBF,QAAQ,iCACnBA,QADmB;AACTL,MAAAA,IAAI,EAAJA;AADS,uCAEnBP,cAAc,CAACE,MAAD,EAASI,OAAT,CAFK;AAEcC,MAAAA,IAAI,EAAJA;AAFd,MAA5B;AAGA,gBAAUd,GAAV,GAAgBoB,SAAhB;AACD,GALD,MAKO;AACL,gBAAUpB,GAAV,GAAgBoB,SAAhB,cAAkCN,IAAlC;AACD;AACF,CA3BD;;eA6BeN,K","sourcesContent":["import apiFn from './apiFn'\r\nimport mapFn from './mapFn'\r\n\r\nconst {\r\n  URL, QUERY_TAIL,\r\n  isCategory, isMap\r\n} = apiFn;\r\nconst { createMapValue, createMapSlice } = mapFn;\r\n\r\nconst crUrl = (option) => {\r\n  const {\r\n    seriaType,\r\n    metric, geo,\r\n    itemMap,\r\n    time\r\n  } = option;\r\n\r\n  if (!isCategory(seriaType)){\r\n    const _geo = `geo=${geo}`\r\n    , _metric = (metric.indexOf('?') === -1)\r\n        ? `${metric}?`\r\n        : metric;\r\n\r\n    return `${URL}${_metric}&${_geo}${QUERY_TAIL}`;\r\n  }\r\n\r\n  const { mapValue, mapSlice } = itemMap\r\n      , _mapValue = mapValue || createMapValue(option, itemMap);\r\n  if (isMap(seriaType)) {\r\n    option.zhMapSlice = mapSlice\r\n      ? { ...mapSlice, time }\r\n      : { ...createMapSlice(option, itemMap), time };\r\n    return `${URL}${_mapValue}`;\r\n  } else {\r\n    return `${URL}${_mapValue}&time=${time}`;\r\n  }\r\n};\r\n\r\nexport default crUrl\r\n"],"file":"crUrl.js"}