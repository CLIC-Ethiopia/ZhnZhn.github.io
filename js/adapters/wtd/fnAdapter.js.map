{"version":3,"sources":["../../../src/adapters/wtd/fnAdapter.js"],"names":["toFloatOrNull","AdapterFn","valueMoving","toSeriesData","AdapterStockFn","_crZhConfig","_itemId","value","dataSource","id","key","item","linkFn","isWithLegend","isWithoutAdd","legend","stockSeriesLegend","_crInfo","title","toDate","fromDate","frequency","name","_crPoint","date","open","close","high","low","volume","fnAdapter","crData","json","option","isNotZoomToMinMax","isDrawDeltaExtrems","history","keys","Object","arrPoint","max","length","i","_dateKey","push","crConfigOption","data","zhConfig","info"],"mappings":"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","sourcesContent":["import AdapterFn from '../AdapterFn'\r\nimport AdapterStockFn from '../AdapterStockFn'\r\n\r\nconst {\r\n  toFloatOrNull,\r\n  valueMoving\r\n} = AdapterFn;\r\nconst { toSeriesData } = AdapterStockFn;\r\n\r\nconst _crZhConfig = ({ _itemId, value, dataSource }) => ({\r\n  dataSource,\r\n  id: _itemId,\r\n  key: _itemId,\r\n  item: value,\r\n  linkFn: \"NASDAQ\",\r\n  isWithLegend: true,\r\n  isWithoutAdd: true,\r\n  legend: AdapterFn.stockSeriesLegend()\r\n});\r\n\r\nconst _crInfo = ({ title, toDate, fromDate }) => ({\r\n  frequency: \"Daily\",\r\n  name: title,\r\n  toDate, fromDate\r\n});\r\n\r\nconst _crPoint = ({ open, close, high, low, volume } = {}, date) => ({\r\n  date,\r\n  open: toFloatOrNull(open),\r\n  close: toFloatOrNull(close),\r\n  high: toFloatOrNull(high),\r\n  low: toFloatOrNull(low),\r\n  volume: toFloatOrNull(volume)\r\n});\r\n\r\nconst fnAdapter = {\r\n\r\n   crData: (json, option) => {\r\n    const {\r\n      isNotZoomToMinMax,\r\n      isDrawDeltaExtrems\r\n    } = option\r\n    , { history } = json\r\n    , keys = Object.keys(history)\r\n    , arrPoint = []\r\n    , max = keys.length;\r\n    let i = 0;\r\n    for (i; i<max; i++){\r\n      const _dateKey = keys[i];\r\n      arrPoint.push(\r\n        _crPoint(history[_dateKey], _dateKey)\r\n      )\r\n    }\r\n    return toSeriesData(arrPoint, {\r\n      isNotZoomToMinMax,\r\n      isDrawDeltaExtrems\r\n    });\r\n  },\r\n\r\n  crConfigOption: ({ data, option }) => ({\r\n    zhConfig: _crZhConfig(option),\r\n    valueMoving: valueMoving(data),\r\n    info: _crInfo(option)\r\n  })\r\n};\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}