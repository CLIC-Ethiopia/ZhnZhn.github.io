{"version":3,"sources":["../../../src/adapters/crypto-compare/CrcApi.js"],"names":["getValue","fnAdapter","C","URL","HD","REQUEST_ERROR","RESPONSE_EMPTY","DF_ID","_getValue","items","dfValue","_hdUrl","option","value","_rUrl","DF","CrcApi","getRequestUrl","dfSubLoadId","_crUrl","checkResponse","json","Response","errCaption","message","Message"],"mappings":";;;;;;;AAAA;;IAEQA,Q,GAAaC,qB,CAAbD,Q;AAER,IAAME,CAAC,GAAG;AACRC,EAAAA,GAAG,EAAE,oCADG;AAERC,EAAAA,EAAE,EAAE,eAFI;AAGRC,EAAAA,aAAa,EAAE,eAHP;AAIRC,EAAAA,cAAc,EAAE,gBAJR;AAKRC,EAAAA,KAAK,EAAE;AALC,CAAV;;AAQA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD;AAAA,MAACA,KAAD;AAACA,IAAAA,KAAD,GAAO,EAAP;AAAA;;AAAA,SAChBT,QAAQ,CAACS,KAAK,CAAC,CAAD,CAAN,EAAW;AAAEC,IAAAA,OAAO,EAAER,CAAC,CAACK;AAAb,GAAX,CADQ;AAAA,CAAlB;;AAGA,IAAMI,MAAM,GAAG,SAATA,MAAS,CAACC,MAAD,EAAY;AACzB,MAAMC,KAAK,GAAGL,SAAS,CAACI,MAAM,CAACH,KAAR,CAAvB;;AACAG,EAAAA,MAAM,CAACC,KAAP,GAAeA,KAAf;AACA,cAAUX,CAAC,CAACC,GAAZ,GAAkBD,CAAC,CAACE,EAApB,cAA+BS,KAA/B;AACD,CAJD;;AAOA,IAAMC,KAAK,GAAG;AACZC,EAAAA,EAAE,EAAEJ,MADQ;AAEZP,EAAAA,EAAE,EAAEO;AAFQ,CAAd;AAKA,IAAMK,MAAM,GAAG;AACbC,EAAAA,aADa,yBACCL,MADD,EACQ;AACb,QAAEM,WAAF,GAAkBN,MAAlB,CAAEM,WAAF;AAAA,QACJC,MADI,GACKL,KAAK,CAACI,WAAD,CAAL,IAAsBJ,KAAK,CAACC,EADjC;;AAEN,WAAOI,MAAM,CAACP,MAAD,CAAb;AACD,GALY;AAMbQ,EAAAA,aANa,yBAMCC,IAND,EAMM;AACjB,QAAK,EAAEA,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkB,OAA5B,CAAL,EAA2C;AACzC,YAAM;AACJC,QAAAA,UAAU,EAAErB,CAAC,CAACG,aADV;AAEJmB,QAAAA,OAAO,EAAEH,IAAI,GACPA,IAAI,CAACI,OAAL,IAAgB,EADT,GAEPvB,CAAC,CAACI;AAJJ,OAAN;AAMD;;AACD,WAAO,IAAP;AACD;AAhBY,CAAf;eAmBeU,M","sourcesContent":["import fnAdapter from './fnAdapter'\r\n\r\nconst { getValue } = fnAdapter;\r\n\r\nconst C = {\r\n  URL: 'https://min-api.cryptocompare.com/',\r\n  HD: 'data/histoday',\r\n  REQUEST_ERROR: 'Request Error',\r\n  RESPONSE_EMPTY: 'Response Empty',\r\n  DF_ID: 'BTC'\r\n};\r\n\r\nconst _getValue = (items=[]) =>\r\n  getValue(items[0], { dfValue: C.DF_ID });\r\n\r\nconst _hdUrl = (option) => {\r\n  const value = _getValue(option.items);\r\n  option.value = value\r\n  return `${C.URL}${C.HD}?fsym=${value}&tsym=USD&limit=600`;\r\n}\r\n\r\n\r\nconst _rUrl = {\r\n  DF: _hdUrl,\r\n  HD: _hdUrl\r\n};\r\n\r\nconst CrcApi = {\r\n  getRequestUrl(option){\r\n    const { dfSubLoadId } = option\r\n    , _crUrl = _rUrl[dfSubLoadId] || _rUrl.DF;\r\n    return _crUrl(option);\r\n  },\r\n  checkResponse(json){\r\n    if ( !(json && json.Response !== 'Error') ){\r\n      throw {\r\n        errCaption: C.REQUEST_ERROR,\r\n        message: json\r\n            ? json.Message || ''\r\n            : C.RESPONSE_EMPTY\r\n      };\r\n    }\r\n    return true;\r\n  }\r\n};\r\n\r\nexport default CrcApi\r\n"],"file":"CrcApi.js"}