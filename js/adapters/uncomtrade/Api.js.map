{"version":3,"sources":["../../../src/adapters/uncomtrade/Api.js"],"names":["C","ALL","BU_ALL_PARAMS","NU_ALL_PARAMS","BU_PREFIX","NU_PREFIX","DF_RG","DF_MEASURE","UnComtradeApi","getRequestUrl","option","one","two","rg","nativeHref","checkResponse","json","addPropsTo","v","measure","arr","substring","split","Object","assign"],"mappings":";;;;;;AACA,IAAMA,IAAI;AACRC,OAAK,KADG;AAERC,iBAAe,cAFP;AAGRC,iBAAe,KAHP;AAIR;AACAC,aAAW,wEALH;AAMR;AACAC,aAAW,0EAPH;;AASRC,SAAO,CATC;AAURC,cAAY;AAVJ,CAAV;;AAaA,IAAMC,gBAAgB;AACpBC,eADoB,yBACNC,MADM,EACC;AAAA,sBACcA,MADd,CACXC,GADW;AAAA,QACXA,GADW,+BACPX,EAAEC,GADK;AAAA,QACAW,GADA,GACcF,MADd,CACAE,GADA;AAAA,qBACcF,MADd,CACKG,EADL;AAAA,QACKA,EADL,8BACQ,CADR;;AAEnB,QAAIF,QAAQX,EAAEC,GAAd,EAAmB;AACjBS,aAAOI,UAAP,GAAuBd,EAAEK,SAAzB,WAAwCM,GAAxC,YAAkDC,GAAlD;AACA,aAAUZ,EAAEI,SAAZ,YAA4BS,EAA5B,WAAoCF,GAApC,YAA8CC,GAA9C;AACD,KAHD,MAGO;AACLF,aAAOI,UAAP,GAAuBd,EAAEK,SAAzB,SAAsCL,EAAEG,aAAxC,WAA2DQ,GAA3D,YAAqEC,GAArE;AACA,aAAUZ,EAAEI,SAAZ,SAAyBJ,EAAEE,aAA3B,YAA+CW,EAA/C,WAAuDF,GAAvD,YAAiEC,GAAjE;AACD;AACF,GAVmB;AAYpBG,eAZoB,yBAYNC,IAZM,EAYD;AACjB,WAAO,IAAP;AACD,GAdmB;AAgBpBC,YAhBoB,sBAgBTP,MAhBS,EAgBF;AAAA,QAERC,GAFQ,GAKND,MALM,CAERC,GAFQ;AAAA,QAEHO,CAFG,GAKNR,MALM,CAEHQ,CAFG;AAAA,sBAKNR,MALM,CAGRG,EAHQ;AAAA,QAGRA,EAHQ,+BAGLb,EAAEM,KAHG;AAAA,0BAKNI,MALM,CAIRS,OAJQ;AAAA,QAIRA,OAJQ,mCAIAnB,EAAEO,UAJF;;;AAOhB,QAAI,CAACI,GAAL,EAAU;AACR,UAAMS,MAAMF,EAAEG,SAAF,CAAY,CAAZ,EAAeC,KAAf,CAAqB,GAArB,CAAZ;AACAC,aAAOC,MAAP,CAAcd,MAAd,EAAsB;AACpBC,aAAKS,IAAI,CAAJ,CADe;AAEpBR,aAAKQ,IAAI,CAAJ;AAFe,OAAtB;AAID;;AAEDG,WAAOC,MAAP,CAAcd,MAAd,EAAsB,EAAEG,MAAF,EAAMM,gBAAN,EAAtB;AACD;AAhCmB,CAAtB;;kBAmCeX,a","file":"Api.js","sourcesContent":["\r\nconst C = {\r\n  ALL: 'all',\r\n  BU_ALL_PARAMS: 'p=0&max=3000',\r\n  NU_ALL_PARAMS: 'p=0',\r\n  //rg=2 Export\r\n  BU_PREFIX: 'https://comtrade.un.org/api/get?fmt=JSON&head=M&freq=A&px=H4&ps=recent',\r\n  //BASE_URL: 'https://comtrade.un.org/api/get?fmt=JSON&r=68&freq=A&px=H4&cc=100850&rg=2&ps=2010'\r\n  NU_PREFIX: 'https://comtrade.un.org/db/dqBasicQueryResults.aspx?px=H4&y=2016&so=1001',\r\n\r\n  DF_RG: 2,\r\n  DF_MEASURE: 'NetWeight'\r\n};\r\n\r\nconst UnComtradeApi = {\r\n  getRequestUrl(option){\r\n    const { one=C.ALL, two, rg=2 } = option;\r\n    if (one !== C.ALL) {\r\n      option.nativeHref = `${C.NU_PREFIX}&r=${one}&cc=${two}`;\r\n      return `${C.BU_PREFIX}&rg=${rg}&r=${one}&cc=${two}`;\r\n    } else {\r\n      option.nativeHref = `${C.NU_PREFIX}&${C.NU_ALL_PARAMS}&r=${one}&cc=${two}`;\r\n      return `${C.BU_PREFIX}&${C.BU_ALL_PARAMS}&rg=${rg}&r=${one}&cc=${two}`;\r\n    }\r\n  },\r\n\r\n  checkResponse(json){\r\n    return true;\r\n  },\r\n\r\n  addPropsTo(option){\r\n    const {\r\n            one, v,\r\n            rg=C.DF_RG,\r\n            measure=C.DF_MEASURE\r\n          } = option;\r\n\r\n    if (!one) {\r\n      const arr = v.substring(3).split('_')\r\n      Object.assign(option, {\r\n        one: arr[0],\r\n        two: arr[1]\r\n      })\r\n    }\r\n\r\n    Object.assign(option, { rg, measure })\r\n  }\r\n};\r\n\r\nexport default UnComtradeApi\r\n"]}