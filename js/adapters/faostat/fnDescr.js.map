{"version":3,"sources":["../../../src/adapters/faostat/fnDescr.js"],"names":["toUpperCaseFirst","AdapterFn","DATASET_EMPTY","_crBlackSpan","text","_crWrSpan","_crDescrRow","title","value","code","_codeText","_toDescr","item","Area","Domain","Item","Element","Unit","_Unit","fnDescr","toInfo","json","subtitle","data","_itemNewest","length","_itemOldest","_dateNewest","Year","_dateOldest","_descr","description","frequency","name","toDate","fromDate"],"mappings":";;;;;;;AACA;;IAEQA,gB,GAAqBC,qB,CAArBD,gB;AAER,IAAME,aAAa,GAAG,kBAAtB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI;AAAA,SAAIA,IAAI,mCAAiCA,IAAjC,eAAgD,EAAxD;AAAA,CAAzB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAD,IAAI;AAAA,SAAIA,IAAI,wEAAsEA,IAAtE,eAAqF,EAA7F;AAAA,CAAtB;;AAEA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,KAAR,EAAeC,IAAf,EAA2B;AAAA,MAAZA,IAAY;AAAZA,IAAAA,IAAY,GAAP,EAAO;AAAA;;AAC7C,MAAMC,SAAS,GAAGD,IAAI,gBAAcA,IAAd,SAAwB,EAA9C;;AACA,SAAOD,KAAK,aACAH,SAAS,CAACE,KAAK,GAAC,GAAP,CADT,SACwBJ,YAAY,CAACK,KAAD,CADpC,GAC8CE,SAD9C,cAER,EAFJ;AAGD,CALD;;AAOA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAU;AAAA,mBACiCA,IADjC,CACjBC,IADiB;AAAA,MACjBA,IADiB,2BACZ,EADY;AAAA,qBACiCD,IADjC,CACRE,MADQ;AAAA,MACRA,MADQ,6BACD,EADC;AAAA,mBACiCF,IADjC,CACGG,IADH;AAAA,MACGA,IADH,2BACQ,EADR;AAAA,sBACiCH,IADjC,CACYI,OADZ;AAAA,MACYA,OADZ,8BACoB,EADpB;AAAA,MACwBC,IADxB,GACiCL,IADjC,CACwBK,IADxB;AAAA,MAEnBC,KAFmB,GAEXlB,gBAAgB,CAACiB,IAAD,CAFL;;AAGzB,yBACIX,WAAW,CAAC,MAAD,EAASO,IAAT,EAAeD,IAAI,CAAC,WAAD,CAAnB,CADf,cAEIN,WAAW,CAAC,QAAD,EAAWQ,MAAX,EAAmBF,IAAI,CAAC,aAAD,CAAvB,CAFf,cAGIN,WAAW,CAAC,MAAD,EAASS,IAAT,EAAeH,IAAI,CAAC,WAAD,CAAnB,CAHf,cAIIN,WAAW,CAAC,SAAD,EAAYU,OAAZ,EAAqBJ,IAAI,CAAC,cAAD,CAAzB,CAJf,cAKIN,WAAW,CAAC,MAAD,EAASY,KAAT,CALf,oBAMSN,IAAI,CAAC,kBAAD,CAAJ,IAA4BV,aANrC;AAQD,CAXD;;AAaA,IAAMiB,OAAO,GAAG;AACdC,EAAAA,MADc,kBACPC,IADO,EACDd,KADC,EACMe,QADN,EACgB;AAAA,qBACRD,IADQ,CACpBE,IADoB;AAAA,QACpBA,IADoB,2BACf,EADe;AAAA,QAE1BC,WAF0B,GAEZD,IAAI,CAACA,IAAI,CAACE,MAAL,GAAY,CAAb,CAAJ,IAAuB,EAFX;AAAA,QAG1BC,WAH0B,GAGZH,IAAI,CAAC,CAAD,CAAJ,IAAW,EAHC;AAAA,QAI1BI,WAJ0B,GAIZH,WAAW,CAACI,IAAZ,IAAoB,EAJR;AAAA,QAK1BC,WAL0B,GAKZH,WAAW,CAACE,IAAZ,IAAoB,EALR;AAAA,QAM1BE,MAN0B,GAMjBnB,QAAQ,CAACa,WAAD,CANS;;AAO5B,WAAO;AACLO,MAAAA,WAAW,EAAED,MADR;AAELE,MAAAA,SAAS,EAAE,QAFN;AAGLC,MAAAA,IAAI,EAAE1B,KAAK,GAAG,IAAR,GAAee,QAHhB;AAILY,MAAAA,MAAM,EAAEP,WAJH;AAKLQ,MAAAA,QAAQ,EAAEN;AALL,KAAP;AAOA;AAfY,CAAhB;eAkBeV,O","sourcesContent":["\r\nimport AdapterFn from '../AdapterFn'\r\n\r\nconst { toUpperCaseFirst } = AdapterFn;\r\n\r\nconst DATASET_EMPTY = \"Dataset is empty\";\r\n\r\nconst _crBlackSpan = text => text ? `<span style='color:black;'>${text}</span>`: '';\r\nconst _crWrSpan = text => text ? `<span style='display:inline-block;width:75px;text-align:right;'>${text}</span>`: '';\r\n\r\nconst _crDescrRow = (title, value, code='') => {\r\n  const _codeText = code ? ` (Code: ${code})` : '';\r\n  return value\r\n    ? `<div>${_crWrSpan(title+':')} ${_crBlackSpan(value)}${_codeText}</div>`\r\n    : '';\r\n};\r\n\r\nconst _toDescr = (item) => {\r\n  const { Area='', Domain='', Item='', Element='', Unit } = item\r\n      , _Unit = toUpperCaseFirst(Unit);\r\n  return `<div>\r\n    ${_crDescrRow('Area', Area, item['Area Code'])}\r\n    ${_crDescrRow('Domain', Domain, item['Domain Code'])}\r\n    ${_crDescrRow('Item', Item, item['Item Code'])}\r\n    ${_crDescrRow('Element', Element, item['Element Code'])}\r\n    ${_crDescrRow('Unit', _Unit)}\r\n    <div>${item['Flag Description'] || DATASET_EMPTY}</div>\r\n  </div>`;\r\n};\r\n\r\nconst fnDescr = {\r\n  toInfo(json, title, subtitle) {\r\n    const { data=[] } = json\r\n    , _itemNewest = data[data.length-1] || {}\r\n    , _itemOldest = data[0] || {}\r\n    , _dateNewest = _itemNewest.Year || ''\r\n    , _dateOldest = _itemOldest.Year || ''\r\n    , _descr = _toDescr(_itemNewest);\r\n    return {\r\n      description: _descr,\r\n      frequency: \"Annual\",\r\n      name: title + ': ' + subtitle,\r\n      toDate: _dateNewest,\r\n      fromDate: _dateOldest\r\n    };\r\n   }\r\n}\r\n\r\nexport default fnDescr\r\n"],"file":"fnDescr.js"}