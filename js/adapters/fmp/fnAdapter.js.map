{"version":3,"sources":["../../../src/adapters/fmp/fnAdapter.js"],"names":["crError","AdapterFn","ymdToUTC","valueMoving","crItemLink","_crZhConfig","_itemKey","_symbol","_propName","dataSource","id","key","itemCaption","isWithoutAdd","_crName","items","map","item","caption","join","_crDescription","bind","_crInfo","_itemUrl","name","description","_fGetByPropName","propName","obj","fnAdapter","getCaption","getValue","crData","metrics","x","date","y","parseFloat","reverse","crCaption","title","subtitle","crSeriaType","seriaType","crConfigOption","json","option","data","zhConfig","info"],"mappings":"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","sourcesContent":["import AdapterFn from '../AdapterFn'\r\n\r\nconst {\r\n  crError,\r\n  ymdToUTC,\r\n  valueMoving,\r\n  crItemLink\r\n} = AdapterFn;\r\n\r\nconst _crZhConfig = ({\r\n  _itemKey,\r\n  _symbol, _propName,\r\n  dataSource\r\n}) => ({\r\n  id: _itemKey, key: _itemKey,\r\n  itemCaption: _symbol+'_'+_propName,\r\n  isWithoutAdd: true,\r\n  dataSource\r\n});\r\n\r\nconst _crName = items => items\r\n  .map(item => item.caption)\r\n  .join(': ');\r\nconst _crDescription = crItemLink\r\n  .bind(null, 'Financial Modeling Prep');\r\n\r\nconst _crInfo = ({ items, _itemUrl }) => ({\r\n  name: _crName(items),\r\n  description: _crDescription(_itemUrl)\r\n});\r\n\r\nconst _fGetByPropName = propName => obj => obj && obj[propName] || '';\r\n\r\nconst fnAdapter = {\r\n  crError,\r\n  getCaption: _fGetByPropName('caption'),\r\n  getValue: _fGetByPropName('value'),\r\n\r\n  crData: (metrics, propName) => {\r\n    return metrics.map(item => ({\r\n      x: ymdToUTC(item.date),\r\n      y: parseFloat(item[propName])\r\n    })).reverse();\r\n  },\r\n\r\n  crCaption: ({ items }) => ({\r\n    title: fnAdapter.getCaption(items[0]),\r\n    subtitle: fnAdapter.getCaption(items[1]) + ': ' + fnAdapter.getCaption(items[2])\r\n  }),\r\n  crSeriaType: seriaType => seriaType === 'COLUMN'\r\n    ? 'column'\r\n    : 'spline',\r\n\r\n  crConfigOption: ({ json, option, data }) => ({\r\n    zhConfig: _crZhConfig(option),\r\n    valueMoving: valueMoving(data),\r\n    info: _crInfo(option)\r\n  })\r\n};\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}