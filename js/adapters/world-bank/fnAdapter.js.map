{"version":3,"sources":["../../../src/adapters/world-bank/fnAdapter.js"],"names":["_isArr","Array","isArray","_crInfo","title","subtitle","items","name","c","_getCountryIndicator","country","v","indicator","fnAdapter","crError","getCi","crData","json","arrIn","d","forEach","p","value","date","push","x","y","reverse","crConfOption","option","_itemKey","linkItem","dataSource","info","zhConfig","key","id","itemCaption","linkFn","item"],"mappings":";;;;;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAGC,KAAK,CAACC,OAArB;;AAEA,MAAMC,OAAO,GAAG;AAAA,MAAC;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA;AAAnB,GAAD;AAAA,SAAiC;AAC/CC,IAAAA,IAAI,EAAKH,KAAL,UAAeC,QAAf,WAA4BC,KAAK,CAAC,CAAD,CAAL,CAASE,CAAT,IAAc,EAA1C;AAD2C,GAAjC;AAAA,CAAhB;;AAIA,MAAMC,oBAAoB,GAAG;AAAA,MAAC;AAAEH,IAAAA,KAAK,GAAC;AAAR,GAAD;AAAA,SAAmB;AAC9CI,IAAAA,OAAO,EAAEJ,KAAK,CAAC,CAAD,CAAL,CAASK,CAD4B;AAE9CC,IAAAA,SAAS,EAAEN,KAAK,CAAC,CAAD,CAAL,CAASK;AAF0B,GAAnB;AAAA,CAA7B;;AAKA,MAAME,SAAS,GAAG;AAChBC,EAAAA,OAAO,EAAPA,aADgB;AAEhBC,EAAAA,KAAK,EAAEN,oBAFS;AAIhBO,EAAAA,MAAM,EAAGC,IAAD,IAAU;AAChB,UAAMC,KAAK,GAAGD,IAAI,CAAC,CAAD,CAAlB;;AACA,QAAI,CAACjB,MAAM,CAACkB,KAAD,CAAX,EAAoB;AAClB,aAAO,EAAP;AACD;;AACD,UAAMC,CAAC,GAAG,EAAV;AACAD,IAAAA,KAAK,CAACE,OAAN,CAAcC,CAAC,IAAI;AACjB,UAAIA,CAAC,IAAIA,CAAC,CAACC,KAAF,IAAW,IAAhB,IAAwBD,CAAC,CAACE,IAA9B,EAAoC;AAClCJ,QAAAA,CAAC,CAACK,IAAF,CAAO;AACLC,UAAAA,CAAC,EAAE,yBAASJ,CAAC,CAACE,IAAX,CADE;AAELG,UAAAA,CAAC,EAAEL,CAAC,CAACC;AAFA,SAAP;AAID;AACF,KAPD;AAQA,WAAOH,CAAC,CAACQ,OAAF,EAAP;AACD,GAnBe;AAqBhBC,EAAAA,YAAY,EAAGC,MAAD,IAAY;AACxB,UAAM;AACJC,MAAAA,QADI;AACM1B,MAAAA,KADN;AAEJ2B,MAAAA,QAFI;AAEMC,MAAAA;AAFN,QAGFH,MAHJ;AAIA,WAAO;AACLI,MAAAA,IAAI,EAAE9B,OAAO,CAAC0B,MAAD,CADR;AAELK,MAAAA,QAAQ,EAAE;AACRC,QAAAA,GAAG,EAAEL,QADG;AAERM,QAAAA,EAAE,EAAEN,QAFI;AAGRO,QAAAA,WAAW,EAAEjC,KAHL;AAIRkC,QAAAA,MAAM,EAAE,IAJA;AAKRC,QAAAA,IAAI,EAAE,EAAE,GAAGR;AAAL,SALE;AAMRC,QAAAA;AANQ;AAFL,KAAP;AAWD;AArCe,CAAlB;eAwCenB,S","sourcesContent":["import { ymdToUTC } from '../AdapterFn';\r\nimport { crError } from '../crFn';\r\n\r\nconst _isArr = Array.isArray;\r\n\r\nconst _crInfo = ({ title, subtitle, items }) => ({\r\n  name: `${title}: ${subtitle} (${items[1].c || ''})`\r\n});\r\n\r\nconst _getCountryIndicator = ({ items=[] }) => ({\r\n  country: items[0].v,\r\n  indicator: items[1].v\r\n});\r\n\r\nconst fnAdapter = {\r\n  crError,\r\n  getCi: _getCountryIndicator,\r\n\r\n  crData: (json) => {\r\n    const arrIn = json[1];\r\n    if (!_isArr(arrIn)) {\r\n      return [];\r\n    }\r\n    const d = [];\r\n    arrIn.forEach(p => {\r\n      if (p && p.value != null && p.date) {\r\n        d.push({\r\n          x: ymdToUTC(p.date),\r\n          y: p.value\r\n        })\r\n      }\r\n    })\r\n    return d.reverse();\r\n  },\r\n\r\n  crConfOption: (option) => {\r\n    const {\r\n      _itemKey, title,\r\n      linkItem, dataSource\r\n    } = option;\r\n    return {\r\n      info: _crInfo(option),\r\n      zhConfig: {\r\n        key: _itemKey,\r\n        id: _itemKey,\r\n        itemCaption: title,\r\n        linkFn: 'DF',\r\n        item: { ...linkItem },\r\n        dataSource\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}