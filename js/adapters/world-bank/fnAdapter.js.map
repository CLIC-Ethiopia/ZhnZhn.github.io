{"version":3,"sources":["../../../src/adapters/world-bank/fnAdapter.js"],"names":["ymdToUTC","AdapterFn","valueMoving","crSeria","_crInfo","title","subtitle","two","name","fnAdapter","crId","option","one","crData","arrIn","Array","isArray","d","forEach","p","value","date","push","x","y","reverse","crConfigOptions","data","linkItem","dataSource","_id","info","zhConfig","key","id","itemCaption","linkFn","item"],"mappings":";;;;;;;;;AAAA;;IAGEA,Q,GAGEC,qB,CAHFD,Q;IACAE,W,GAEED,qB,CAFFC,W;IACAC,O,GACEF,qB,CADFE,O;;AAGF,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,MAAUC,QAAV,QAAUA,QAAV;AAAA,MAAoBC,GAApB,QAAoBA,GAApB;AAAA,SAA+B;AAC7CC,IAAAA,IAAI,EAAKH,KAAL,UAAeC,QAAf,UAA4BC,GAA5B;AADyC,GAA/B;AAAA,CAAhB;;AAIA,IAAME,SAAS,GAAG;AAChBN,EAAAA,OAAO,EAAPA,OADgB;AAGhBO,EAAAA,IAAI,EAAE,cAACC,MAAD,EAAY;AAAA,sBACWA,MADX,CACRC,GADQ;AAAA,QACRA,GADQ,4BACJ,EADI;AAAA,sBACWD,MADX,CACAJ,GADA;AAAA,QACAA,GADA,4BACI,EADJ;AAEhB,WAAUK,GAAV,SAAiBL,GAAjB;AACD,GANe;AAOhBM,EAAAA,MAAM,EAAE,gBAACC,KAAD,EAAW;AACjB,QAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAL,EAA2B;AACzB,aAAO,EAAP;AACD;;AACD,QAAMG,CAAC,GAAG,EAAV;AACAH,IAAAA,KAAK,CAACI,OAAN,CAAc,UAAAC,CAAC,EAAI;AACjB,UAAIA,CAAC,IAAIA,CAAC,CAACC,KAAF,IAAW,IAAhB,IAAwBD,CAAC,CAACE,IAA9B,EAAoC;AAClCJ,QAAAA,CAAC,CAACK,IAAF,CAAO;AACLC,UAAAA,CAAC,EAAEvB,QAAQ,CAACmB,CAAC,CAACE,IAAH,CADN;AAELG,UAAAA,CAAC,EAAEL,CAAC,CAACC;AAFA,SAAP;AAID;AACF,KAPD;AAQA,WAAOH,CAAC,CAACQ,OAAF,EAAP;AACD,GArBe;AAuBhBC,EAAAA,eAAe,EAAE,yBAACf,MAAD,EAASgB,IAAT,EAAkB;AAAA,QACzBtB,KADyB,GACOM,MADP,CACzBN,KADyB;AAAA,QAClBuB,QADkB,GACOjB,MADP,CAClBiB,QADkB;AAAA,QACRC,UADQ,GACOlB,MADP,CACRkB,UADQ;AAAA,QAE3BC,GAF2B,GAErBrB,SAAS,CAACC,IAAV,CAAeC,MAAf,CAFqB;;AAGjC,WAAO;AACLoB,MAAAA,IAAI,EAAE3B,OAAO,CAACO,MAAD,CADR;AAELqB,MAAAA,QAAQ,EAAE;AACRC,QAAAA,GAAG,EAAEH,GADG;AAERI,QAAAA,EAAE,EAAEJ,GAFI;AAGRK,QAAAA,WAAW,EAAE9B,KAHL;AAIR+B,QAAAA,MAAM,EAAE,IAJA;AAKRC,QAAAA,IAAI,gCAAOT,QAAP,CALI;AAMRC,QAAAA,UAAU,EAAVA;AANQ,OAFL;AAUL3B,MAAAA,WAAW,EAAEA,WAAW,CAACyB,IAAD;AAVnB,KAAP;AAYD;AAtCe,CAAlB;eAyCelB,S","sourcesContent":["import AdapterFn from '../AdapterFn'\r\n\r\nconst {\r\n  ymdToUTC,\r\n  valueMoving,\r\n  crSeria\r\n} = AdapterFn;\r\n\r\nconst _crInfo = ({ title, subtitle, two }) => ({\r\n  name: `${title}: ${subtitle} (${two})`\r\n});\r\n\r\nconst fnAdapter = {\r\n  crSeria,\r\n  \r\n  crId: (option) => {\r\n    const { one='', two='' } = option;\r\n    return `${one}_${two}`;\r\n  },\r\n  crData: (arrIn) => {\r\n    if (!Array.isArray(arrIn)) {\r\n      return [];\r\n    }\r\n    const d = [];\r\n    arrIn.forEach(p => {\r\n      if (p && p.value != null && p.date) {\r\n        d.push({\r\n          x: ymdToUTC(p.date),\r\n          y: p.value\r\n        })\r\n      }\r\n    })\r\n    return d.reverse();\r\n  },\r\n\r\n  crConfigOptions: (option, data) => {\r\n    const { title, linkItem, dataSource } = option\r\n        , _id = fnAdapter.crId(option);\r\n    return {\r\n      info: _crInfo(option),\r\n      zhConfig: {\r\n        key: _id,\r\n        id: _id,\r\n        itemCaption: title,\r\n        linkFn: 'DF',\r\n        item: { ...linkItem },\r\n        dataSource\r\n      },\r\n      valueMoving: valueMoving(data)\r\n    };\r\n  }\r\n};\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}