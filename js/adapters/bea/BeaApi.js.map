{"version":3,"sources":["../../../src/adapters/bea/BeaApi.js"],"names":["C","URL","DF_ERR_MSG","_crErr","errCaption","message","BeaApi","getRequestUrl","option","TableID","DataSetName","apiKey","ValueName","value","oneCaption","_Frequncy","indexOf","checkResponse","json","BEAAPI","Results","ResError","Error","ErrorDetail","APIErrorCode","Description","APIErrorDescription","Array","isArray","Data"],"mappings":";;;;AACA,IAAMA,CAAC,GAAG;AACR;AACAC,EAAAA,GAAG,EAAE;AAFG,CAAV;AAKA,IAAMC,UAAU,GAAG,sCAAnB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,UAAD,EAAaC,OAAb;AAAA,SAA0B;AACvCD,IAAAA,UAAU,EAAVA,UADuC;AAEvCC,IAAAA,OAAO,EAAPA;AAFuC,GAA1B;AAAA,CAAf;;AAKA,IAAMC,MAAM,GAAG;AACbC,EAAAA,aADa,yBACCC,MADD,EACQ;AAAA,QAEXC,OAFW,GAMTD,MANS,CAEXC,OAFW;AAAA,QAEFC,WAFE,GAMTF,MANS,CAEFE,WAFE;AAAA,QAGXC,MAHW,GAMTH,MANS,CAGXG,MAHW;AAAA,QAIXC,SAJW,GAMTJ,MANS,CAIXI,SAJW;AAAA,QAIAC,KAJA,GAMTL,MANS,CAIAK,KAJA;AAAA,6BAMTL,MANS,CAKXM,UALW;AAAA,QAKXA,UALW,mCAKA,EALA;AAAA,QAObC,SAPa,GAODD,UAAU,CAACE,OAAX,CAAmB,OAAnB,MAAgC,CAAC,CAAjC,GACP,GADO,GACD,GARE;;AAUnB,WAAUhB,CAAC,CAACC,GAAZ,SAAmBU,MAAnB,iBAAqCF,OAArC,qBAA4DC,WAA5D,mBAAqFK,SAArF,SAAkGH,SAAlG,SAA+GC,KAA/G;AACD,GAZY;AAcbI,EAAAA,aAda,yBAcCC,IAdD,EAcM;AAAA,uBACKA,IADL,CACTC,MADS;AAAA,QACTA,MADS,6BACF,EADE;AAAA,0BAEsBA,MAFtB,CAETC,OAFS;AAAA,QAETA,OAFS,gCAED,EAFC;AAAA,QAESC,QAFT,GAEsBF,MAFtB,CAEGG,KAFH;;AAGjB,QAAID,QAAJ,EAAc;AAAA,UACJE,WADI,GACYF,QADZ,CACJE,WADI;AAEZ,YAAMpB,MAAM,CACVkB,QAAQ,CAACG,YAAT,IAAyB,EADf,EAEVD,WAAW,CAACE,WAAZ,IACKJ,QAAQ,CAACK,mBADd,IAEKxB,UAJK,CAAZ;AAMD;;AACD,QAAKkB,OAAO,CAACE,KAAR,IAAiB,CAACK,KAAK,CAACC,OAAN,CAAcR,OAAO,CAACS,IAAtB,CAAvB,EAAqD;AACnD,aAAO1B,MAAM,CAAC,EAAD,EAAKD,UAAL,CAAb;AACD;;AACD,WAAO,IAAP;AACD;AA9BY,CAAf;eAkCeI,M","sourcesContent":["\r\nconst C = {\r\n  //URL: 'https://www.bea.gov/api/data/?Year=ALL&ResultFormat=JSON&method=GETDATA&UserID'\r\n  URL: 'https://apps.bea.gov/api/data/?Year=ALL&ResultFormat=JSON&method=GETDATA&UserID'\r\n};\r\n\r\nconst DF_ERR_MSG = 'No data exist for selected criteria.';\r\n\r\nconst _crErr = (errCaption, message) => ({\r\n  errCaption,\r\n  message\r\n});\r\n\r\nconst BeaApi = {\r\n  getRequestUrl(option){\r\n    const {\r\n            TableID, DataSetName,\r\n            apiKey,\r\n            ValueName, value,\r\n            oneCaption=''\r\n          } = option\r\n        , _Frequncy = oneCaption.indexOf('(A,Q)') === -1\r\n             ? 'A' : 'Q';\r\n\r\n    return `${C.URL}=${apiKey}&TableID=${TableID}&DataSetName=${DataSetName}&Frequency=${_Frequncy}&${ValueName}=${value}`;\r\n  },\r\n\r\n  checkResponse(json){\r\n    const { BEAAPI={} } = json\r\n        , { Results={}, Error:ResError } = BEAAPI;\r\n    if (ResError) {\r\n      const { ErrorDetail } = ResError;\r\n      throw _crErr(\r\n        ResError.APIErrorCode || '',\r\n        ErrorDetail.Description\r\n          || ResError.APIErrorDescription\r\n          || DF_ERR_MSG\r\n      );\r\n    }\r\n    if ( Results.Error || !Array.isArray(Results.Data) ) {\r\n      return _crErr('', DF_ERR_MSG);\r\n    }\r\n    return true;\r\n  }\r\n\r\n};\r\n\r\nexport default BeaApi\r\n"],"file":"BeaApi.js"}