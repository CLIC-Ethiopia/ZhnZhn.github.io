{"version":3,"sources":["../../../src/adapters/intrinio/fnAdapter.js"],"names":["FRED","_crId","option","value","two","three","_crLinkItem","linkFn","id","replace","article","dfArticle","_crZhConfig","title","dataSource","item","key","itemCaption","_crInfo","name","fnAdapter","crSubtitle","subtitle","threeCaption","crData","json","d","data","forEach","p","date","push","x","y","reverse","crConfigOption","zhConfig","info"],"mappings":";;;;;AAAA;;AAKA,MAAMA,IAAI,GAAG,MAAb;;AAEA,MAAMC,KAAK,GAAIC,MAAD,IAAY;AACvB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,GAAT;AAAcC,IAAAA,KAAK,GAAC;AAApB,MAA2BH,MAAjC;AACA,SAAOE,GAAG,GACFD,KADE,SACOC,GADP,SACcC,KADd,GAELF,KAFL;AAGF,CALD;;AAMA,MAAMG,WAAW,GAAGJ,MAAD,IAAY;AAC7B,QAAM;AAAEK,IAAAA,MAAF;AAAUJ,IAAAA,KAAK,GAAC;AAAhB,MAAuBD,MAA7B;;AACA,MAAKK,MAAM,KAAKP,IAAhB,EAAsB;AACpB,WAAO;AACLQ,MAAAA,EAAE,EAAEL,KAAK,CAACM,OAAN,CAAc,GAAd,EAAmB,EAAnB,CADC;AAELC,MAAAA,OAAO,EAAER,MAAM,CAACS;AAFX,KAAP;AAID;;AACD,SAAOR,KAAP;AACD,CATD;;AAUA,MAAMS,WAAW,GAAIV,MAAD,IAAY;AAC9B,QAAM;AACEW,IAAAA,KAAK,GAAC,EADR;AAEEC,IAAAA,UAFF;AAEcP,IAAAA;AAFd,MAGIL,MAHV;AAAA,QAIMa,IAAI,GAAGT,WAAW,CAACJ,MAAD,CAJxB;AAAA,QAKMM,EAAE,GAAGP,KAAK,CAACC,MAAD,CALhB;;AAMA,SAAO;AACLM,IAAAA,EAAE,EAAEA,EADC;AACGQ,IAAAA,GAAG,EAAER,EADR;AAELS,IAAAA,WAAW,EAAEJ,KAFR;AAGLN,IAAAA,MAHK;AAGGQ,IAAAA,IAHH;AAGSD,IAAAA;AAHT,GAAP;AAKD,CAZD;;AAcA,MAAMI,OAAO,GAAG;AAAA,MAAC;AAAEL,IAAAA,KAAK,GAAC;AAAR,GAAD;AAAA,SAAmB;AACjCM,IAAAA,IAAI,EAAEN;AAD2B,GAAnB;AAAA,CAAhB;;AAIA,MAAMO,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE,SAAmC;AAAA,QAAlC;AAAEC,MAAAA,QAAQ,GAAC,EAAX;AAAeC,MAAAA;AAAf,KAAkC;AAC7C,WAAOA,YAAY,GACZD,QADY,UACCC,YADD,GAEfD,QAFJ;AAGD,GALe;AAOhBE,EAAAA,MAAM,EAAGC,IAAD,IAAU;AAChB,UAAMC,CAAC,GAAG,EAAV;AACAD,IAAAA,IAAI,CAACE,IAAL,CAAUC,OAAV,CAAkBC,CAAC,IAAI;AACrB,YAAM;AAAEC,QAAAA,IAAF;AAAQ3B,QAAAA;AAAR,UAAkB0B,CAAxB;;AACA,UAAK,+BAAe1B,KAAf,CAAL,EAA6B;AAC3BuB,QAAAA,CAAC,CAACK,IAAF,CAAO;AACJC,UAAAA,CAAC,EAAE,yBAASF,IAAT,CADC;AAEJG,UAAAA,CAAC,EAAE9B;AAFC,SAAP;AAID;AACF,KARD;AASA,WAAOuB,CAAC,CAACQ,OAAF,EAAP;AACD,GAnBe;AAsBhBC,EAAAA,cAAc,EAAGjC,MAAD,KAAa;AAC3BkC,IAAAA,QAAQ,EAAExB,WAAW,CAACV,MAAD,CADM;AAE3BmC,IAAAA,IAAI,EAAEnB,OAAO,CAAChB,MAAD;AAFc,GAAb;AAtBA,CAAlB;eA6BekB,S","sourcesContent":["import {\r\n  isNumberOrNull,\r\n  ymdToUTC,\r\n} from '../AdapterFn';\r\n\r\nconst FRED = 'FRED';\r\n\r\nconst _crId = (option) => {\r\n   const { value, two, three='' } = option;\r\n   return two\r\n      ? `${value}_${two}_${three}`\r\n      : value;\r\n}\r\nconst _crLinkItem= (option) => {\r\n  const { linkFn, value='' } = option;\r\n  if ( linkFn === FRED ){\r\n    return {\r\n      id: value.replace('$', ''),\r\n      article: option.dfArticle\r\n    };\r\n  }\r\n  return value;\r\n};\r\nconst _crZhConfig = (option) => {\r\n  const {\r\n          title='',\r\n          dataSource, linkFn,\r\n        } = option\r\n      , item = _crLinkItem(option)\r\n      , id = _crId(option);\r\n  return {\r\n    id: id, key: id,\r\n    itemCaption: title,\r\n    linkFn, item, dataSource\r\n  };\r\n};\r\n\r\nconst _crInfo = ({ title='' }) => ({\r\n  name: title\r\n});\r\n\r\nconst fnAdapter = {\r\n  crSubtitle: ({ subtitle='', threeCaption }) => {\r\n    return threeCaption\r\n      ? `${subtitle}, ${threeCaption}`\r\n      : subtitle;\r\n  },\r\n\r\n  crData: (json) => {\r\n    const d = [];\r\n    json.data.forEach(p => {\r\n      const { date, value } = p;\r\n      if ( isNumberOrNull(value) ) {\r\n        d.push({\r\n           x: ymdToUTC(date),\r\n           y: value\r\n        });\r\n      }\r\n    })\r\n    return d.reverse();\r\n  },\r\n\r\n\r\n  crConfigOption: (option) => ({\r\n    zhConfig: _crZhConfig(option),\r\n    info: _crInfo(option)\r\n  })\r\n\r\n};\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}