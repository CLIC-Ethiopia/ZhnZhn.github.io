{"version":3,"sources":["../../../src/adapters/intrinio/fnAdapter.js"],"names":["isNumberOrNull","AdapterFn","ymdToUTC","valueMoving","FRED","_crId","option","value","two","three","_crLinkItem","linkFn","id","replace","article","dfArticle","_crZhConfig","title","dataSource","item","key","itemCaption","isWithoutAdd","isWithLegend","_crInfo","name","fnAdapter","crSubtitle","subtitle","threeCaption","crData","json","d","data","forEach","p","date","push","x","y","reverse","crConfigOption","zhConfig","info"],"mappings":"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","sourcesContent":["import AdapterFn from '../AdapterFn'\r\n\r\nconst {\r\n        isNumberOrNull, ymdToUTC,\r\n        valueMoving\r\n      } = AdapterFn;\r\n\r\nconst FRED = 'FRED';\r\n\r\nconst _crId = (option) => {\r\n   const { value, two, three='' } = option;\r\n   return two\r\n      ? `${value}_${two}_${three}`\r\n      : value;\r\n}\r\nconst _crLinkItem= (option) => {\r\n  const { linkFn, value='' } = option;\r\n  if ( linkFn === FRED ){\r\n    return {\r\n      id: value.replace('$', ''),\r\n      article: option.dfArticle\r\n    };\r\n  }\r\n  return value;\r\n};\r\nconst _crZhConfig = (option) => {\r\n  const {\r\n          title='',\r\n          dataSource, linkFn,\r\n        } = option\r\n      , item = _crLinkItem(option)\r\n      , id = _crId(option);\r\n  return {\r\n    id: id, key: id,\r\n    itemCaption: title,\r\n    isWithoutAdd: true,\r\n    isWithLegend: false,\r\n    linkFn, item, dataSource\r\n  };\r\n};\r\n\r\nconst _crInfo = ({ title='' }) => ({\r\n  name: title\r\n});\r\n\r\nconst fnAdapter = {\r\n  crSubtitle: ({ subtitle='', threeCaption }) => {\r\n    return threeCaption\r\n      ? `${subtitle}, ${threeCaption}`\r\n      : subtitle;\r\n  },\r\n\r\n  crData: (json) => {\r\n    const d = [];\r\n    json.data.forEach(p => {\r\n      const { date, value } = p;\r\n      if ( isNumberOrNull(value) ) {\r\n        d.push({\r\n           x: ymdToUTC(date),\r\n           y: value\r\n        });\r\n      }\r\n    })\r\n    return d.reverse();\r\n  },\r\n\r\n\r\n  crConfigOption: ({ option, data }) => ({\r\n    zhConfig: _crZhConfig(option),\r\n    valueMoving: valueMoving(data),\r\n    info: _crInfo(option)    \r\n  })\r\n\r\n};\r\n\r\nexport default fnAdapter\r\n"],"file":"fnAdapter.js"}