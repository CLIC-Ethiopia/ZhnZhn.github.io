{"version":3,"sources":["../../src/adapters/QuandlToStackedColumn.js"],"names":["fCreateStackedColumnConfig","json","option","chartType","seriaType","stacking","STACKED_COLUMN_PERCENT","PERCENT","config","fBaseStackedColumnConfig","sliceItems","items100","value","zhSeriaId","jsonData","dataset","data","bNowTotal","bPrevTotal","series","categories","xAxis","chart","height","STACKED_HEIGHT","title","setTitleToConfig","valueMoving","createValueMoving","bNowValue","bPrevValue","date","length","zhConfig","createZhConfig","id","isWithoutAdd","isWithoutIndicator","info","createDatasetInfo"],"mappings":";;;;;;;AACA;;AACA;;;;AACA;;;;AAEA;;AACA;;;;;;AAEO,IAAMA,kEAA6B,SAA7BA,0BAA6B,CAASC,IAAT,EAAeC,MAAf,EAAsB;AACvD,OAAYC,SAAZ,GAA0BD,MAA1B,CAAEE,SAAF;AAAA,OACAC,QADA,GACYF,cAAc,gBAAUG,sBAAzB,GAAmD,SAAnD,GAA+D,QAD1E;AAAA,OAEAC,OAFA,GAEYF,aAAa,SAAf,GAA6B,UAA7B,GAA0C,EAFpD;AAAA,OAGAG,MAHA,GAGS,sBAAYC,wBAAZ,CAAqC,EAAEJ,kBAAF,EAArC,CAHT;AAAA,4BAIqCH,MAJrC,CAICQ,UAJD;AAAA,OAIYC,QAJZ,sCAIqB,EAJrB;AAAA,uBAIqCT,MAJrC,CAIyBU,KAJzB;AAAA,OAIyBA,KAJzB,iCAI+B,EAJ/B;AAAA,OAKAC,SALA,GAKeD,KALf,SAKwBT,SALxB;AAAA,OAMAW,QANA,GAMYb,KAAKc,OAAL,IAAgBd,KAAKc,OAAL,CAAaC,IAA9B,GAAsCf,KAAKc,OAAL,CAAaC,IAAnD,GAA0D,EANrE;AAAA,+BAQG,sCAAsB,EAACF,kBAAD,EAAWH,kBAAX,EAAqBE,oBAArB,EAAgCV,oBAAhC,EAA2CE,kBAA3C,EAAtB,CARH;AAAA,OAOCY,SAPD,yBAOCA,SAPD;AAAA,OAOYC,UAPZ,yBAOYA,UAPZ;AAAA,OAOwBC,MAPxB,yBAOwBA,MAPxB;AAAA,OAOgCC,UAPhC,yBAOgCA,UAPhC;;;AAUNZ,UAAOW,MAAP,GAAgBA,MAAhB;AACAX,UAAOa,KAAP,CAAaD,UAAb,GAA0BA,UAA1B;AACAZ,UAAOc,KAAP,CAAaC,MAAb,GAAsB,gBAAMC,cAA5B;;AAEAtB,UAAOuB,KAAP,QAAkBvB,OAAOuB,KAAzB,GAAiClB,OAAjC;AACA,sBAAUmB,gBAAV,CAA2BlB,MAA3B,EAAmCN,MAAnC;;AAEAM,UAAOmB,WAAP,GAAqB,mBAAUC,iBAAV,CAA4B;AAC/CC,iBAAaZ,SADkC;AAE/Ca,kBAAaZ;AAFkC,IAA5B,CAArB;AAIAV,UAAOmB,WAAP,CAAmBI,IAAnB,GAA4BX,cAAcA,WAAWY,MAAX,GAAkB,CAAlC,GACrBZ,WAAWA,WAAWY,MAAX,GAAkB,CAA7B,CADqB,GAErB,EAFL;;AAIAxB,UAAOyB,QAAP,GAAkB,mBAAUC,cAAV,CAAyBhC,MAAzB,CAAlB;AACAM,UAAOyB,QAAP,CAAgBE,EAAhB,GAAqBtB,SAArB;AACAL,UAAOyB,QAAP,CAAgBG,YAAhB,GAA+B,IAA/B;AACA5B,UAAOyB,QAAP,CAAgBI,kBAAhB,GAAqC,IAArC;AACA7B,UAAO8B,IAAP,GAAc,mBAAUC,iBAAV,CAA4BtC,IAA5B,CAAd;;AAEA,UAAO,EAACO,cAAD,EAAP;AACF,CAjCM","file":"QuandlToStackedColumn.js","sourcesContent":["\r\nimport {ChartType} from '../constants/Type';\r\nimport Chart from '../charts/Chart';\r\nimport ChartConfig from '../charts/ChartConfig';\r\n\r\nimport { fnCreateStackedConfig } from './StackedFn';\r\nimport QuandlFn2 from './QuandlFn2';\r\n\r\nexport const fCreateStackedColumnConfig = function(json, option){\r\n   const { seriaType:chartType } = option\r\n       , stacking = (chartType === ChartType.STACKED_COLUMN_PERCENT) ? 'percent' : 'normal'\r\n       , PERCENT = ( stacking === 'percent' ) ? ':PERCENT' : ''\r\n       , config = ChartConfig.fBaseStackedColumnConfig({ stacking })\r\n       , {sliceItems:items100=[], value=''} = option\r\n       , zhSeriaId = `${value}_${chartType}`\r\n       , jsonData = (json.dataset && json.dataset.data) ? json.dataset.data : []\r\n       , {bNowTotal, bPrevTotal, series, categories} =\r\n            fnCreateStackedConfig({jsonData, items100, zhSeriaId, chartType, stacking })\r\n\r\n   config.series = series;\r\n   config.xAxis.categories = categories;\r\n   config.chart.height = Chart.STACKED_HEIGHT;\r\n\r\n   option.title = `${option.title}${PERCENT}`\r\n   QuandlFn2.setTitleToConfig(config, option);\r\n\r\n   config.valueMoving = QuandlFn2.createValueMoving({\r\n     bNowValue  : bNowTotal,\r\n     bPrevValue : bPrevTotal\r\n   });\r\n   config.valueMoving.date = ( categories && categories.length>1 )\r\n      ? categories[categories.length-1]\r\n      : '' ;\r\n\r\n   config.zhConfig = QuandlFn2.createZhConfig(option);\r\n   config.zhConfig.id = zhSeriaId;\r\n   config.zhConfig.isWithoutAdd = true;\r\n   config.zhConfig.isWithoutIndicator = true;\r\n   config.info = QuandlFn2.createDatasetInfo(json);\r\n\r\n   return {config}\r\n}\r\n"]}