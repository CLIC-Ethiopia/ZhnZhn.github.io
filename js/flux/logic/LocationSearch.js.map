{"version":3,"sources":["../../../src/flux/logic/LocationSearch.js"],"names":["DF_TITLE","DF_SUFFIX_TITLE","BLANK","QE","QE_BLSI","Q","YEAR_MINUS","_trSearchToOptions","search","window","location","obj","parse","bT","cT","lI","_title","t","_name","_fromDate","fD","getFromDate","browserType","chartType","fromDate","toDate","getToDate","loadId","key","id","value","title","name","undefined","LocationSearch","load","componentActions","options","showModalDialog","ASK"],"mappings":";;;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA,IAAMA,WAAW,oCAAjB;AACA,IAAMC,kBAAiB,oBAAvB;AACA,IAAMC,QAAQ,EAAd;AACA,IAAMC,KAAK,IAAX;AACA,IAAMC,UAAU,SAAhB;AACA,IAAMC,IAAI,GAAV;AACA,IAAMC,aAAa,EAAnB;;AAEA,IAAMC,qBAAqB,SAArBA,kBAAqB,GAAM;AAC/B,MAAMC,SAAUC,OAAOC,QAAR,GACJD,OAAOC,QAAP,CAAgBF,MADZ,GAEJ,IAFX;AAGA,MAAMG,MAAM,sBAAYC,KAAZ,CAAkBJ,MAAlB,CAAZ;;AAEA,MAAIG,OAAOA,IAAIE,EAAJ,KAASV,EAAhB,IAAsBQ,IAAIG,EAAJ,KAASV,OAA/B,IAA0CO,IAAII,EAAJ,IAAQV,CAAtD,EAAwD;AACtD,QAAMW,SAAUL,IAAIM,CAAL,GACJN,IAAIM,CAAJ,GAAQhB,eADJ,GAEJD,QAFX;AAAA,QAGMkB,QAASP,IAAIM,CAAL,GACJN,IAAIM,CADA,GAEJf,KALV;AAAA,QAMMiB,YAAaR,IAAIS,EAAL,GACPT,IAAIS,EADG,GAEP,oBAAUC,WAAV,CAAsBf,UAAtB,CARX;AASA,WAAO;AACLgB,mBAAaX,IAAIE,EADZ;AAELU,iBAAWZ,IAAIG,EAFV;AAGLU,gBAAUL,SAHL;AAILM,cAAQ,oBAAUC,SAAV,EAJH;AAKLC,cAAQhB,IAAII,EALP;AAMLa,WAAKjB,IAAIkB,EANJ;AAOLC,aAAOnB,IAAIkB,EAPN;AAQLE,aAAOf,MARF;AASLgB,YAAMd;AATD,KAAP;AAWD,GArBD,MAqBO;AACL,WAAOe,SAAP;AACD;AACF,CA9BD;;AAgCA,IAAMC,iBAAiB;AACrBC,QAAO,cAACC,gBAAD,EAAsB;AAC3B,QAAMC,UAAU9B,oBAAhB;;AAEA,QAAI8B,OAAJ,EAAa;AACXD,uBAAiBE,eAAjB,CAAiC,kBAAYC,GAA7C,EAAkD,EAAEF,gBAAF,EAAlD;AACD;AACF;AAPoB,CAAvB;;kBAUeH,c","file":"LocationSearch.js","sourcesContent":["\r\nimport queryString from 'query-string';\r\nimport DateUtils from '../../utils/DateUtils'\r\n\r\nimport { ModalDialog } from '../../constants/Type'\r\n\r\nconst DF_TITLE = 'Item from search, more on Info Tab';\r\nconst DF_SUFFIX_TITLE =', more on Info Tab'\r\nconst BLANK = ''\r\nconst QE = \"QE\";\r\nconst QE_BLSI = \"QE_BLSI\"\r\nconst Q = \"Q\"\r\nconst YEAR_MINUS = 15\r\n\r\nconst _trSearchToOptions = () => {\r\n  const search = (window.location)\r\n           ? window.location.search\r\n           : null;\r\n  const obj = queryString.parse(search);\r\n\r\n  if (obj && obj.bT===QE && obj.cT===QE_BLSI && obj.lI==Q){\r\n    const _title = (obj.t)\r\n             ? obj.t + DF_SUFFIX_TITLE\r\n             : DF_TITLE\r\n        , _name = (obj.t)\r\n            ? obj.t\r\n            : BLANK\r\n        , _fromDate = (obj.fD)\r\n             ? obj.fD\r\n             : DateUtils.getFromDate(YEAR_MINUS);\r\n    return {\r\n      browserType: obj.bT,\r\n      chartType: obj.cT,\r\n      fromDate: _fromDate,\r\n      toDate: DateUtils.getToDate(),\r\n      loadId: obj.lI,\r\n      key: obj.id,\r\n      value: obj.id,\r\n      title: _title,\r\n      name: _name\r\n    };\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nconst LocationSearch = {\r\n  load : (componentActions) => {\r\n    const options = _trSearchToOptions();\r\n\r\n    if (options) {\r\n      componentActions.showModalDialog(ModalDialog.ASK, { options })\r\n    }\r\n  }\r\n}\r\n\r\nexport default LocationSearch\r\n"]}