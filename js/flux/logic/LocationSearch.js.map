{"version":3,"sources":["../../../src/flux/logic/LocationSearch.js"],"names":["C","SM_WIKI","UN","QE","Q","_isQuery","obj","cT","bT","_trSearchToOptions","search","window","location","parse","toOptions","undefined","err","LocationSearch","load","Action","options","showModalDialog","ASK"],"mappings":";;;;;;AACA;;;;AAEA;;AACA;;;;;;AAEA,IAAMA,IAAI;AACRC,WAAS,SADD;AAERC,MAAI,IAFI;AAGRC,MAAI,IAHI;AAIRC,KAAG;AAJK,CAAV;;AAOA,IAAMC,WAAW,SAAXA,QAAW,CAACC,GAAD;AAAA,SAASA,OACtBA,IAAIC,EAAJ,KAAWP,EAAEC,OADS,IAEtBK,IAAIE,EAAJ,KAAWR,EAAEE,EAFS,IAGtBI,IAAIE,EAAJ,KAAWR,EAAEG,EAHA;AAAA,CAAjB;;AAKA,IAAMM,qBAAqB,SAArBA,kBAAqB,GAAM;AAC/B,MAAMC,SAAUC,OAAOC,QAAR,GACJD,OAAOC,QAAP,CAAgBF,MADZ,GAEJ,IAFX;AAGA,MAAI;AACF,QAAMJ,MAAM,sBAAYO,KAAZ,CAAkBH,MAAlB,CAAZ;AACA,QAAIL,SAASC,GAAT,CAAJ,EAAkB;AAChB,aAAO,wBACJQ,SADI,CACMR,GADN,CAAP;AAED,KAHD,MAGO;AACL,aAAOS,SAAP;AACD;AACF,GARD,CAQE,OAAMC,GAAN,EAAW;AACX,WAAOD,SAAP;AACD;AACF,CAfD;;AAiBA,IAAME,iBAAiB;AACrBC,QAAO,cAACC,MAAD,EAAY;AACjB,QAAMC,UAAUX,oBAAhB;;AAEA,QAAIW,OAAJ,EAAa;AACXD,aAAOE,eAAP,CAAuB,kBAAYC,GAAnC,EAAwC,EAAEF,gBAAF,EAAxC;AACD;AACF;AAPoB,CAAvB;;kBAUeH,c","file":"LocationSearch.js","sourcesContent":["\r\nimport queryString from 'query-string';\r\n\r\nimport { ModalDialog } from '../../constants/Type'\r\nimport LocationQuery from './LocationQuery'\r\n\r\nconst C = {\r\n  SM_WIKI: 'SM_WIKI',\r\n  UN: 'UN',\r\n  QE: 'QE',\r\n  Q: 'Q'\r\n};\r\n\r\nconst _isQuery = (obj) => obj &&\r\n    obj.cT === C.SM_WIKI ||\r\n    obj.bT === C.UN ||\r\n    obj.bT === C.QE;\r\n\r\nconst _trSearchToOptions = () => {\r\n  const search = (window.location)\r\n           ? window.location.search\r\n           : null;\r\n  try {\r\n    const obj = queryString.parse(search);\r\n    if (_isQuery(obj)){\r\n      return LocationQuery\r\n        .toOptions(obj);\r\n    } else {\r\n      return undefined;\r\n    }\r\n  } catch(err) {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nconst LocationSearch = {\r\n  load : (Action) => {\r\n    const options = _trSearchToOptions();\r\n\r\n    if (options) {\r\n      Action.showModalDialog(ModalDialog.ASK, { options })\r\n    }\r\n  }\r\n}\r\n\r\nexport default LocationSearch\r\n"]}