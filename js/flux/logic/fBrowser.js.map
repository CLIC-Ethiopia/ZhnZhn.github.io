{"version":3,"sources":["../../../src/flux/logic/fBrowser.js"],"names":["_crBrowserWatchList","Comp","key","BT_WATCH_LIST","browserType","caption","isInitShow","store","ChartStore","showAction","BAT_SHOW_BROWSER_DYNAMIC","updateAction","BAT_UPDATE_WATCH_BROWSER","_crBrowserDynamic","option","sourceMenuUrl","chartContainerType","modalDialogType","itemOptionType","itemType","descrUrl","dfProps","ItemOptionComp","RouterItemOption","RouterBrowserItem","DF","ItemComp","DEFAULT","onClickInfo","CA","showDescription","onShowLoadDialog","item","showModalDialog","onShow","ChartActions","CHAT_SHOW","bind","loadedAction","BAT_LOAD_BROWSER_DYNAMIC_COMPLETED","failedAction","BAT_LOAD_BROWSER_FAILED","BAT_UPDATE_BROWSER_MENU","onLoadMenu","BA","loadBrowserDynamic","STAT_ALL_TYPES","BT_SWEDEN_STAT_ALL","BT_NORWAY_STAT_ALL","BT_FINLAND_STAT_ALL","BT_DENMARK_STAT_ALL","BT_IRELAND_STAT_ALL","_isStatAll","indexOf","fBrowser","crAsyncBrowser","bT","RouterBrowser","then","STAT_ALL","Promise","resolve"],"mappings":"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","sourcesContent":["import { createElement } from 'react'\r\n\r\nimport ChartStore from '../stores/ChartStore';\r\n\r\nimport CA from '../actions/ComponentActions';\r\nimport ChartActions, { CHAT_SHOW } from '../actions/ChartActions';\r\nimport BA from '../actions/BrowserActions';\r\nimport {\r\n  BAT_SHOW_BROWSER_DYNAMIC,\r\n  BAT_LOAD_BROWSER_DYNAMIC_COMPLETED,\r\n  BAT_LOAD_BROWSER_FAILED,\r\n  BAT_UPDATE_WATCH_BROWSER,\r\n  BAT_UPDATE_BROWSER_MENU\r\n} from '../actions/BrowserActions';\r\nimport {\r\n  BT_WATCH_LIST,\r\n  BT_SWEDEN_STAT_ALL,\r\n  BT_NORWAY_STAT_ALL,\r\n  BT_FINLAND_STAT_ALL,\r\n  BT_DENMARK_STAT_ALL,\r\n  BT_IRELAND_STAT_ALL\r\n} from '../../constants/BrowserType';\r\n\r\nimport RouterBrowser from './RouterBrowser';\r\n\r\nimport RouterItemOption from '../../components/zhn-select/RouterItemOption';\r\nimport RouterBrowserItem from '../../components/browser-items/RouterBrowserItem';\r\n\r\n\r\nconst _crBrowserWatchList = (Comp) => createElement(Comp, {\r\n   key: BT_WATCH_LIST,\r\n   browserType: BT_WATCH_LIST,\r\n   caption: \"Watch List\",\r\n   isInitShow: true,\r\n   store: ChartStore,\r\n   showAction: BAT_SHOW_BROWSER_DYNAMIC,\r\n   updateAction: BAT_UPDATE_WATCH_BROWSER\r\n})\r\n\r\nconst _crBrowserDynamic = (Comp, option) => {\r\n   const {\r\n         browserType, caption='Source Browser' , sourceMenuUrl,\r\n         chartContainerType,\r\n         modalDialogType, itemOptionType, itemType, descrUrl, dfProps\r\n       } = option\r\n    , ItemOptionComp = itemOptionType\r\n          ? RouterItemOption[itemOptionType] || RouterBrowserItem.DF\r\n          : RouterBrowserItem.DF\r\n    , ItemComp = itemType\r\n          ? RouterBrowserItem[itemType] || RouterBrowserItem.DEFAULT\r\n          : void 0\r\n    , onClickInfo = typeof ItemComp !== \"undefined\"\r\n         ? CA.showDescription\r\n         : void 0\r\n    //for Type2\r\n    , onShowLoadDialog = chartContainerType\r\n         ? item => CA.showModalDialog(modalDialogType, {\r\n             item, browserType, chartContainerType,\r\n             onShow: ChartActions[CHAT_SHOW].bind(null, chartContainerType, browserType)\r\n           })\r\n        : void 0;\r\n\r\n   return createElement(Comp , {\r\n     dfProps,\r\n     key: browserType,\r\n     browserType: browserType,\r\n     store: ChartStore,\r\n     isInitShow: true,\r\n     caption,\r\n     ItemOptionComp,\r\n     ItemComp,\r\n     descrUrl,\r\n     onClickInfo,\r\n     showAction: BAT_SHOW_BROWSER_DYNAMIC,\r\n     loadedAction: BAT_LOAD_BROWSER_DYNAMIC_COMPLETED,\r\n     failedAction: BAT_LOAD_BROWSER_FAILED,\r\n     updateAction: BAT_UPDATE_BROWSER_MENU, //for Type\r\n     onLoadMenu: BA.loadBrowserDynamic.bind(null, { browserType, caption, sourceMenuUrl }),\r\n     onShowLoadDialog //for Type2\r\n   });\r\n }\r\n\r\nconst STAT_ALL_TYPES = [\r\n  BT_SWEDEN_STAT_ALL,\r\n  BT_NORWAY_STAT_ALL,\r\n  BT_FINLAND_STAT_ALL,\r\n  BT_DENMARK_STAT_ALL,\r\n  BT_IRELAND_STAT_ALL\r\n];\r\nconst _isStatAll = browserType => STAT_ALL_TYPES\r\n  .indexOf(browserType) !== -1;\r\n\r\nconst fBrowser = {\r\n  crAsyncBrowser(option) {\r\n    const bT = option.browserType;\r\n    if (bT === BT_WATCH_LIST) {\r\n      return RouterBrowser[BT_WATCH_LIST]\r\n        .then(_crBrowserWatchList);\r\n    }\r\n    if (_isStatAll(bT)) {\r\n      return RouterBrowser.STAT_ALL\r\n        .then(Comp => _crBrowserDynamic(Comp, option));\r\n    }\r\n    return Promise.resolve(\r\n       _crBrowserDynamic(\r\n         RouterBrowser[bT] || RouterBrowser.DEFAULT,\r\n         option\r\n       )\r\n    );\r\n  }\r\n};\r\n\r\nexport default fBrowser\r\n"],"file":"fBrowser.js"}