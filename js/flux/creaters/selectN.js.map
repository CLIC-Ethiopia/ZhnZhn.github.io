{"version":3,"sources":["../../../src/flux/creaters/selectN.js"],"names":["crCaption","fns","crItemKey","crAlertConf","TYPE","TABLE_ID","_assign","Object","assign","_findItemTable","items","tableItem","tableIndex","i","length","id","_modifyIfItemTable","dfProps","dfTable","v","dfTail","mapFrequency","splice","createLoadOptions","props","options","loadId","linkFn","dataSource","titles","dialogOptions","chartType","seriaColor","seriaWidth","fromDate","date","itemCaption","threeC","title","subtitle","seriaType","value","compType","_itemKey","_type","zhCompType","time"],"mappings":"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","sourcesContent":["import fns from './createrFns'\r\n\r\nconst { crCaption, crItemKey, crAlertConf } = fns;\r\n\r\nconst TYPE = 'selectN';\r\nconst TABLE_ID = 'table';\r\n\r\nconst _assign = Object.assign\r\n\r\nconst _findItemTable = (items) => {\r\n  let tableItem, tableIndex;\r\n  for (let i=0; i<items.length;i++){\r\n    if (items?.[i].id === TABLE_ID) {\r\n      tableItem = items[i];\r\n      tableIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return { tableItem, tableIndex };\r\n};\r\n\r\nconst _modifyIfItemTable = (dfProps, items) => {\r\n  const { tableItem, tableIndex } = _findItemTable(items);\r\n  if (tableItem) {\r\n    const { v:dfTable, dfTail, mapFrequency } = tableItem\r\n    if (dfTable) {\r\n      _assign(dfProps, { dfTable, dfTail })\r\n      if (mapFrequency) {\r\n        dfProps.mapFrequency = mapFrequency\r\n      }\r\n      items.splice(tableIndex, 1);\r\n    }\r\n  }\r\n};\r\n\r\nconst createLoadOptions = (props={}, options={}) => {\r\n  const { loadId, linkFn, dataSource, dfProps={} } = props\r\n  , {\r\n      items=[], titles,\r\n      dialogOptions,\r\n      chartType={},\r\n      seriaColor,\r\n      seriaWidth,\r\n      fromDate,\r\n      date\r\n    } = options\r\n  , {\r\n      itemCaption, threeC,\r\n      title, subtitle\r\n    } = crCaption(items, titles)\r\n  , { value:seriaType, compType } = chartType\r\n  , _itemKey = crItemKey(items, seriaType, date);\r\n\r\n  _modifyIfItemTable(dfProps, items)\r\n\r\n  return {\r\n    ...dfProps,\r\n    ...dialogOptions,\r\n    _type: TYPE,\r\n    _itemKey: _itemKey,\r\n    itemCaption,\r\n    zhCompType: compType,\r\n    fromDate,\r\n    time: date,\r\n    seriaType, seriaColor, seriaWidth,\r\n    items, loadId, linkFn,\r\n    title, subtitle,\r\n    ...crAlertConf(`${itemCaption}: ${threeC}`, itemCaption, threeC),\r\n    dataSource\r\n  }\r\n};\r\n\r\nexport default createLoadOptions\r\n"],"file":"selectN.js"}