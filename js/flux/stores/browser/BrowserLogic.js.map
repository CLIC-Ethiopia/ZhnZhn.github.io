{"version":3,"sources":["../../../../src/flux/stores/browser/BrowserLogic.js"],"names":["isWithItemCounter","browserType","_config","BrowserConfig","withoutItemCounter","initBrowserMenu","slice","option","json","menu","items","df","elMenu","routeDialog","browserMenu","setIsOpen","value","appMenu","bT","cT","item","isOpen","_findItemCounter","plusCounter","counter","resetCounter"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAEO,MAAMA,iBAAiB,GAC5BC,WAD+B,IAE5B;AACH,QAAMC,OAAO,GAAGC,uBAAcF,WAAd,CAAhB;AACA,SAAO,OAAOC,OAAP,KAAmB,WAAnB,GACH,KADG,GAEH,CAACA,OAAO,CAACE,kBAFb;AAGD,CAPM;;;;AASA,MAAMC,eAAe,GAAG,CAC7BC,KAD6B,EAE7BC,MAF6B,KAG1B;AACH,QAAM;AAAEC,IAAAA,IAAF;AAAQP,IAAAA;AAAR,MAAwBM,MAA9B;AAAA,QACE;AAAEE,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAAsBH,IADxB;AAAA,QAEEI,MAAM,GAAG,qBAAOH,IAAP,EAAaC,KAAb,EAAoBT,WAApB,CAFX;AAIA,iCAAiBS,KAAjB,EAAwBC,EAAxB;AACAL,EAAAA,KAAK,CAACO,WAAN,CAAkBZ,WAAlB,IAAiCS,KAAjC;AACAJ,EAAAA,KAAK,CAACQ,WAAN,CAAkBb,WAAlB,IAAiCW,MAAjC;AACA,SAAOA,MAAP;AACD,CAZM;;;;AAcA,MAAMG,SAAS,GAAG,CACvBC,KADuB,EAEvBC,OAFuB,EAGvBC,EAHuB,EAIvBC,EAJuB,KAKpB;AACH,MAAInB,iBAAiB,CAACkB,EAAD,CAArB,EAA2B;AACzB,UAAME,IAAI,GAAG,uBAASH,OAAO,CAACC,EAAD,CAAhB,EAAsBC,EAAtB,CAAb;;AACA,QAAIC,IAAJ,EAAU;AACRA,MAAAA,IAAI,CAACC,MAAL,GAAcL,KAAd;AACD;AACF;AACF,CAZM;;;;AAcP,MAAMM,gBAAgB,GAAG,CACvBL,OADuB,EAEvBC,EAFuB,EAGvBC,EAHuB,KAIpBnB,iBAAiB,CAACkB,EAAD,CAAjB,GACD,uBAASD,OAAO,CAACC,EAAD,CAAhB,EAAsBC,EAAtB,CADC,GAED,KAAK,CANT;;AAQO,MAAMI,WAAW,GAAG,CACzBP,KADyB,EAEzBC,OAFyB,EAGzBC,EAHyB,EAIzBC,EAJyB,KAKtB;AACH,QAAMC,IAAI,GAAGE,gBAAgB,CAACL,OAAD,EAAUC,EAAV,EAAcC,EAAd,CAA7B;;AACA,MAAIC,IAAJ,EAAS;AACPA,IAAAA,IAAI,CAACI,OAAL,IAAgBR,KAAhB;AACAI,IAAAA,IAAI,CAACC,MAAL,GAAc,IAAd;AACD;AACF,CAXM;;;;AAaA,MAAMI,YAAY,GAAG,CAC1BR,OAD0B,EAE1BC,EAF0B,EAG1BC,EAH0B,KAIvB;AACH,QAAMC,IAAI,GAAGE,gBAAgB,CAACL,OAAD,EAAUC,EAAV,EAAcC,EAAd,CAA7B;;AACA,MAAIC,IAAJ,EAAU;AACRA,IAAAA,IAAI,CAACI,OAAL,GAAe,CAAf;AACD;AACF,CATM","sourcesContent":["import BrowserConfig from '../../../constants/BrowserConfig';\r\n\r\nimport crMenu from './crMenu';\r\nimport addDialogPropsTo from './addDialogPropsTo';\r\nimport findItem from './findItem';\r\n\r\nexport const isWithItemCounter = (\r\n  browserType\r\n) => {\r\n  const _config = BrowserConfig[browserType];\r\n  return typeof _config === 'undefined'\r\n    ? false\r\n    : !_config.withoutItemCounter;\r\n}\r\n\r\nexport const initBrowserMenu = (\r\n  slice,\r\n  option\r\n) => {\r\n  const { json, browserType } = option\r\n  , { menu, items, df } = json\r\n  , elMenu = crMenu(menu, items, browserType);\r\n\r\n  addDialogPropsTo(items, df);\r\n  slice.routeDialog[browserType] = items;\r\n  slice.browserMenu[browserType] = elMenu;\r\n  return elMenu;\r\n}\r\n\r\nexport const setIsOpen = (\r\n  value,\r\n  appMenu,\r\n  bT,\r\n  cT\r\n) => {\r\n  if (isWithItemCounter(bT)) {\r\n    const item = findItem(appMenu[bT], cT);\r\n    if (item) {\r\n      item.isOpen = value;\r\n    }\r\n  }\r\n}\r\n\r\nconst _findItemCounter = (\r\n  appMenu,\r\n  bT,\r\n  cT\r\n) => isWithItemCounter(bT)\r\n  ? findItem(appMenu[bT], cT)\r\n  : void 0;\r\n\r\nexport const plusCounter = (\r\n  value,\r\n  appMenu,\r\n  bT,\r\n  cT\r\n) => {\r\n  const item = _findItemCounter(appMenu, bT, cT);\r\n  if (item){\r\n    item.counter += value;\r\n    item.isOpen = true;\r\n  }\r\n}\r\n\r\nexport const resetCounter = (\r\n  appMenu,\r\n  bT,\r\n  cT\r\n) => {\r\n  const item = _findItemCounter(appMenu, bT, cT);\r\n  if (item) {\r\n    item.counter = 0\r\n  }\r\n}\r\n"],"file":"BrowserLogic.js"}