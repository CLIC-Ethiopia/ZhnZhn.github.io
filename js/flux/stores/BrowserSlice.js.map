{"version":3,"sources":["../../../src/flux/stores/BrowserSlice.js"],"names":["FAILED","_setItemOpen","setIsOpen","bind","_setItemClose","_addCounter","plusCounter","_minusCounter","BrowserSlice","browserMenu","routeDialog","WL","DataWL","isWithItemCounter","getBrowserMenu","browserType","setMenuItemOpen","cT","bT","setMenuItemClose","addMenuItemCounter","minusMenuItemCounter","resetMenuItemCounter","getSourceConfig","browserId","sourceId","indexOf","BT_STOCKS_BY_SECTORS","BrowserConfig","_r","onShowBrowserDynamicDone","trigger","BAT_SHOW_BROWSER_DYNAMIC","onShowBrowserDynamicInit","elBrowser","option","BAT_INIT_BROWSER_DYNAMIC","onShowBrowserDynamicFailed","showAlertDialog","onLoadBrowserDynamicCompleted","json","menuItems","BAT_LOAD_BROWSER_DYNAMIC_COMPLETED","onLoadBrowserDynamicFailed","alertItemId","caption","BAT_LOAD_BROWSER_FAILED"],"mappings":"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","sourcesContent":["import BrowserConfig from '../../constants/BrowserConfig';\r\nimport { BT_STOCKS_BY_SECTORS } from '../../constants/BrowserType';\r\nimport DataWL from '../../constants/DataWL';\r\n\r\nimport {\r\n  BAT_SHOW_BROWSER_DYNAMIC,\r\n  BAT_INIT_BROWSER_DYNAMIC,\r\n  BAT_LOAD_BROWSER_DYNAMIC_COMPLETED,\r\n  BAT_LOAD_BROWSER_FAILED\r\n} from '../actions/BrowserActions';\r\n\r\nimport {\r\n  isWithItemCounter,\r\n  initBrowserMenu,\r\n  setIsOpen,\r\n  plusCounter,\r\n  resetCounter\r\n} from './browser/BrowserLogic';\r\n\r\nconst FAILED = 'Failed';\r\n\r\nconst _setItemOpen = setIsOpen.bind(null, true)\r\n, _setItemClose = setIsOpen.bind(null, false)\r\n, _addCounter = plusCounter.bind(null, 1)\r\n, _minusCounter = plusCounter.bind(null, -1);\r\n\r\nconst BrowserSlice = {\r\n  browserMenu: {},\r\n  routeDialog: {\r\n    WL: DataWL\r\n  },\r\n\r\n  isWithItemCounter: isWithItemCounter,\r\n  getBrowserMenu(browserType){\r\n     return this.browserMenu[browserType];\r\n  },\r\n  setMenuItemOpen(cT, bT){\r\n    _setItemOpen(this.browserMenu, bT, cT)\r\n  },\r\n  setMenuItemClose(cT, bT){\r\n    _setItemClose(this.browserMenu, bT, cT)\r\n  },\r\n  addMenuItemCounter(cT, bT){\r\n    _addCounter(this.browserMenu, bT, cT);\r\n  },\r\n  minusMenuItemCounter(cT, bT){\r\n    _minusCounter(this.browserMenu, bT, cT);\r\n  },\r\n  resetMenuItemCounter(cT, bT){\r\n    resetCounter(this.browserMenu, bT, cT)\r\n  },\r\n  getSourceConfig(browserId, sourceId){\r\n    if (sourceId.indexOf(BT_STOCKS_BY_SECTORS) > 0){\r\n      return BrowserConfig[browserId];\r\n    }\r\n    const _r = this.routeDialog[browserId];\r\n    return _r ? _r[sourceId] : void 0;\r\n  },\r\n\r\n  onShowBrowserDynamicDone({ browserType }){\r\n    this.trigger(BAT_SHOW_BROWSER_DYNAMIC, browserType);\r\n  },\r\n  onShowBrowserDynamicInit(elBrowser, option){\r\n    const { browserType } = option;\r\n    if (!this.browserMenu[browserType]) {\r\n      this.browserMenu[browserType] = [];\r\n      this.trigger(BAT_INIT_BROWSER_DYNAMIC, elBrowser);\r\n    }\r\n  },\r\n  onShowBrowserDynamicFailed(option){\r\n    this.showAlertDialog(option)\r\n    this.trigger(BAT_SHOW_BROWSER_DYNAMIC + FAILED)\r\n  },\r\n\r\n  onLoadBrowserDynamicCompleted(option){\r\n    const { json, browserType } = option\r\n    , menuItems = isWithItemCounter(browserType)\r\n        ? initBrowserMenu(this, option)\r\n        : json;\r\n    this.trigger(BAT_LOAD_BROWSER_DYNAMIC_COMPLETED, {\r\n       menuItems, browserType\r\n    })\r\n  },\r\n  onLoadBrowserDynamicFailed(option){\r\n    const { alertItemId, caption, browserType } = option;\r\n    option.alertItemId = alertItemId || caption\r\n    this.showAlertDialog(option);\r\n    this.trigger(BAT_LOAD_BROWSER_FAILED, browserType)\r\n  }\r\n\r\n}\r\n\r\nexport default BrowserSlice\r\n"],"file":"BrowserSlice.js"}