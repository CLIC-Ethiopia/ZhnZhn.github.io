{"version":3,"sources":["../../../src/flux/watch-list/WithLogicItem.js"],"names":["WithLogicItem","addItem","watchList","item","caption","groupCaption","listCaption","config","zhConfig","id","title","subtitle","itemConf","toGroup","toList","items","_item","push","isDone","removeItem","groupFrom","listFrom"],"mappings":";;;;;AAAA;;AAQA,MAAMA,aAAa,GAAG;AAEpBC,EAAAA,OAAO,CAACC,SAAD,EAAYC,IAAZ,EAAiB;AACtB,UAAM;AACJC,MAAAA,OADI;AAEJC,MAAAA,YAFI;AAEUC,MAAAA,WAFV;AAGJC,MAAAA;AAHI,QAIFJ,IAJJ;AAAA,UAKE;AAAEK,MAAAA;AAAF,QAAeD,MALjB;AAAA,UAME;AACCE,MAAAA,EADD;AACKC,MAAAA,KADL;AACYC,MAAAA,QADZ;AAECC,MAAAA,QAAQ,GAAC;AAFV,QAGEJ,QATJ;AAAA,UAUEK,OAAO,GAAG,wBAAUX,SAAV,EAAqBG,YAArB,CAVZ;AAAA,UAWES,MAAM,GAAG,uBAASD,OAAT,EAAkBP,WAAlB,CAXX;;AAaA,QAAK,mCAAqBQ,MAAM,CAACC,KAA5B,EAAmCX,OAAnC,CAAL,EAAkD;AAChD,aAAO,+BAAiBA,OAAjB,EAA0BE,WAA1B,CAAP;AACD;;AACD,UAAMU,KAAK,GAAG;AACXP,MAAAA,EADW;AACPC,MAAAA,KADO;AACAC,MAAAA,QADA;AAEXP,MAAAA,OAFW;AAGXQ,MAAAA;AAHW,KAAd;;AAKA,QAAIE,MAAM,CAACC,KAAX,EAAiB;AACfD,MAAAA,MAAM,CAACC,KAAP,CAAaE,IAAb,CAAkBD,KAAlB;AACD,KAFD,MAEO;AACLF,MAAAA,MAAM,CAACC,KAAP,GAAe,CAACC,KAAD,CAAf;AACD;;AACD,WAAO;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GA9BmB;;AAgCpBC,EAAAA,UAAU,CAACjB,SAAD,QAAiD;AAAA,QAArC;AAACG,MAAAA,YAAD;AAAeC,MAAAA,WAAf;AAA4BF,MAAAA;AAA5B,KAAqC;AACzD,UAAMgB,SAAS,GAAG,wBAAUlB,SAAV,EAAqBG,YAArB,CAAlB;AAAA,UACMgB,QAAQ,GAAG,uBAASD,SAAT,EAAoBd,WAApB,CADjB;AAGAe,IAAAA,QAAQ,CAACN,KAAT,GAAiB,qBAAOM,QAAQ,CAACN,KAAhB,EAAuBX,OAAvB,CAAjB;AACD;;AArCmB,CAAtB;eAyCeJ,a","sourcesContent":["import {\r\n  crMsgItemExisted,\r\n  findGroup,\r\n  findList,\r\n  isInArraySameCaption,\r\n  filter\r\n} from './LogicFn';\r\n\r\nconst WithLogicItem = {\r\n\r\n  addItem(watchList, item){\r\n    const {\r\n      caption,\r\n      groupCaption, listCaption,\r\n      config\r\n    } = item\r\n    , { zhConfig } = config\r\n    , {\r\n       id, title, subtitle,\r\n       itemConf={}\r\n    } = zhConfig\r\n    , toGroup = findGroup(watchList, groupCaption)\r\n    , toList = findList(toGroup, listCaption);\r\n\r\n    if ( isInArraySameCaption(toList.items, caption) ){\r\n      return crMsgItemExisted(caption, listCaption);\r\n    }\r\n    const _item = {\r\n       id, title, subtitle,\r\n       caption,\r\n       itemConf\r\n     }\r\n    if (toList.items){\r\n      toList.items.push(_item);\r\n    } else {\r\n      toList.items = [_item];\r\n    }\r\n    return { isDone: true };\r\n  },\r\n\r\n  removeItem(watchList, {groupCaption, listCaption, caption}){\r\n    const groupFrom = findGroup(watchList, groupCaption)\r\n        , listFrom = findList(groupFrom, listCaption);\r\n\r\n    listFrom.items = filter(listFrom.items, caption);\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicItem\r\n"],"file":"WithLogicItem.js"}