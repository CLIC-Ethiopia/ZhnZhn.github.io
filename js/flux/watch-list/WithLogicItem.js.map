{"version":3,"sources":["../../../src/flux/watch-list/WithLogicItem.js"],"names":["crMsgItemExisted","LogicFn","findGroup","findList","isInArraySameCaption","filter","WithLogicItem","addItem","watchList","item","caption","groupCaption","listCaption","config","zhConfig","id","title","subtitle","itemConf","toGroup","toList","items","_item","push","isDone","removeItem","groupFrom","listFrom"],"mappings":";;;;;;;AAAA;;IAGEA,gB,GAKEC,mB,CALFD,gB;IACAE,S,GAIED,mB,CAJFC,S;IACAC,Q,GAGEF,mB,CAHFE,Q;IACAC,oB,GAEEH,mB,CAFFG,oB;IACAC,M,GACEJ,mB,CADFI,M;AAGF,IAAMC,aAAa,GAAG;AAEpBC,EAAAA,OAFoB,mBAEZC,SAFY,EAEDC,IAFC,EAEI;AAAA,QAEpBC,OAFoB,GAKlBD,IALkB,CAEpBC,OAFoB;AAAA,QAGpBC,YAHoB,GAKlBF,IALkB,CAGpBE,YAHoB;AAAA,QAGNC,WAHM,GAKlBH,IALkB,CAGNG,WAHM;AAAA,QAIpBC,MAJoB,GAKlBJ,IALkB,CAIpBI,MAJoB;AAAA,QAMlBC,QANkB,GAMLD,MANK,CAMlBC,QANkB;AAAA,QAQnBC,EARmB,GAUlBD,QAVkB,CAQnBC,EARmB;AAAA,QAQfC,KARe,GAUlBF,QAVkB,CAQfE,KARe;AAAA,QAQRC,QARQ,GAUlBH,QAVkB,CAQRG,QARQ;AAAA,6BAUlBH,QAVkB,CASnBI,QATmB;AAAA,QASnBA,QATmB,mCASV,EATU;AAAA,QAWpBC,OAXoB,GAWVjB,SAAS,CAACM,SAAD,EAAYG,YAAZ,CAXC;AAAA,QAYpBS,MAZoB,GAYXjB,QAAQ,CAACgB,OAAD,EAAUP,WAAV,CAZG;;AActB,QAAKR,oBAAoB,CAACgB,MAAM,CAACC,KAAR,EAAeX,OAAf,CAAzB,EAAkD;AAChD,aAAOV,gBAAgB,CAACU,OAAD,EAAUE,WAAV,CAAvB;AACD;;AACD,QAAMU,KAAK,GAAG;AACXP,MAAAA,EAAE,EAAFA,EADW;AACPC,MAAAA,KAAK,EAALA,KADO;AACAC,MAAAA,QAAQ,EAARA,QADA;AAEXP,MAAAA,OAAO,EAAPA,OAFW;AAGXQ,MAAAA,QAAQ,EAARA;AAHW,KAAd;;AAKA,QAAIE,MAAM,CAACC,KAAX,EAAiB;AACfD,MAAAA,MAAM,CAACC,KAAP,CAAaE,IAAb,CAAkBD,KAAlB;AACD,KAFD,MAEO;AACLF,MAAAA,MAAM,CAACC,KAAP,GAAe,CAACC,KAAD,CAAf;AACD;;AACD,WAAO;AAAEE,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GA9BmB;AAgCpBC,EAAAA,UAhCoB,sBAgCTjB,SAhCS,QAgCuC;AAAA,QAApCG,YAAoC,QAApCA,YAAoC;AAAA,QAAtBC,WAAsB,QAAtBA,WAAsB;AAAA,QAATF,OAAS,QAATA,OAAS;AACzD,QAAMgB,SAAS,GAAGxB,SAAS,CAACM,SAAD,EAAYG,YAAZ,CAA3B;AAAA,QACMgB,QAAQ,GAAGxB,QAAQ,CAACuB,SAAD,EAAYd,WAAZ,CADzB;AAGAe,IAAAA,QAAQ,CAACN,KAAT,GAAiBhB,MAAM,CAACsB,QAAQ,CAACN,KAAV,EAAiBX,OAAjB,CAAvB;AACD;AArCmB,CAAtB;eAyCeJ,a","sourcesContent":["import LogicFn from './LogicFn';\r\n\r\nconst {\r\n  crMsgItemExisted,\r\n  findGroup,\r\n  findList,\r\n  isInArraySameCaption,\r\n  filter\r\n} = LogicFn;\r\n\r\nconst WithLogicItem = {\r\n\r\n  addItem(watchList, item){\r\n    const {\r\n      caption,\r\n      groupCaption, listCaption,\r\n      config\r\n    } = item\r\n    , { zhConfig } = config\r\n    , {\r\n       id, title, subtitle,\r\n       itemConf={}\r\n    } = zhConfig\r\n    , toGroup = findGroup(watchList, groupCaption)\r\n    , toList = findList(toGroup, listCaption);\r\n\r\n    if ( isInArraySameCaption(toList.items, caption) ){\r\n      return crMsgItemExisted(caption, listCaption);\r\n    }\r\n    const _item = {\r\n       id, title, subtitle,\r\n       caption,\r\n       itemConf\r\n     }\r\n    if (toList.items){\r\n      toList.items.push(_item);\r\n    } else {\r\n      toList.items = [_item];\r\n    }\r\n    return { isDone: true };\r\n  },\r\n\r\n  removeItem(watchList, {groupCaption, listCaption, caption}){\r\n    const groupFrom = findGroup(watchList, groupCaption)\r\n        , listFrom = findList(groupFrom, listCaption);\r\n\r\n    listFrom.items = filter(listFrom.items, caption);\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicItem\r\n"],"file":"WithLogicItem.js"}