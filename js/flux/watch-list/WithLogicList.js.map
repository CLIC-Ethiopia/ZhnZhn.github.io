{"version":3,"sources":["../../../src/flux/watch-list/WithLogicList.js"],"names":["WithLogicList","createList","watchList","captionGroup","captionList","groupTo","lists","caption","isDone","renameList","captionListFrom","captionListTo","groupIn","listIndex","deleteList","groupFrom"],"mappings":";;;;;AAAA;;AAYA,MAAMA,aAAa,GAAG;AAEpBC,EAAAA,UAAU,CAACC,SAAD,QAAwC;AAAA,QAA5B;AAACC,MAAAA,YAAD;AAAeC,MAAAA;AAAf,KAA4B;AAChD,UAAMC,OAAO,GAAG,wBAAUH,SAAV,EAAqBC,YAArB,CAAhB;;AAEA,QAAI,CAACE,OAAL,EAAa;AACX,aAAO,4BAAc,OAAd,EAAuBF,YAAvB,CAAP;AACD;;AACD,UAAMG,KAAK,GAAGD,OAAO,CAACC,KAAtB;;AACA,QAAI,mCAAqBA,KAArB,EAA4BF,WAA5B,CAAJ,EAA6C;AAC3C,aAAO,+BAAiBA,WAAjB,EAA8BD,YAA9B,CAAP;AACD;;AAEDE,IAAAA,OAAO,CAACC,KAAR,GAAgB,8BAAgBA,KAAhB,EAAuB;AAACC,MAAAA,OAAO,EAAEH;AAAV,KAAvB,CAAhB;AACA,WAAO;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GAfmB;;AAiBpBC,EAAAA,UAAU,CAACP,SAAD,SAA2D;AAAA,QAA/C;AAACC,MAAAA,YAAD;AAAeO,MAAAA,eAAf;AAAgCC,MAAAA;AAAhC,KAA+C;AACnE,UAAMC,OAAO,GAAG,wBAAUV,SAAV,EAAqBC,YAArB,CAAhB;;AAEA,QAAI,CAACS,OAAL,EAAa;AACX,aAAO,4BAAc,OAAd,EAAuBT,YAAvB,CAAP;AACD;;AACD,UAAMG,KAAK,GAAGM,OAAO,CAACN,KAAtB;AACA,UAAMO,SAAS,GAAG,wBAAUP,KAAV,EAAiBI,eAAjB,CAAlB;;AACA,QAAIG,SAAS,KAAK,CAAC,CAAnB,EAAqB;AACnB,aAAO,4BAAc,MAAd,EAAsBH,eAAtB,CAAP;AACD;;AACD,QAAK,mCAAqBJ,KAArB,EAA4BK,aAA5B,CAAL,EAAiD;AAC/C,aAAO,+BAAiBA,aAAjB,EAAgCR,YAAhC,CAAP;AACD;;AAEDS,IAAAA,OAAO,CAACN,KAAR,GAAgB,iCAAmBA,KAAnB,EAA0BO,SAA1B,EAAqCF,aAArC,CAAhB;AACA,WAAO;AAAEH,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GAlCmB;;AAoCpBM,EAAAA,UAAU,CAACZ,SAAD,SAAwC;AAAA,QAA5B;AAACC,MAAAA,YAAD;AAAeC,MAAAA;AAAf,KAA4B;AAChD,UAAMW,SAAS,GAAG,wBAAUb,SAAV,EAAqBC,YAArB,CAAlB;;AAEA,QAAI,CAACY,SAAL,EAAe;AACb,aAAO,4BAAc,OAAd,EAAuBZ,YAAvB,CAAP;AACD;;AAEDY,IAAAA,SAAS,CAACT,KAAV,GAAkB,qBAAOS,SAAS,CAACT,KAAjB,EAAwBF,WAAxB,CAAlB;AACA,WAAO;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD;;AA7CmB,CAAtB;eAiDeR,a","sourcesContent":["import {\r\n  crMsgNotFound,\r\n  crMsgListExisted,\r\n\r\n  findGroup,\r\n  isInArraySameCaption,\r\n  getArrayWithObj,\r\n  findIndex,\r\n  getArrayWithRename,\r\n  filter\r\n} from './LogicFn';\r\n\r\nconst WithLogicList = {\r\n\r\n  createList(watchList, {captionGroup, captionList}){\r\n    const groupTo = findGroup(watchList, captionGroup)\r\n\r\n    if (!groupTo){\r\n      return crMsgNotFound('group', captionGroup);\r\n    }\r\n    const lists = groupTo.lists;\r\n    if (isInArraySameCaption(lists, captionList)){\r\n      return crMsgListExisted(captionList, captionGroup);\r\n    }\r\n\r\n    groupTo.lists = getArrayWithObj(lists, {caption: captionList});\r\n    return { isDone: true };\r\n  },\r\n\r\n  renameList(watchList, {captionGroup, captionListFrom, captionListTo}){\r\n    const groupIn = findGroup(watchList, captionGroup);\r\n\r\n    if (!groupIn){\r\n      return crMsgNotFound('group', captionGroup);\r\n    }\r\n    const lists = groupIn.lists;\r\n    const listIndex = findIndex(lists, captionListFrom);\r\n    if (listIndex === -1){\r\n      return crMsgNotFound('list', captionListFrom);\r\n    }\r\n    if ( isInArraySameCaption(lists, captionListTo) ){\r\n      return crMsgListExisted(captionListTo, captionGroup);\r\n    }\r\n\r\n    groupIn.lists = getArrayWithRename(lists, listIndex, captionListTo);\r\n    return { isDone: true };\r\n  },\r\n\r\n  deleteList(watchList, {captionGroup, captionList}){\r\n    const groupFrom = findGroup(watchList, captionGroup);\r\n\r\n    if (!groupFrom){\r\n      return crMsgNotFound('group', captionGroup);\r\n    }\r\n\r\n    groupFrom.lists = filter(groupFrom.lists, captionList);\r\n    return { isDone: true };\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicList\r\n"],"file":"WithLogicList.js"}