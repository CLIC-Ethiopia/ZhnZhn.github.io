{"version":3,"sources":["../../../src/flux/watch-list/WithLogicDnD.js"],"names":["WithLogicDnD","dragDropItem","watchList","dragId","dropId","dragArr","split","dragGroup","findGroup","dragList","findList","dragIndex","findIndex","items","dragItem","dropArr","dropGroup","dropList","dropIndex","caption","checkIsInArraySameCaption","fDragDropItemExisted","filter","insertItemInArray","isDone","dragDropList","dragGroupCaption","dragListCaption","dropGroupCaption","dropListCaption","lists","fDragDropListExisted","dragDropGroup","groups"],"mappings":"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","file":"WithLogicDnD.js","sourcesContent":["import LogicFn from './LogicFn';\r\n\r\nconst WithLogicDnD = {\r\n\r\n  dragDropItem(watchList, {dragId, dropId}){\r\n    const dragArr = dragId.split(';')\r\n        , dragGroup = LogicFn.findGroup(watchList, dragArr[0])\r\n        , dragList = LogicFn.findList(dragGroup, dragArr[1])\r\n        , dragIndex = LogicFn.findIndex(dragList.items, dragArr[2])\r\n        , dragItem = dragList.items[dragIndex];\r\n\r\n    const dropArr = dropId.split(';')\r\n        , dropGroup = LogicFn.findGroup(watchList, dropArr[0])\r\n        , dropList = LogicFn.findList(dropGroup, dropArr[1])\r\n        , dropIndex = (dropArr[2])\r\n             ? LogicFn.findIndex(dropList.items, dropArr[2])\r\n             : 0;\r\n\r\n    if ( dragList.caption !== dropList.caption &&\r\n         LogicFn.checkIsInArraySameCaption(dropList.items, dragArr[3]) )\r\n    {\r\n        return LogicFn.fDragDropItemExisted(dropArr[1], dragArr[2]);\r\n    }\r\n\r\n    dragList.items = LogicFn.filter(dragList.items, dragArr[2])\r\n    dropList.items = LogicFn.insertItemInArray(dragItem, dropIndex, dropList.items);\r\n\r\n    return { isDone : true }\r\n  },\r\n\r\n  dragDropList(watchList, {dragId, dropId}){\r\n    const [ dragGroupCaption, dragListCaption ] = dragId.split(';')\r\n        , dragGroup = LogicFn.findGroup(watchList, dragGroupCaption)\r\n        , dragList = LogicFn.findList(dragGroup, dragListCaption);\r\n\r\n    const [ dropGroupCaption, dropListCaption ] = dropId.split(';')\r\n        , dropGroup = LogicFn.findGroup(watchList, dropGroupCaption)\r\n        , dropIndex = (dropListCaption)\r\n              ? LogicFn.findIndex(dropGroup.lists, dropListCaption)\r\n              : 0;\r\n\r\n    if ( dragGroup.caption !== dropGroup.caption &&\r\n         LogicFn.checkIsInArraySameCaption(dropGroup.lists, dragListCaption) )\r\n    {\r\n      return LogicFn.fDragDropListExisted(dropGroupCaption, dragListCaption)\r\n    }\r\n\r\n    dragGroup.lists = LogicFn.filter(dragGroup.lists, dragListCaption);\r\n    dropGroup.lists = LogicFn.insertItemInArray(dragList, dropIndex, dropGroup.lists);\r\n\r\n    return { isDone : true };\r\n  },\r\n\r\n  dragDropGroup(watchList, {dragId, dropId}){\r\n     const [ dragGroupCaption ] = dragId.split(';')\r\n         , dragGroup = LogicFn.findGroup(watchList, dragGroupCaption)\r\n\r\n         , [ dropGroupCaption ] = dropId.split(';')\r\n         , dropIndex = (dropGroupCaption)\r\n               ? LogicFn.findIndex(watchList.groups, dropGroupCaption)\r\n               : 0;\r\n\r\n      watchList.groups = LogicFn.filter(watchList.groups, dragGroupCaption);\r\n      watchList.groups = LogicFn.insertItemInArray(dragGroup, dropIndex, watchList.groups)\r\n\r\n      return { isDone : true };\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicDnD\r\n"]}