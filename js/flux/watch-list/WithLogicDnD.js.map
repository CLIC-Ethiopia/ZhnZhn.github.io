{"version":3,"sources":["../../../src/flux/watch-list/WithLogicDnD.js"],"names":["dragDropItem","watchList","dragId","dropId","dragArr","split","dragGroup","dragList","dragIndex","items","dragItem","dropArr","dropGroup","dropList","dropIndex","caption","isDone","dragDropList","dragGroupCaption","dragListCaption","dropGroupCaption","dropListCaption","lists","dragDropGroup","groups"],"mappings":"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","sourcesContent":["import {\r\n  crAlertItemExisted,\r\n  crAlertListExisted,\r\n\r\n  findGroup,\r\n  findList,\r\n  findIndex,\r\n\r\n  isInArraySameCaption,\r\n  filter,\r\n  insertItemInArray\r\n} from './LogicFn';\r\n\r\n\r\nexport const dragDropItem = (\r\n  watchList,\r\n  {dragId, dropId}\r\n) => {\r\n  const dragArr = dragId.split(';')\r\n  , dragGroup = findGroup(watchList, dragArr[0])\r\n  , dragList = findList(dragGroup, dragArr[1])\r\n  , dragIndex = findIndex(dragList.items, dragArr[2])\r\n  , dragItem = dragList.items[dragIndex];\r\n\r\n  const dropArr = dropId.split(';')\r\n  , dropGroup = findGroup(watchList, dropArr[0])\r\n  , dropList = findList(dropGroup, dropArr[1])\r\n  , dropIndex = (dropArr[2])\r\n     ? findIndex(dropList.items, dropArr[2])\r\n     : 0;\r\n\r\n  //dragArr[3] => dragArr[2]\r\n  if ( dragList.caption !== dropList.caption\r\n      && isInArraySameCaption(dropList.items, dragArr[2]) )\r\n  {\r\n      return crAlertItemExisted(dropArr[1], dragArr[2]);\r\n  }\r\n\r\n  dragList.items = filter(dragList.items, dragArr[2])\r\n  dropList.items = insertItemInArray(dragItem, dropIndex, dropList.items);\r\n\r\n  return { isDone: true };\r\n}\r\n\r\nexport const dragDropList = (\r\n  watchList,\r\n  {dragId, dropId}\r\n) => {\r\n  const [dragGroupCaption, dragListCaption] = dragId.split(';')\r\n  , dragGroup = findGroup(watchList, dragGroupCaption)\r\n  , dragList = findList(dragGroup, dragListCaption);\r\n\r\n  const [dropGroupCaption, dropListCaption] = dropId.split(';')\r\n  , dropGroup = findGroup(watchList, dropGroupCaption)\r\n  , dropIndex = (dropListCaption)\r\n      ? findIndex(dropGroup.lists, dropListCaption)\r\n      : 0;\r\n\r\n  if ( dragGroup.caption !== dropGroup.caption &&\r\n      isInArraySameCaption(dropGroup.lists, dragListCaption) )\r\n  {\r\n    return crAlertListExisted(dropGroupCaption, dragListCaption)\r\n  }\r\n\r\n  dragGroup.lists = filter(dragGroup.lists, dragListCaption);\r\n  dropGroup.lists = insertItemInArray(dragList, dropIndex, dropGroup.lists);\r\n\r\n  return { isDone: true };\r\n}\r\n\r\nexport const dragDropGroup = (\r\n  watchList,\r\n  {dragId, dropId}\r\n) => {\r\n  const [dragGroupCaption] = dragId.split(';')\r\n  , dragGroup = findGroup(watchList, dragGroupCaption)\r\n  , [dropGroupCaption] = dropId.split(';')\r\n  , dropIndex = (dropGroupCaption)\r\n      ? findIndex(watchList.groups, dropGroupCaption)\r\n      : 0;\r\n\r\n  watchList.groups = filter(watchList.groups, dragGroupCaption);\r\n  watchList.groups = insertItemInArray(dragGroup, dropIndex, watchList.groups)\r\n\r\n  return { isDone: true };\r\n}\r\n"],"file":"WithLogicDnD.js"}