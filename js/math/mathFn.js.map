{"version":3,"sources":["../../src/math/mathFn.js"],"names":["fnEcho","value","mathFn","calcPercent","bValue","bTotal","eq","times","div","abs","toFixed","crValueMoving","option","nowValue","prevValue","Direction","fnFormat","bNowValue","toString","replace","bPrevValue","_bDelta","minus","_direction","gt","DOWN","gte","UP","EQUAL","round","_bPercent","_bNowValue","delta","percent","direction","parseInt","parseFloat"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,SAAS,SAATA,MAAS,CAACC,KAAD,EAAW;AAAE,SAAOA,KAAP;AAAc,CAA1C;;AAEA,IAAMC,SAAS;;AAEbC,eAAa,2BAA8C;AAAA,2BAA3CC,MAA2C;AAAA,QAA3CA,MAA2C,+BAApC,mBAAI,KAAJ,CAAoC;AAAA,2BAAxBC,MAAwB;AAAA,QAAxBA,MAAwB,+BAAjB,mBAAI,KAAJ,CAAiB;;AACzD,WAAQ,CAACA,OAAOC,EAAP,CAAU,mBAAI,GAAJ,CAAV,CAAF,GACKF,OAAOG,KAAP,CAAa,GAAb,EAAkBC,GAAlB,CAAsBH,MAAtB,EAA8BI,GAA9B,GAAoCC,OAApC,CAA4C,CAA5C,CADL,GAEK,mBAAI,GAAJ,EAASA,OAAT,CAAiB,CAAjB,CAFZ;AAGD,GANY;;AAQbC,iBAAe,uBAACC,MAAD,EAAY;AAAA,2BAMfA,MANe,CAEjBC,QAFiB;AAAA,QAEjBA,QAFiB,oCAER,KAFQ;AAAA,4BAMfD,MANe,CAGjBE,SAHiB;AAAA,QAGjBA,SAHiB,qCAGP,KAHO;AAAA,QAIjBC,SAJiB,GAMfH,MANe,CAIjBG,SAJiB;AAAA,2BAMfH,MANe,CAKjBI,QALiB;AAAA,QAKjBA,QALiB,oCAKRhB,MALQ;;;AAQzB,QAAMiB,YAAY,mBAAIJ,SAASK,QAAT,GAAoBC,OAApB,CAA4B,GAA5B,EAAgC,EAAhC,CAAJ,CAAlB;AAAA,QACMC,aAAa,mBAAIN,UAAUI,QAAV,GAAqBC,OAArB,CAA6B,GAA7B,EAAkC,EAAlC,CAAJ,CADnB;;AAGA,QAAIE,UAAUD,WAAWE,KAAX,CAAiBL,SAAjB,CAAd;AAAA,QACIM,mBADJ;AAEA,QAAIF,QAAQG,EAAR,CAAW,GAAX,CAAJ,EAAoB;AAClBD,mBAAaR,UAAUU,IAAvB;AACD,KAFD,MAEO,IAAI,CAACJ,QAAQK,GAAR,CAAY,GAAZ,CAAL,EAAsB;AAC3BH,mBAAaR,UAAUY,EAAvB;AACD,KAFM,MAEA;AACLJ,mBAAaR,UAAUa,KAAvB;AACD;;AAEDP,cAAUA,QAAQZ,GAAR,GAAcoB,KAAd,CAAoB,CAApB,CAAV;;AAEA,QAAMC,YAAY5B,OAAOC,WAAP,CAAmB,EAAEC,QAAOiB,OAAT,EAAkBhB,QAAQe,UAA1B,EAAnB,CAAlB;;AAEA,QAAIW,aAAa,mBAAId,SAAJ,EAAeY,KAAf,CAAqB,CAArB,CAAjB;AACA,QAAKE,WAAWP,EAAX,CAAc,SAAd,CAAL,EAA+B;AAC7BO,mBAAad,UAAUP,OAAV,CAAkB,CAAlB,CAAb;AACAW,gBAAUA,QAAQX,OAAR,CAAgB,CAAhB,CAAV;AACD;;AAEC,WAAO;AACLT,aAAQe,SAASe,UAAT,EAAqBb,QAArB,EADH;AAELc,aAAQhB,SAASK,OAAT,EAAkBH,QAAlB,EAFH;AAGLe,eAAUH,UAAUZ,QAAV,KAAuB,GAH5B;AAILgB,iBAAYX;AAJP,KAAP;AAMH,GA7CY;;AA+Cbb,WAAU,iBAACT,KAAD,EAAW;AACnB,QAAMG,SAAS,mBAAIH,KAAJ,CAAf;AACA,QAAIG,OAAOoB,EAAP,CAAU,IAAV,CAAJ,EAAqB;AACnB,aAAOW,SAAS/B,OAAOM,OAAP,CAAe,CAAf,CAAT,EAA4B,EAA5B,CAAP;AACD,KAFD,MAEO;AACL,aAAO0B,WAAWhC,OAAOM,OAAP,CAAe,CAAf,CAAX,CAAP;AACD;AACF;AAtDY,CAAf;;kBAyDeR,M","file":"mathFn.js","sourcesContent":["import Big from 'big.js'\r\n\r\nconst fnEcho = (value) => { return value;}\r\n\r\nconst mathFn = {\r\n\r\n  calcPercent: ({ bValue=Big('0.0'), bTotal=Big('0.0') }) => {\r\n    return (!bTotal.eq(Big(0.0)) )\r\n              ? bValue.times(100).div(bTotal).abs().toFixed(2)\r\n              : Big(0.0).toFixed(2);\r\n  },\r\n\r\n  crValueMoving: (option) => {\r\n    const {\r\n            nowValue='0.0',\r\n            prevValue='0.0',\r\n            Direction,\r\n            fnFormat=fnEcho\r\n          } = option;\r\n\r\n    const bNowValue = Big(nowValue.toString().replace(' ',''))\r\n        , bPrevValue = Big(prevValue.toString().replace(' ', ''));\r\n\r\n    let _bDelta = bPrevValue.minus(bNowValue)\r\n      , _direction;\r\n    if (_bDelta.gt(0.0)){\r\n      _direction = Direction.DOWN;\r\n    } else if (!_bDelta.gte(0.0)){\r\n      _direction = Direction.UP;\r\n    } else {\r\n      _direction = Direction.EQUAL;\r\n    }\r\n\r\n    _bDelta = _bDelta.abs().round(4);\r\n\r\n    const _bPercent = mathFn.calcPercent({ bValue:_bDelta, bTotal: bPrevValue });\r\n\r\n    let _bNowValue = Big(bNowValue).round(4);\r\n    if ( _bNowValue.gt('1000000') ){\r\n      _bNowValue = bNowValue.toFixed(0);\r\n      _bDelta = _bDelta.toFixed(0);\r\n    }\r\n\r\n      return {\r\n        value : fnFormat(_bNowValue).toString(),\r\n        delta : fnFormat(_bDelta).toString(),\r\n        percent : _bPercent.toString() + '%',\r\n        direction : _direction\r\n      };\r\n  },\r\n\r\n  toFixed : (value) => {\r\n    const bValue = Big(value);\r\n    if (bValue.gt('10')) {\r\n      return parseInt(bValue.toFixed(0), 10);\r\n    } else {\r\n      return parseFloat(bValue.toFixed(2));\r\n    }\r\n  }\r\n}\r\n\r\nexport default mathFn\r\n"]}