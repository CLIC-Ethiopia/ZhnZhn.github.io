{"version":3,"sources":["../../src/charts/handleMouseOver.js"],"names":["C","DATE_PATTERN","DATE_EMPTY","ATTR_LABEL","zIndex","CSS_LABEL","color","fontWeight","fontSize","CL_DY","DX_CATEGORY","DY_CATEGORY","DX_DELTA_Y_AXIS","_crCrossParam","point","chart","_d","Highcharts","dateFormat","x","y","date","dX","options","xDeltaCrossLabel","dY","yDeltaCrossLabel","_crCategoryCrossParam","_crYCrossLabelX","yAxis","width","plotLeft","_crYCrossLabelY","plotY","plotTop","handleMouserOverPoint","event","isCategory","c","plotX","series","xCrossLabel","yCrossLabel","deltaYAxis","xLX","xLY","yLY","attr","text","renderer","css","add"],"mappings":"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","sourcesContent":["import Highcharts from 'highcharts'\r\n\r\nimport formatNumber from '../utils/formatNumber'\r\nimport calcDeltaYAxis from './calcDeltaYAxis'\r\n\r\nconst C = {\r\n  DATE_PATTERN : '%d-%m-%Y',\r\n  DATE_EMPTY: '01-01-1970',\r\n\r\n  ATTR_LABEL : {\r\n    zIndex : 100\r\n  },\r\n  CSS_LABEL : {\r\n    //color: '#f1d600',\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    fontSize: '14px'\r\n  },\r\n\r\n  CL_DY: -1,\r\n\r\n  DX_CATEGORY: 40,\r\n  DY_CATEGORY: 32,\r\n\r\n  DX_DELTA_Y_AXIS: 10\r\n};\r\n\r\nconst _crCrossParam = (point, chart) => {\r\n  const _d = Highcharts.dateFormat(C.DATE_PATTERN, point.x);  \r\n  return {\r\n    y: point.y,\r\n    date: _d !== C.DATE_EMPTY ? _d : '',\r\n    dX: chart.options.chart.xDeltaCrossLabel,\r\n    dY: chart.options.chart.yDeltaCrossLabel\r\n  };\r\n};\r\n\r\nconst _crCategoryCrossParam = (point, chart) => {\r\n  return {\r\n    y: formatNumber(point.y),\r\n    date: point.x,\r\n    dX: chart.options.chart.xDeltaCrossLabel - C.DX_CATEGORY,\r\n    dY: chart.options.chart.yDeltaCrossLabel - C.DY_CATEGORY\r\n  };\r\n};\r\n\r\nconst _crYCrossLabelX = (chart, dX) => {\r\n  return chart.yAxis[0].width + chart.plotLeft + dX;\r\n};\r\nconst _crYCrossLabelY = (chart, plotY) => {\r\n  return plotY + chart.plotTop + C.CL_DY;\r\n};\r\n\r\nconst handleMouserOverPoint = function(event){\r\n  const { isCategory, c, plotX, plotY, series } = this\r\n      , chart = series.chart\r\n      , { xCrossLabel, yCrossLabel } = chart\r\n      , { y, date, dX, dY } = (!isCategory || c)\r\n             ? _crCrossParam(this, chart)\r\n             : _crCategoryCrossParam(this, chart)\r\n      , deltaYAxis = calcDeltaYAxis(chart)\r\n      , xLX = deltaYAxis\r\n          ? plotX + deltaYAxis - C.DX_DELTA_Y_AXIS\r\n          : plotX\r\n      , xLY = _crYCrossLabelX(chart, dX)\r\n      , yLY = _crYCrossLabelY(chart, plotY);\r\n\r\n  if (xCrossLabel) {\r\n    xCrossLabel.attr({ x: xLX, text: date });\r\n    yCrossLabel.attr({ x: xLY, y: yLY, text: y });\r\n  } else {\r\n    chart.xCrossLabel = chart.renderer\r\n      .text(date, xLX, chart.plotTop - dY)\r\n      .attr(C.ATTR_LABEL)\r\n      .css(C.CSS_LABEL)\r\n      .add();\r\n    chart.yCrossLabel = chart.renderer\r\n      .text(y, xLY, yLY)\r\n      .attr(C.ATTR_LABEL)\r\n      .css(C.CSS_LABEL)\r\n      .add();\r\n  }\r\n}\r\n\r\nexport default handleMouserOverPoint\r\n"],"file":"handleMouseOver.js"}