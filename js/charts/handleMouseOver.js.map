{"version":3,"sources":["../../src/charts/handleMouseOver.js"],"names":["C","DATE_PATTERN","DATE_EMPTY","ATTR_LABEL","zIndex","CSS_LABEL","color","fontWeight","fontSize","CL_DX","CL_DY","DX_CATEGORY","DY_CATEGORY","DX_DELTA_Y_AXIS","_crDelta","chart","dX","dY","options","xDeltaCrossLabel","yDeltaCrossLabel","_crCrossParam","point","_d","Highcharts","dateFormat","x","y","date","_crCategoryCrossParam","_crYCrossLabelX","yAxis","width","plotLeft","_crYCrossLabelY","plotY","plotTop","handleMouserOverPoint","event","isCategory","c","plotX","series","xCrossLabel","yCrossLabel","deltaYAxis","xLX","xLY","yLY","attr","text","renderer","css","add"],"mappings":"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","sourcesContent":["import Highcharts from 'highcharts'\r\n\r\nimport formatNumber from '../utils/formatNumber'\r\nimport calcDeltaYAxis from './calcDeltaYAxis'\r\n\r\nconst C = {\r\n  DATE_PATTERN : '%d-%m-%Y',\r\n  DATE_EMPTY: '01-01-1970',\r\n\r\n  ATTR_LABEL : {\r\n    zIndex : 100\r\n  },\r\n  CSS_LABEL : {\r\n    //color: '#f1d600',\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    fontSize: '14px'\r\n  },\r\n\r\n  CL_DX: -4,\r\n  CL_DY: -1,\r\n\r\n  DX_CATEGORY: 40,\r\n  DY_CATEGORY: 32,\r\n\r\n  DX_DELTA_Y_AXIS: 10\r\n};\r\n\r\nconst _crDelta = (chart, dX=0, dY=0) => {\r\n  const { xDeltaCrossLabel, yDeltaCrossLabel } = chart.options.chart;\r\n  return {\r\n    dX: xDeltaCrossLabel - dX,\r\n    dY: yDeltaCrossLabel - dY\r\n  };\r\n}\r\n\r\nconst _crCrossParam = (point, chart) => {\r\n  const _d = Highcharts.dateFormat(C.DATE_PATTERN, point.x)\r\n  return {\r\n    y: point.y,\r\n    date: _d !== C.DATE_EMPTY ? _d : '',\r\n    ..._crDelta(chart)\r\n  };\r\n};\r\n\r\nconst _crCategoryCrossParam = (point, chart) => ({\r\n  y: formatNumber(point.y),\r\n  date: point.x,\r\n  ..._crDelta(chart, C.DX_CATEGORY, C.DY_CATEGORY)\r\n});\r\n\r\nconst _crYCrossLabelX = (chart, dX) => {\r\n  return chart.yAxis[0].width + chart.plotLeft + dX + C.CL_DX;\r\n};\r\nconst _crYCrossLabelY = (chart, plotY) => {\r\n  return plotY + chart.plotTop + C.CL_DY;\r\n};\r\n\r\nconst handleMouserOverPoint = function(event){\r\n  const { isCategory, c, plotX, plotY, series } = this\r\n      , chart = series.chart\r\n      , { xCrossLabel, yCrossLabel } = chart\r\n      , { y, date, dX, dY } = (!isCategory || c)\r\n             ? _crCrossParam(this, chart)\r\n             : _crCategoryCrossParam(this, chart)\r\n      , deltaYAxis = calcDeltaYAxis(chart)\r\n      , xLX = deltaYAxis\r\n          ? plotX + deltaYAxis - C.DX_DELTA_Y_AXIS\r\n          : plotX\r\n      , xLY = _crYCrossLabelX(chart, dX)\r\n      , yLY = _crYCrossLabelY(chart, plotY);\r\n\r\n  if (xCrossLabel) {\r\n    xCrossLabel.attr({ x: xLX, text: date });\r\n    yCrossLabel.attr({ x: xLY, y: yLY, text: y });\r\n  } else {\r\n    chart.xCrossLabel = chart.renderer\r\n      .text(date, xLX, chart.plotTop - dY)\r\n      .attr(C.ATTR_LABEL)\r\n      .css(C.CSS_LABEL)\r\n      .add();\r\n    chart.yCrossLabel = chart.renderer\r\n      .text(y, xLY, yLY)\r\n      .attr(C.ATTR_LABEL)\r\n      .css(C.CSS_LABEL)\r\n      .add();\r\n  }\r\n}\r\n\r\nexport default handleMouserOverPoint\r\n"],"file":"handleMouseOver.js"}