{"version":3,"sources":["../../src/charts/Tooltip.jsx"],"names":["SPARKLINES_SUFFIX_ID","SPARKLINES_BAR_SUFFIX_ID","WIDTH_CHAR","WIDTH_VALUE","WIDTH_TOTAL","WIDTH_SPARK","C","TITLE_C","YEAR_C","VALUE_C","EX_DIVIDEND_C","TITLE_STYLE","FONT_STYLE","crTpId","toNumberFormat","toNumberFormatAll","toDateFormatDMY","toDateFormatDMYT","_crSpan","t","v","color","_vStyle","_t","_v","_crRow","option","_crHeader","date","id","cssClass","_fnTooltipSparkType4","fullWidth","width","year","value","total","percent","_style","_fnBaseTooltip","valueText","_fnExDividend","point","exValue","price","_fnSplitRatio","splitRatio","_fnExValue","_fnEPS","announceTime","fiscalPeriod","fiscalEndDate","actualEPS","estimatedEPS","numberOfEstimates","EPSSurpriseDollar","_fnVolumeTooltip","_open","_close","_low","_high","_fnATHTooltip","y","close","open","_fnHighLowTooltip","dayHigh","dayLow","_fnCategoryRHLY","high","yHigh","low","yLow","c","_fnCategory","_fnTreeMap","title","label","_percent","_value","_fnPieTooltip","nameFull","_fnCalcWidthSparkType4","_width1","length","_width2","_fnStackedAreaTooltip","category","_total","_fnTreeMapTooltip","_fHide","_fnHide","document","getElementById","removeEventListener","series","chart","zhTooltip","hide","_fnAddHandlerClose","setTimeout","addEventListener","_crSparkData","sparkvalues","sparkpercent","sparkLinesData","sparkBarsData","pointIndex","seriesData","data","forEach","item","itemIndex","push","percentage","index","_fnAddHandlerCloseAndSparklines","sparklines","createSparklines","sparkbars","createSparkbars","_fnFormatCategory","x","_fnBasePointFormatter","fnTemplate","onAfterRender","fnDateFormat","isWithColor","isWithValueText","isWithValue","undefined","userOptions","zhValueText","name","_id","Tooltip","fnBasePointFormatter","fnBasePointFormatterT","fnBasePointFormatterC","categoryRHLY","fnExDividendPointFormatter","fnSplitRatioPointFormatter","eps","fnVolumePointFormatter","fnVolumePointFormatterT","fnATHPointFormatter","fnHighLowPointFormatter","fnPiePointFormatter","fnStackedAreaPointFormatter","fnTreeMapPointFormatter","treeMap"],"mappings":"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","file":"Tooltip.js","sourcesContent":["\r\nimport { render } from 'react-dom';\r\n\r\nimport ChartFn from './ChartFn'\r\n\r\nimport SparkFactory from '../components/factories/SparkFactory';\r\n\r\nconst SPARKLINES_SUFFIX_ID = 'sparklines'\r\n    , SPARKLINES_BAR_SUFFIX_ID = 'sparklines_bar'\r\n    , WIDTH_CHAR = 10\r\n    , WIDTH_VALUE = 54\r\n    , WIDTH_TOTAL = 50\r\n    , WIDTH_SPARK = 20 + 80 + 16;\r\n\r\nconst C = {\r\n  TITLE_C: '#a487d4',\r\n  YEAR_C: '#fdb316',\r\n  VALUE_C: '#2f7ed8',\r\n  EX_DIVIDEND_C: 'green'\r\n}\r\nconst TITLE_STYLE = `style=\"color:${C.TITLE_C};\"`;\r\nconst FONT_STYLE = 'font-size:16px;font-weight:bold';\r\n\r\nconst {\r\n  crTpId,\r\n  toNumberFormat,\r\n  toNumberFormatAll,\r\n  toDateFormatDMY,\r\n  toDateFormatDMYT\r\n} = ChartFn;\r\n\r\nconst _crSpan = (t='', v='', { color=C.VALUE_C }={}) => {\r\n  const _vStyle = `style=\"color:${color};${FONT_STYLE}\"`\r\n      , _t = t ? `${t}: `: ''\r\n      , _v = v !== null ? v: '';\r\n  return `\r\n  <span ${TITLE_STYLE}>${_t}</span>\r\n  <span ${_vStyle}>${_v}</span>`;\r\n}\r\nconst _crRow = (t='', v='', option) => {\r\n  return `<div>${_crSpan(t, v, option)}</div>`;\r\n}\r\n\r\nconst _crHeader = (date, id, cssClass='') => {\r\n  return `<div id=\"${id}\" class=\"tp__header not-selected ${cssClass}\">\r\n    <span class=\"tp__header__caption\">${date}</span>\r\n    <span class=\"tp__header__close\">X</span>\r\n  </div>`;\r\n}\r\n\r\nconst _fnTooltipSparkType4 = function({\r\n  fullWidth, width, year, value, total, percent, id\r\n}){\r\n  const _style = `style=\"float:left;padding-right:10px;width:${width}px;\"`;\r\n  return `<div class=\"tp__body\">\r\n  <div class=\"tp__body__part1\" style=\"width:${fullWidth}px;\" >\r\n    <div ${_style}>\r\n      ${_crRow('Year', year, { color: C.YEAR_C })}\r\n      ${_crRow('Value', value)}\r\n    </div>\r\n    <div id=\"${id}_${SPARKLINES_SUFFIX_ID}\" class=\"tp__body__sparklines\">\r\n    </div>\r\n  </div>\r\n  <div class=\"tp__body__part1\" style=\"width:${fullWidth}px;\" >\r\n    <div ${_style}>\r\n      ${_crRow('Total', total)}\r\n      ${_crRow('Percent', percent)}\r\n    </div>\r\n    <div id=\"${id}_${SPARKLINES_BAR_SUFFIX_ID}\" class=\"tp__body__sparklines\">\r\n    </div>\r\n  </div>`;\r\n}\r\n\r\nconst _fnBaseTooltip = function({date, id, color, valueText='Value', value}){\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow(valueText, value, { color })}\r\n  </div>`;\r\n}\r\n\r\nconst _fnExDividend = function({date, id, valueText, value, point}){\r\n  const { exValue, price } = point;\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Ex-Dividend', exValue, { color: '#90ed7d'})}\r\n    ${_crRow('Close', price)}\r\n  </div>`;\r\n}\r\n\r\nconst _fnSplitRatio = function({date, id, valueText, value, point}){\r\n  const { splitRatio, price } = point\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Split Ratio', splitRatio, { color: '#ED5813'})}\r\n    ${_crRow('Close', price)}\r\n  </div>`;\r\n}\r\n\r\nconst _fnExValue = function({ date, id, point }){\r\n  const { exValue } = point;\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Value', exValue)}\r\n  </div>`;\r\n}\r\nconst _fnEPS = function({ date, id, point }){\r\n  const {\r\n          announceTime, fiscalPeriod, fiscalEndDate,\r\n          actualEPS, estimatedEPS,\r\n          numberOfEstimates, EPSSurpriseDollar\r\n        } = point;\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp_body\">\r\n    <div>\r\n      ${_crSpan('', announceTime, { color: C.YEAR_C })}\r\n      ${_crSpan('', fiscalPeriod)}\r\n      ${_crSpan('', fiscalEndDate)}\r\n    </div>\r\n    <div style=${FONT_STYLE}>\r\n      ${_crSpan('EPS', actualEPS)}\r\n      ${_crSpan('Est.', estimatedEPS)}\r\n    </div>\r\n    <div style=${FONT_STYLE}>\r\n      ${_crSpan('Supr.', EPSSurpriseDollar)}\r\n      ${_crSpan('NumbEst.', numberOfEstimates)}\r\n    </div>\r\n  </div>`;\r\n}\r\n\r\nconst _fnVolumeTooltip = function({ date, id, value, point }){\r\n  const { _open='NoData', _close='', _low='', _high='' } = point;\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Volume', value)}\r\n    <div>\r\n      ${_crSpan('Open', _open)}\r\n      ${_crSpan('Close', _close)}\r\n    </div>\r\n    <div>\r\n      ${_crSpan('Low', _low)}\r\n      ${_crSpan('High', _high)}\r\n    </div>\r\n  </div>`;\r\n}\r\n\r\nconst _fnATHTooltip = function({date, id, value, point}){\r\n  const { color, y, close, open } = point\r\n   return `${_crHeader(date, id)}\r\n    <div class=\"tp__body\">\r\n      ${_crRow('ATH', y+'%', { color })}\r\n      ${_crRow('Prev Close', close)}\r\n      ${_crRow('Next Open', open)}\r\n    </div>`;\r\n}\r\n\r\nconst _fnHighLowTooltip = function({date, id, value, point}){\r\n  const { open, dayHigh, dayLow, close } = point;\r\n  return `${_crHeader(date, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Open', open)}\r\n    ${_crRow('High', dayHigh)}\r\n    ${_crRow('Low', dayLow)}\r\n    ${_crRow('Close', close)}\r\n  </div>`;\r\n}\r\nconst _fnCategoryRHLY = function({ id, point }){\r\n  const { high, yHigh, low, yLow, c } = point;\r\n  return `${_crHeader(c, id)}\r\n  <div class=\"tp__body\">\r\n    <div>\r\n      ${_crSpan('High', high)}\r\n      ${_crSpan('', yHigh, { color: C.YEAR_C })}\r\n    </div>\r\n    <div>\r\n      ${_crSpan('&nbsp;Low', low)}\r\n      ${_crSpan('', yLow, { color: C.YEAR_C })}\r\n    </div>\r\n  </div>`;\r\n};\r\n\r\n\r\nconst _fnCategory = function({ id, point }){\r\n  const { y, c } = point;\r\n  return `${_crHeader(c, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Value', toNumberFormatAll(y))}\r\n  </div>`;\r\n};\r\n\r\nconst _fnTreeMap = function({ id, point }){\r\n  const { title, label, value, percent='' } = point\r\n  , _percent = percent ? `(${percent}%)` : ''\r\n  , _value = `${toNumberFormatAll(value)} ${_percent}`;\r\n  return `${_crHeader(title, id)}\r\n  <div class=\"tp_body\">\r\n    ${_crRow('', label)}\r\n    ${_crRow('', _value, { color: C.YEAR_C })}\r\n  </div>\r\n  `;\r\n}\r\n\r\n\r\n\r\nconst _fnPieTooltip = function({ id, value, point }){\r\n  return `${_crHeader(point.nameFull, id)}\r\n  <div class=\"tp__body\">\r\n    ${_crRow('Value', value)}\r\n  </div>`;\r\n}\r\n\r\nconst _fnCalcWidthSparkType4 = function(value, total){\r\n  const _width1 = WIDTH_VALUE + value.length*WIDTH_CHAR\r\n      , _width2 = WIDTH_TOTAL + total.length*WIDTH_CHAR\r\n      , width = (_width1>_width2) ? _width1 : _width2\r\n      , fullWidth = width + WIDTH_SPARK;\r\n  return { fullWidth, width };\r\n}\r\n\r\nconst _fnStackedAreaTooltip = function({id, value, point}){\r\n  const {nameFull, category, percent='0.0', total=0} = point\r\n      , _total = toNumberFormat(total)\r\n      , { fullWidth, width } = _fnCalcWidthSparkType4(value, _total);\r\n\r\n  return _crHeader(nameFull, id) + _fnTooltipSparkType4({\r\n    fullWidth, width, year: category, value, total: _total, percent, id\r\n  });\r\n}\r\n\r\nconst _fnTreeMapTooltip = function({id, point}){\r\n  const {nameFull, year, value='0.0', percent='0.0', total=0} = point\r\n      , _value = toNumberFormat(value)\r\n      , _total = toNumberFormat(total)\r\n      , { fullWidth, width } = _fnCalcWidthSparkType4(_value, _total);\r\n\r\n  return _crHeader(nameFull, id) + _fnTooltipSparkType4({\r\n    fullWidth, width, year, value: _value, total: _total, percent, id\r\n  })\r\n}\r\n\r\nconst _fHide = (id, point) => function _fnHide() {\r\n  document.getElementById(id)\r\n          .removeEventListener('click', _fnHide);\r\n  point.series.chart.zhTooltip.hide();\r\n}\r\n\r\nconst _fnAddHandlerClose = function(id, point){\r\n  setTimeout( function(){\r\n    document.getElementById(id)\r\n            .addEventListener('click', _fHide(id, point))\r\n  }, 1);\r\n}\r\n\r\n\r\nconst _crSparkData = (point) => {\r\n  const { sparkvalues, sparkpercent } = point;\r\n  let  sparkLinesData = []\r\n     , sparkBarsData = []\r\n     , pointIndex;\r\n\r\n  if (sparkvalues) {\r\n    sparkLinesData = sparkvalues;\r\n    sparkBarsData = sparkpercent;\r\n    pointIndex = (sparkvalues.length !== 0)\r\n           ? sparkvalues.length - 1\r\n           : 0 ;\r\n  } else {\r\n    const seriesData = point.series.data;\r\n    seriesData.forEach((item, itemIndex) => {\r\n       sparkLinesData.push(item.y);\r\n       sparkBarsData.push(item.percentage)\r\n    })\r\n    pointIndex = point.index\r\n  }\r\n  return { sparkLinesData, sparkBarsData, pointIndex };\r\n}\r\n\r\nconst _fnAddHandlerCloseAndSparklines = function(id, point){\r\n  setTimeout( function(){\r\n          document.getElementById(id)\r\n             .addEventListener('click', _fHide(id,point))\r\n\r\n          const {\r\n                  sparkLinesData, sparkBarsData,\r\n                  pointIndex\r\n                } = _crSparkData(point)\r\n             , sparklines = SparkFactory.createSparklines(sparkLinesData, pointIndex)\r\n             , sparkbars = SparkFactory.createSparkbars(sparkBarsData, pointIndex);\r\n         render( sparklines, document.getElementById(`${id}_${SPARKLINES_SUFFIX_ID}`))\r\n         render( sparkbars, document.getElementById(`${id}_${SPARKLINES_BAR_SUFFIX_ID}`))\r\n  }, 1);\r\n}\r\n\r\nconst _fnFormatCategory = x => x;\r\n\r\nconst _fnBasePointFormatter = function( option ){\r\n  return function(){\r\n   const {\r\n          fnTemplate, onAfterRender=_fnAddHandlerClose,\r\n          fnDateFormat = toDateFormatDMY,\r\n          isWithColor, isWithValueText, isWithValue\r\n         } = option\r\n       , point = this\r\n       , series = point.series\r\n       , date = fnDateFormat(point.x)\r\n       , color = isWithColor\r\n           ? point.color || series.color\r\n           : undefined\r\n       , { zhValueText, name='Value',\r\n           //id, zhSeriaId\r\n         } = series.userOptions\r\n       //, _id = zhSeriaId || id || 'TP'\r\n       , _id = crTpId()\r\n       , valueText = isWithValueText\r\n            ? zhValueText || name\r\n            : 'Value'\r\n       , value = isWithValue\r\n            ? toNumberFormat(point.y)\r\n            : null;\r\n\r\n       onAfterRender(_id, point)\r\n\r\n       return fnTemplate({ id: _id, date, color, valueText, value, point });\r\n  }\r\n}\r\n\r\nconst Tooltip = {\r\n   fnBasePointFormatter: _fnBasePointFormatter({\r\n     fnTemplate : _fnBaseTooltip,\r\n     isWithColor: true, isWithValueText: true, isWithValue: true\r\n   }),\r\n   fnBasePointFormatterT: _fnBasePointFormatter({\r\n     fnTemplate : _fnBaseTooltip,\r\n     fnDateFormat: toDateFormatDMYT,\r\n     isWithColor: true, isWithValueText: true, isWithValue: true\r\n  }),\r\n  fnBasePointFormatterC: _fnBasePointFormatter({\r\n    fnTemplate : _fnBaseTooltip,\r\n    fnDateFormat: _fnFormatCategory,\r\n    isWithColor: true, isWithValueText: true, isWithValue: true\r\n  }),\r\n  category: _fnBasePointFormatter({\r\n    fnTemplate: _fnCategory\r\n  }),\r\n  categoryRHLY: _fnBasePointFormatter({\r\n    fnTemplate: _fnCategoryRHLY\r\n  }),\r\n\r\n  fnExDividendPointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnExDividend\r\n  }),\r\n  fnSplitRatioPointFormatter: _fnBasePointFormatter({\r\n    fnTemplate : _fnSplitRatio\r\n  }),\r\n  exValue: _fnBasePointFormatter({\r\n    fnTemplate: _fnExValue\r\n  }),\r\n  eps: _fnBasePointFormatter({\r\n    fnTemplate : _fnEPS\r\n  }),\r\n\r\n  fnVolumePointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnVolumeTooltip, isWithValue: true\r\n  }),\r\n  fnVolumePointFormatterT: _fnBasePointFormatter({\r\n    fnTemplate: _fnVolumeTooltip,    \r\n    fnDateFormat: toDateFormatDMYT,\r\n    isWithValue: true\r\n  }),\r\n\r\n  fnATHPointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnATHTooltip\r\n  }),\r\n  fnHighLowPointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnHighLowTooltip\r\n  }),\r\n  fnPiePointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnPieTooltip, isWithValue: true\r\n  }),\r\n  fnStackedAreaPointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnStackedAreaTooltip,\r\n    onAfterRender: _fnAddHandlerCloseAndSparklines,\r\n    isWithValue: true\r\n  }),\r\n  fnTreeMapPointFormatter: _fnBasePointFormatter({\r\n    fnTemplate: _fnTreeMapTooltip,\r\n    onAfterRender: _fnAddHandlerCloseAndSparklines,\r\n    isWithValue: true\r\n  }),\r\n  treeMap: _fnBasePointFormatter({\r\n    fnTemplate: _fnTreeMap\r\n  })\r\n}\r\n\r\nexport default Tooltip\r\n"]}