{"version":3,"sources":["../../../src/charts/plugin/zhCaption.js"],"names":["S","TEXT","color","INLINE","display","NONE","C","HIDE","chart","spacingTop","marginTop","exporting","enabled","subtitle","style","title","SHOW","PN","TITLE","SUBTITLE","_renderTextTo","objText","x","y","propName","_el","css","text","renderer","add","_hideEl","zhCaption","Chart","prototype","zhHideCaption","_height","chartHeight","update","setSize","_","options","err","console","log","msg","zhShowCaption"],"mappings":"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","sourcesContent":["\r\nconst S = {\r\n  TEXT: {\r\n    color: 'black',\r\n    'font-size': '16px',\r\n    'font-weight': 800\r\n  },\r\n  INLINE: {\r\n    display: 'inline'\r\n  },\r\n  NONE: {\r\n    display: 'none'\r\n  }\r\n};\r\n\r\nconst C = {\r\n  HIDE: {\r\n    chart: {\r\n      spacingTop: 0,\r\n      marginTop: 18\r\n    },\r\n    exporting: { enabled: false },\r\n    subtitle: { style: { display: 'none'}},\r\n    title: { style: { display: 'none'}}\r\n  },\r\n  SHOW: {\r\n    chart: {\r\n      spacingTop: 25,\r\n      marginTop: 70\r\n    },\r\n    exporting: { enabled: true },\r\n    subtitle: { style: { display: 'inline-block'}},\r\n    title: { style: { display: 'inline-block'}}\r\n  }\r\n};\r\n\r\nconst PN = {\r\n  TITLE: 'zhElTitle',\r\n  SUBTITLE: 'zhElSubtitle'\r\n};\r\n\r\nconst _renderTextTo = (chart, objText, x, y, propName) => {\r\n  const _el = chart[propName];\r\n  if (_el && _el.css) {\r\n    _el.css({...S.INLINE})\r\n    return;\r\n  }\r\n  const { text } = objText || {};\r\n  if (text) {\r\n    chart[propName] = chart.renderer.text(text, x, y)\r\n      .css({...S.TEXT})\r\n      .add()\r\n  }\r\n};\r\nconst _hideEl = (chart, propName) => {\r\n  const _el = chart[propName];\r\n  if (_el && _el.css) {\r\n    _el.css({...S.NONE})\r\n  }\r\n};\r\n\r\nconst zhCaption = (Chart) => {\r\n  Chart.prototype.zhHideCaption = function(){\r\n    try {\r\n      const _height = this.chartHeight - 40;\r\n      this.update(C.HIDE, false)\r\n      this.setSize(null, _height, true)\r\n\r\n      const _ = this.options\r\n      _renderTextTo(this, _.title, 40, 70, PN.TITLE)\r\n      _renderTextTo(this, _.subtitle, 40, 90, PN.SUBTITLE)\r\n    } catch(err) {\r\n      console.log(err.msg)\r\n    }\r\n  }\r\n\r\n  Chart.prototype.zhShowCaption = function(){\r\n    try {\r\n      const _height = this.chartHeight + 40;\r\n      this.update(C.SHOW, false)\r\n      this.setSize(null, _height, true)\r\n\r\n      _hideEl(this, PN.TITLE)\r\n      _hideEl(this, PN.SUBTITLE)\r\n    } catch(err) {\r\n      console.log(err.msg)\r\n    }\r\n  }\r\n};\r\n\r\nexport default zhCaption\r\n"],"file":"zhCaption.js"}