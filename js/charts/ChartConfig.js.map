{"version":3,"sources":["../../src/charts/ChartConfig.js"],"names":["_merge","Highcharts","merge","_assign","Object","assign","_isStr","str","_crScatterSeria","color","pointFormatter","data","type","tooltip","Chart","fTooltip","_crSeriaOption","option","visible","marker","radius","symbol","ChartConfig","WithIndicator","WithMarkers","WithPie","WithStackedArea","WithStackedColumn","WithTreeMap","init","setOptions","ChartTheme","setSerieData","config","index","name","options","series","lineWidth","point","fEventsMouseOver","handleMouseOver","setStockSerias","dClose","dHigh","dLow","dOpen","id","COLOR","S_HIGH","S_LOW","S_OPEN","getColor","seriaIndex","colors","length","crDividendSeria","EX_DIVIDEND","Tooltip","exDividend","crSplitRatioSeria","SPLIT_RATIO","splitRatio","crSeria","seriaType","seriaWidth","seriaColor","tp","restOption","toLowerCase","vDmy","crAreaConfig","chart","zoomType","resetZoomButton","fResetZoomButton","position","x","xDeltaCrossLabel","yDeltaCrossLabel","zhDetailCharts","xAxis","fXAxisOpposite","events","afterSetExtremes","ChartFn","zoomIndicatorCharts","yAxis","tickLength","offset","labels","y","afterSetExtremesYAxis","plotLines","fPlotLine","HIGH","LOW"],"mappings":"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","sourcesContent":["import Highcharts from 'highcharts';\r\nimport HighchartsMore from 'highcharts/highcharts-more';\r\nimport HighchartsTreemap from 'highcharts/modules/treemap';\r\nimport HighchartsExporting from 'highcharts/modules/exporting';\r\nimport HighchartsOfflineExporting from 'highcharts/modules/offline-exporting';\r\n\r\nimport HighchartsZhn from './plugin/zhn-highcharts'\r\n\r\n//import HighchartsMore from 'highcharts/lib/highcharts-more';\r\n//import HighchartsTreemap from 'highcharts/lib/modules/treemap';\r\n//import HighchartsExporting from 'highcharts/lib/modules/exporting';\r\n//import HighchartsOfflineExporting from 'highcharts/lib/modules/offline-exporting';\r\n\r\nimport COLOR from '../constants/Color';\r\nimport Chart from './Chart';\r\nimport ChartFn from './ChartFn';\r\nimport Tooltip from './Tooltip';\r\n\r\nimport ChartTheme from './ChartTheme'\r\nimport handleMouseOver from './handleMouseOver'\r\n\r\nimport WithIndicator from './WithIndicatorConfig';\r\nimport WithMarkers from './WithMarkers';\r\nimport WithPie from './WithPieConfig';\r\nimport WithStackedArea from './WithStackedAreaConfig';\r\nimport WithStackedColumn from './WithStackedColumnConfig';\r\nimport WithTreeMap from './WithTreeMapConfig';\r\n\r\nconst _merge = Highcharts.merge;\r\nconst _assign = Object.assign;\r\nconst _isStr = str => typeof str === 'string';\r\n\r\nconst _crScatterSeria = (color, pointFormatter, data) => ({\r\n  type: 'scatter',\r\n  color: color,\r\n  tooltip: Chart.fTooltip(pointFormatter),\r\n  data: data\r\n});\r\n\r\nconst _crSeriaOption = (color, option) => _assign({\r\n  type: 'line', visible: false, color,\r\n  marker: {\r\n    radius: 3,\r\n    symbol: \"circle\"\r\n  }\r\n}, option);\r\n\r\n\r\nconst ChartConfig = {\r\n  ...WithIndicator,\r\n  ...WithMarkers,\r\n  ...WithPie,\r\n  ...WithStackedArea,\r\n  ...WithStackedColumn,\r\n  ...WithTreeMap,\r\n\r\n  init(){\r\n    HighchartsMore(Highcharts);\r\n    HighchartsTreemap(Highcharts);\r\n    HighchartsExporting(Highcharts);\r\n    HighchartsOfflineExporting(Highcharts);\r\n\r\n    HighchartsZhn(Highcharts)\r\n\r\n    Highcharts.setOptions(ChartTheme);\r\n  },\r\n\r\n  setSerieData(config, data, index, name, options) {\r\n    config.series[index] = _assign({\r\n      type: 'area',\r\n      name: name,\r\n      data: data,\r\n      lineWidth: 1\r\n    }, options)\r\n\r\n    config.series[index].point = Chart.fEventsMouseOver(\r\n      handleMouseOver\r\n    )\r\n  },\r\n\r\n  setStockSerias(config, dClose, dHigh, dLow, dOpen, id){\r\n    this.setSerieData(config, dClose, 0, 'Close')\r\n    this.setSerieData(config, dHigh, 1, 'High',\r\n      _crSeriaOption(COLOR.S_HIGH)\r\n    )\r\n    this.setSerieData(config, dLow, 2, 'Low',\r\n      _crSeriaOption(COLOR.S_LOW)\r\n    )\r\n    this.setSerieData(config, dOpen, 3, 'Open',\r\n      _crSeriaOption(COLOR.S_OPEN)\r\n    )\r\n  },\r\n\r\n  getColor(seriaIndex) {\r\n    const colors = ChartTheme.colors;\r\n    return colors[seriaIndex % colors.length];\r\n  },\r\n\r\n  crDividendSeria: (data) => _crScatterSeria(\r\n    COLOR.EX_DIVIDEND,\r\n    Tooltip.exDividend,\r\n    data\r\n  ),\r\n\r\n  crSplitRatioSeria: (data) => _crScatterSeria(\r\n    COLOR.SPLIT_RATIO,\r\n    Tooltip.splitRatio,\r\n    data\r\n  ),\r\n\r\n  crSeria: (option={}) => {\r\n    const {\r\n      seriaType, seriaWidth, seriaColor,\r\n      tp,\r\n      ...restOption\r\n    } = option\r\n    , type = _isStr(seriaType)\r\n        ? seriaType.toLowerCase()\r\n        : 'spline'\r\n    , pointFormatter = tp && Tooltip[tp]\r\n        || Tooltip.vDmy;\r\n    return {\r\n      type,\r\n      lineWidth: seriaWidth ?? 1,\r\n      color: seriaColor,\r\n      tooltip: Chart.fTooltip(pointFormatter),\r\n      ...restOption\r\n    };\r\n  },\r\n\r\n  crAreaConfig: (options) => {\r\n    const config = _merge(\r\n      Chart.crAreaConfig(options), {\r\n      chart: {\r\n        zoomType: 'xy',\r\n        resetZoomButton: Chart.fResetZoomButton({\r\n          position: {x: -10}\r\n        }),\r\n        xDeltaCrossLabel: 4,\r\n        yDeltaCrossLabel: 20\r\n      },\r\n      zhDetailCharts: []\r\n    });\r\n\r\n    config.xAxis = _assign( Chart.fXAxisOpposite(config.xAxis), {\r\n      events: {\r\n        afterSetExtremes : ChartFn.zoomIndicatorCharts\r\n      }\r\n    })\r\n    config.yAxis = _assign(config.yAxis, {\r\n      lineWidth: 0,\r\n      tickLength: 0,\r\n      offset: 4,\r\n      labels: {\r\n        x: 8,\r\n        y: 5\r\n      },\r\n      events: {\r\n        afterSetExtremes: ChartFn.afterSetExtremesYAxis\r\n      }\r\n    })\r\n\r\n\r\n    config.yAxis.plotLines = [\r\n      Chart.fPlotLine(COLOR.HIGH, 'max'),\r\n      Chart.fPlotLine(COLOR.LOW, 'min')\r\n    ]\r\n\r\n    return config;\r\n  }\r\n};\r\n\r\nexport default ChartConfig\r\n"],"file":"ChartConfig.js"}