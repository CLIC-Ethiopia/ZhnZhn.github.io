{"version":3,"sources":["../../../src/components/eurostat/crDateConfig.js"],"names":["C","DF_PLACEHOLDER","YEAR_MAX","BI_YEAR_MAX","Q_YEAR_MAX","M_YEAR_MAX","_getDfDate","dateOptions","dfIndex","value","_addYearMonthsTo","y","m","Date","getUTCMonth","_m","_caption","i","push","caption","_addYearQuartesTo","delimeter","_c","Math","floor","qNow","_crDateConfig","mapDateDf","dateDefault","_yearMonthConfig","getUTCFullYear","_yearQuarterConfig","_yearBiAnnualConfig","_yearConfig","_emptyConfig","crDateConfig","frequency"],"mappings":"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","sourcesContent":["\r\nconst C = {\r\n  DF_PLACEHOLDER: 'Before Select Metric',\r\n  YEAR_MAX: 12,\r\n  BI_YEAR_MAX: 24,\r\n  Q_YEAR_MAX: 4,\r\n  M_YEAR_MAX: 3\r\n};\r\n\r\nconst _getDfDate = (dateOptions, dfIndex) => {\r\n  return (dateOptions[dfIndex] || {}).value;\r\n};\r\n\r\nconst _addYearMonthsTo = (dateOptions, y) => {\r\n\tlet m = (new Date()).getUTCMonth()\r\n\t  , _m, _caption, i;\r\n\tfor(i=0; i<12; i++){\r\n\t\tm = m - 1;\r\n\t\tif (m > -1){\r\n\t\t\t_m = (m+1>9) ? m+1 : '0'+(m+1);\r\n\t\t\t_caption = `${y}M${_m}`\r\n\t\t} else {\r\n\t\t\tm = 11;\r\n\t\t\ty = y - 1;\r\n\t\t\t_caption = `${y}M12`;\r\n\t\t}\r\n\t\tdateOptions.push({\r\n\t\t\tcaption: _caption,\r\n\t\t\tvalue: _caption\r\n\t\t})\r\n\t}\r\n};\r\n\r\nconst _addYearQuartesTo = (dateOptions, y, delimeter) => {\r\n  const m = (new Date()).getUTCMonth()\r\n      , _c = Math.floor( (m + 1) / 3);\r\n  let qNow = ( _c === 4 ) ? 3 : _c ;\r\n\r\n  let i;\r\n  for (i=0; i<4; i++){\r\n    if (qNow < 1) { y = y - 1; qNow = 4; }\r\n    dateOptions.push({\r\n      caption: `${y}${delimeter}${qNow}`,\r\n      value: `${y}${delimeter}${qNow}`\r\n    })\r\n    qNow = qNow - 1;\r\n  }\r\n};\r\n\r\nconst _crDateConfig = (dateOptions, mapDateDf) => ({\r\n  dateOptions,\r\n  dateDefault: _getDfDate(dateOptions, mapDateDf)\r\n});\r\n\r\nconst _yearMonthConfig = (mapDateDf=2) => {\r\n\tconst dateOptions = []\r\n\t\t\t, y = (new Date()).getUTCFullYear();\r\n  for(let i=0; i<C.M_YEAR_MAX; i++){\r\n    _addYearMonthsTo(dateOptions, y-i);\r\n  }\r\n\treturn _crDateConfig(dateOptions, mapDateDf);\r\n};\r\n\r\nconst _yearQuarterConfig = (mapDateDf=1, delimeter='Q') => {\r\n\tconst dateOptions = []\r\n      , y = (new Date()).getUTCFullYear();\r\n  for(let i=0; i<C.Q_YEAR_MAX; i++){\r\n    _addYearQuartesTo(dateOptions, y-i, delimeter)\r\n  }\r\n\treturn _crDateConfig(dateOptions, mapDateDf);\r\n};\r\n\r\n\r\nconst _yearBiAnnualConfig = (mapDateDf=3) => {\r\n  const dateOptions = [];\r\n  let y = (new Date()).getUTCFullYear()\r\n  for(let i=0; i<C.BI_YEAR_MAX; i++){\r\n    dateOptions.push(\r\n      { caption: `${y}S2`, value: `${y}S2`},\r\n      { caption: `${y}S1`, value: `${y}S1`}\r\n    )\r\n    y = y - 1;\r\n  }\r\n  return _crDateConfig(dateOptions, mapDateDf);\r\n};\r\n\r\nconst _yearConfig = function(mapDateDf=1){\r\n\tconst dateOptions = [];\r\n  let y = (new Date()).getUTCFullYear();\r\n\tfor (let i=0; i<C.YEAR_MAX; i++){\r\n\t\tdateOptions.push({\r\n\t\t\tcaption: ''+y,\r\n\t\t\tvalue: ''+y\r\n\t\t});\r\n\t\ty = y - 1;\r\n\t}\r\n\treturn _crDateConfig(dateOptions, mapDateDf);\r\n}\r\n\r\nconst _emptyConfig = () => ({\r\n  dateDefault: C.DF_PLACEHOLDER,\r\n  dateOptions: []\r\n});\r\n\r\nconst crDateConfig = (frequency='M', mapDateDf) => {   \r\n   switch (frequency){\r\n     case 'M':\r\n       return _yearMonthConfig(mapDateDf);\r\n     case 'Q':\r\n     case 'K':\r\n       return _yearQuarterConfig(mapDateDf, frequency);\r\n     case 'S':\r\n       return _yearBiAnnualConfig();\r\n     case 'Y':\r\n       return _yearConfig(mapDateDf);\r\n     case 'EMPTY':\r\n       return _emptyConfig();\r\n     default:\r\n       return _yearConfig(mapDateDf);\r\n   }\r\n}\r\n\r\nexport default crDateConfig\r\n"],"file":"crDateConfig.js"}