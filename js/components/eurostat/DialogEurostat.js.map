{"version":3,"sources":["../../../src/components/eurostat/DialogEurostat.jsx"],"names":["DialogEurostat","withToolbar","withValidationLoad","props","_handleSelectOne","one","_handleSelectTwo","two","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","oneCaption","twoCaption","msg","push","msgOnNotSelected","isValid","length","loadFn","_handleClose","_handleWithValidationClose","undefined","toolbarButtons","_createType2WithToolbar","noDate","_commandButtons","state","isShowLabels","validationMessages","nextProps","nextState","isShow","caption","onShow","onFront","oneURI","oneJsonProp","twoURI","twoJsonProp","defaultProps"],"mappings":"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","file":"DialogEurostat.js","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\n\r\n@Decor.withToolbar\r\n@Decor.withValidationLoad\r\nclass DialogEurostat extends Component {\r\n  static defaultProps = {\r\n    oneCaption: 'Item',\r\n    oneJsonProp: 'items',\r\n    twoCaption: 'Metric',\r\n    twoJsonProp: 'metrics',\r\n  }\r\n\r\n  /*\r\n  static propTypes = {\r\n    isShow: PropTypes.bool,\r\n    caption: PropTypes.string,\r\n\r\n    oneCaption: PropTypes.string,\r\n    oneURI: PropTypes.string,\r\n    oneJsonProp: PropTypes.string,\r\n\r\n    twoCaption: PropTypes.string,\r\n    twoURI: PropTypes.string,\r\n    twoJsonProp: PropTypes.string,\r\n\r\n    msgOnNotSelected: PropTypes.func,\r\n    onShow: PropTypes.func,\r\n    loadFn: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super();\r\n    this.one = undefined;\r\n    this.two = undefined;\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { noDate: true }\r\n    )\r\n    this._commandButtons = [\r\n      <D.Button.Load onClick={this._handleLoad} />\r\n    ];\r\n    this.state = {\r\n      isShowLabels: true,\r\n      validationMessages: []\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n  _handleSelectTwo = (two) => {\r\n    this.two = two;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     const { oneCaption, twoCaption } = this.props;\r\n     let msg = [];\r\n\r\n     if (!this.one) { msg.push(this.props.msgOnNotSelected(oneCaption)); }\r\n     if (!this.two) { msg.push(this.props.msgOnNotSelected(twoCaption)); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n  _createLoadOption = () => {\r\n    return this.props.loadFn(\r\n      this.props,\r\n      { one : this.one, two : this.two }\r\n    );\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp\r\n          } = this.props\r\n        , {\r\n            isShowLabels,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             caption={caption}\r\n             isShow={isShow}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.ToolbarButtonCircle\r\n               buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={twoURI}\r\n               jsonProp={twoJsonProp}\r\n               caption={twoCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectTwo}\r\n             />\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogEurostat\r\n"]}