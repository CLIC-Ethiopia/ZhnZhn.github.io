{"version":3,"sources":["../../../src/components/eurostat/DialogEurostat.jsx"],"names":["DialogEurostat","Decor","dialog","props","_handleSelectOne","one","_handleSelectTwo","two","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","oneCaption","twoCaption","msg","push","msgOnNotSelected","isValid","length","loadFn","_handleClose","_handleWithValidationClose","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","noDate","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","caption","onShow","onFront","oneURI","oneJsonProp","twoURI","twoJsonProp","isToolbar","isShowLabels","validationMessages","Component","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport crMenuMore from '../dialogs/MenuMore'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\n\r\n@Decor.dialog\r\nclass DialogEurostat extends Component {\r\n  /*\r\n  static propTypes = {\r\n    isShow: PropTypes.bool,\r\n    caption: PropTypes.string,\r\n\r\n    oneCaption: PropTypes.string,\r\n    oneURI: PropTypes.string,\r\n    oneJsonProp: PropTypes.string,\r\n\r\n    twoCaption: PropTypes.string,\r\n    twoURI: PropTypes.string,\r\n    twoJsonProp: PropTypes.string,\r\n\r\n    msgOnNotSelected: PropTypes.func,\r\n    onShow: PropTypes.func,\r\n    loadFn: PropTypes.func\r\n  }\r\n  */\r\n\r\n  static defaultProps = {\r\n    oneCaption: 'Item',\r\n    oneJsonProp: 'items',\r\n    twoCaption: 'Metric',\r\n    twoJsonProp: 'metrics',\r\n  }\r\n\r\n  constructor(props){\r\n    super(props);\r\n    //this.one = undefined;\r\n    //this.two = undefined;\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { noDate: true }\r\n    )\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState()\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n  _handleSelectTwo = (two) => {\r\n    this.two = two;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     const { oneCaption, twoCaption } = this.props;\r\n     let msg = [];\r\n\r\n     if (!this.one) { msg.push(this.props.msgOnNotSelected(oneCaption)); }\r\n     if (!this.two) { msg.push(this.props.msgOnNotSelected(twoCaption)); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n  _createLoadOption = () => {\r\n    return this.props.loadFn(\r\n      this.props,\r\n      { one : this.one, two : this.two }\r\n    );\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             caption={caption}\r\n             isShow={isShow}\r\n             menuModel={this._menuMore}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n               isShow={isToolbar}\r\n               buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={twoURI}\r\n               jsonProp={twoJsonProp}\r\n               caption={twoCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectTwo}\r\n             />\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogEurostat\r\n"],"file":"DialogEurostat.js"}