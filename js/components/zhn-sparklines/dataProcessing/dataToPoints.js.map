{"version":3,"sources":["../../../../src/components/zhn-sparklines/dataProcessing/dataToPoints.js"],"names":["data","limit","width","height","margin","max","min","len","length","slice","vfactor","hfactor","map","d","i","x","y"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;kBAEe,gBAA8F;AAAA,QAA3FA,IAA2F,QAA3FA,IAA2F;AAAA,QAArFC,KAAqF,QAArFA,KAAqF;AAAA,0BAA9EC,KAA8E;AAAA,QAA9EA,KAA8E,8BAAxE,CAAwE;AAAA,2BAArEC,MAAqE;AAAA,QAArEA,MAAqE,+BAA9D,CAA8D;AAAA,2BAA3DC,MAA2D;AAAA,QAA3DA,MAA2D,+BAApD,CAAoD;AAAA,wBAAjDC,GAAiD;AAAA,QAAjDA,GAAiD,4BAA3C,mBAASL,IAAT,CAA2C;AAAA,wBAA3BM,GAA2B;AAAA,QAA3BA,GAA2B,4BAArB,mBAASN,IAAT,CAAqB;;;AAEzG,QAAMO,MAAMP,KAAKQ,MAAjB;;AAEA,QAAIP,SAASA,QAAQM,GAArB,EAA0B;AACtBP,eAAOA,KAAKS,KAAL,CAAWF,MAAMN,KAAjB,CAAP;AACH;;AAED,QAAMS,UAAU,CAACP,SAASC,SAAS,CAAnB,KAA0BC,MAAMC,GAAP,IAAe,CAAxC,CAAhB;AACA,QAAMK,UAAU,CAACT,QAAQE,SAAS,CAAlB,KAAwB,CAACH,SAASM,GAAV,KAAkBA,MAAM,CAAN,GAAU,CAAV,GAAc,CAAhC,CAAxB,CAAhB;AACA;;AAEA,WAAOP,KAAKY,GAAL,CAAS,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAW;AACvBC,eAAGD,IAAIH,OAAJ,GAAcP,MADM;AAEvB;AACAY,eAAG,CAACX,QAAQC,GAAR,GAAc,CAAd,GAAmBD,MAAMQ,CAA1B,IAAgCH,OAAhC,GAA0CN;AAHtB,SAAX;AAAA,KAAT,CAAP;AAKH,C","file":"dataToPoints.js","sourcesContent":["import arrayMin from './min';\r\nimport arrayMax from './max';\r\n\r\nexport default ({ data, limit, width=1, height=1, margin=0, max = arrayMax(data), min = arrayMin(data) }) => {\r\n\r\n    const len = data.length;\r\n\r\n    if (limit && limit < len) {\r\n        data = data.slice(len - limit);\r\n    }\r\n\r\n    const vfactor = (height - margin * 2) / ((max - min) || 2);\r\n    const hfactor = (width - margin * 2) / ((limit || len) - (len > 1 ? 1 : 0));\r\n    //const hfactor = (width - marginLeft - marginRight) / ((limit || len) - (len > 1 ? 1 : 0));\r\n\r\n    return data.map((d, i) => ({\r\n        x: i * hfactor + margin,\r\n        //x: i * hfactor + marginLeft + marginRight,\r\n        y: (max === min ? 1 : (max - d)) * vfactor + margin\r\n    }));\r\n};\r\n"]}