{"version":3,"sources":["../../../src/components/zhn/InputSecret.jsx"],"names":["S","ROOT","position","display","backgroundColor","width","INPUT","background","border","outline","height","paddingLeft","color","fontSize","fontWeight","_isFn","fn","_maskValue","len","i","str","InputSecret","state","value","secret","_handleChangeValue","event","_value","target","_length","length","_nowLength","substring","setState","_handleKeyDown","keyCode","stopPropagation","props","onEnter","preventDefault","clear","render","placeholder","maxLength","getValue","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst S = {\r\n  ROOT: {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    backgroundColor: '#e1e1cb',\r\n    width: 250\r\n  },\r\n  INPUT: {\r\n    background: 'transparent none repeat scroll 0 0',\r\n    border: 'medium none',\r\n    outline: 'medium none',\r\n    height: 30,\r\n    paddingLeft: 10,\r\n    color: 'green',\r\n    width: '100%',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold'\r\n  }\r\n};\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _maskValue = (len=0) => {\r\n  let i=0, str = '';\r\n  for (i; i<len; i++){\r\n    str = str + 'X'\r\n  }\r\n  return str;\r\n}\r\n\r\nclass InputSecret extends Component {\r\n\r\n  state = {\r\n    value: ''\r\n  }\r\n  secret = ''\r\n\r\n\r\n  _handleChangeValue = (event) => {\r\n    const _value = event.target.value\r\n    , _length = _value.length\r\n    , _nowLength = this.secret.length;\r\n    if (_length === _nowLength + 1) {\r\n      this.secret = this.secret + _value[_length-1]\r\n    } else if ( _length === _nowLength - 1) {\r\n      this.secret = this.secret.substring(0, _nowLength-1)\r\n    } else if (_nowLength === 0) {\r\n      this.secret = _value\r\n    } else if (_length === 0) {\r\n      this.secret = ''\r\n    }    \r\n    this.setState({\r\n      value: _maskValue(this.secret.length)\r\n    });\r\n  }\r\n\r\n  _handleKeyDown = (event) => {\r\n    if (event.keyCode !== 27) {\r\n      event.stopPropagation()\r\n    }\r\n    switch(event.keyCode){\r\n      case 13:\r\n        if (_isFn(this.props.onEnter)) {\r\n          event.preventDefault()\r\n          this.props.onEnter(this.secret)\r\n        }\r\n        break;\r\n      case 27: case 46:\r\n        if (_isFn(this.props.onEnter)) {\r\n          this.props.onEnter('')\r\n        }\r\n        this.clear();\r\n        break;\r\n      default: return;\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { placeholder, maxLength=\"32\" } = this.props\r\n        , { value } = this.state;\r\n    return (\r\n      <div style={S.ROOT}>\r\n        <input\r\n           style={S.INPUT}\r\n           type=\"password\"\r\n           name=\"secret\"\r\n           //autoComplete=\"new-secret\"\r\n           autoComplete=\"off\"\r\n           autoCorrect=\"off\"\r\n           autoCapitalize=\"off\"\r\n           spellCheck=\"false\"\r\n           translate=\"false\"\r\n           placeholder={placeholder}\r\n           maxLength={maxLength}\r\n           value={value}\r\n           onChange={this._handleChangeValue}\r\n           onKeyDown={this._handleKeyDown}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  getValue(){\r\n    return this.secret;\r\n  }\r\n  clear(){\r\n    this.secret = ''\r\n    this.setState({ value: '' })\r\n  }\r\n}\r\n\r\nexport default InputSecret\r\n"],"file":"InputSecret.js"}