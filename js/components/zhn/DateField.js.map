{"version":3,"sources":["../../../src/components/zhn/DateField.jsx"],"names":["STYLE","ROOT","position","display","backgroundColor","width","INPUT","background","border","outline","height","paddingLeft","color","fontSize","fontWeight","HR","borderWidth","borderStyle","borderColor","borderImage","margin","marginLeft","marginRight","marginBottom","HR_VALID","HR_NOT_VALID","ERR_MSG","paddingBottom","DateField","props","_handleChangeValue","event","onTest","nForecastDate","value","target","setState","isValid","errorInput","undefined","_handleBlurValue","errorMsg","state","_handleKeyDown","keyCode","isOnEnter","onEnter","preventDefault","initValue","getValue","focusInput","inputDate","focus","rootStyle","inputStyle","placeholder","_styleHr","input","Object","assign","defaultProps","propTypes","object","string","number","func"],"mappings":"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","file":"DateField.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst STYLE = {\r\n  ROOT : {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    backgroundColor: '#E1E1CB',\r\n    width: '250px'\r\n  },\r\n  INPUT : {\r\n    background: 'transparent none repeat scroll 0 0',\r\n    border: 'medium none',\r\n    outline: 'medium none',\r\n    height: '30px',\r\n    paddingLeft: '10px',\r\n    color: 'green',\r\n    width: '100%',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold'\r\n  },\r\n  HR : {\r\n    borderWidth: 'medium medium 1px',\r\n    borderStyle: 'none none solid',\r\n    borderColor: 'red',\r\n    borderImage: 'none',\r\n    margin: 0,\r\n    marginLeft: '10px',\r\n    marginRight: '10px',\r\n    marginBottom: '5px',\r\n    width: 'auto'\r\n    //width: '90%'\r\n    //width: '230px'\r\n  },\r\n  HR_VALID : {\r\n     borderColor: '#1B75BB'\r\n  },\r\n  HR_NOT_VALID : {\r\n     borderColor: '#F44336'\r\n  },\r\n  ERR_MSG : {\r\n    color: '#F44336',\r\n    paddingLeft: '10px',\r\n    paddingBottom: '5px',\r\n    fontSize: '12px',\r\n    fontWeight: 'bold'\r\n  }\r\n};\r\n\r\nclass DateField extends Component {\r\n   static propTypes = {\r\n     rootStyle: PropTypes.object,\r\n     inputStyle: PropTypes.object,\r\n     initValue: PropTypes.string,\r\n     placeholder: PropTypes.string,\r\n     errorMsg: PropTypes.string,\r\n     nForecastDate: PropTypes.number,\r\n     onTest: PropTypes.func,\r\n     onEnter: PropTypes.func\r\n   }\r\n   static defaultProps = {\r\n      onTest: () => { return true; }\r\n   }\r\n\r\n   constructor(props){\r\n     super();\r\n     this.isOnEnter = (typeof props.onEnter == 'function')\r\n            ? true\r\n            : false;\r\n     this.state = {\r\n       value: props.initValue || '',\r\n       errorInput: undefined,\r\n       isValid: true\r\n     };\r\n   }\r\n\r\n  _handleChangeValue = (event) => {\r\n    const { onTest, nForecastDate } = this.props\r\n         , value = event.target.value\r\n    if (!onTest(value, nForecastDate)){\r\n      this.setState({\r\n         value : value,\r\n         isValid : false\r\n      })\r\n    } else {\r\n      this.setState({\r\n         value : value,\r\n         isValid : true,\r\n         errorInput : undefined\r\n      })\r\n    }\r\n  }\r\n\r\n  _handleBlurValue = () => {\r\n    const { onTest, nForecastDate, errorMsg } = this.props\r\n        , { value } = this.state\r\n    if (!onTest(value, nForecastDate)){\r\n      this.setState({\r\n        errorInput : errorMsg,\r\n        isValid : false\r\n      })\r\n    } else {\r\n      this.setState({\r\n        errorInput : undefined,\r\n        isValid : true\r\n      })\r\n    }\r\n  }\r\n\r\n  _handleKeyDown = (event) => {\r\n    switch(event.keyCode){\r\n      case 13:\r\n        if (this.isOnEnter) {\r\n          this.props.onEnter(event.target.value)\r\n        }\r\n        break;\r\n      case 27: case 46:\r\n        event.preventDefault()\r\n        this.setState({\r\n          value: this.props.initValue || '',\r\n          errorInput: undefined,\r\n          isValid: true\r\n        })\r\n        break;\r\n      default: return;\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    const {\r\n            rootStyle, inputStyle,\r\n            placeholder='YYYY-MM-DD'\r\n          } = this.props\r\n        , { value, errorInput, isValid } = this.state\r\n        , _styleHr = isValid\r\n            ? STYLE.HR_VALID\r\n            : STYLE.HR_NOT_VALID;\r\n    return (\r\n      <div style={{...STYLE.ROOT, ...rootStyle}}>\r\n        <input\r\n           style={{...STYLE.INPUT, ...inputStyle}}\r\n           name=\"text-date\"\r\n           //autoComplete=\"new-text-date\"\r\n           autoComplete=\"off\"\r\n           autoCorrect=\"off\"\r\n           autoCapitalize=\"off\"\r\n           spellCheck={false}\r\n           ref={input => this.inputDate = input }\r\n           type=\"text\"\r\n           placeholder={placeholder}\r\n           value={value}\r\n           onChange={this._handleChangeValue}\r\n           onBlur={this._handleBlurValue}\r\n           onKeyDown={this._handleKeyDown}\r\n        >\r\n        </input>\r\n        <hr style={Object.assign({}, STYLE.HR, _styleHr)}></hr>\r\n        <div style={STYLE.ERR_MSG}>\r\n          {errorInput}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getValue = () => {\r\n    return this.state.value;\r\n  }\r\n  isValid = () => {\r\n    return this.state.isValid;\r\n  }\r\n  focusInput = () => {\r\n    this.inputDate.focus();\r\n  }\r\n}\r\n\r\nexport default DateField\r\n"]}