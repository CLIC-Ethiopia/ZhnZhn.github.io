{"version":3,"sources":["../../../src/components/zhn/InputText.jsx"],"names":["S","INPUT","display","background","border","outline","height","paddingLeft","color","width","fontSize","fontWeight","backgroundColor","marginLeft","marginRight","boxShadow","C","BLANK","TEXT","ON","OFF","_isFn","fn","_getInitStateFrom","initValue","value","InputText","props","_handleInputChange","event","target","maxLength","onInputChange","length","setState","_handleKeyDown","keyCode","preventDefault","isOnEnter","onEnter","_refInput","React","createRef","state","componentDidMount","onReg","getDerivedStateFromProps","render","style","type","spellCheck","placeholder","min","max","step","_autoCorrect","_spellCheck","getValue","setValue","focus","current","Component","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nconst S = {\r\n  INPUT: {\r\n    display: 'inline',\r\n    background: 'transparent none repeat scroll 0 0',\r\n    border: 'medium none',\r\n    outline: 'medium none',\r\n    height: 26,\r\n    paddingLeft: 5,\r\n    color: 'green',\r\n    width: 40,\r\n    fontSize: '16px',\r\n    fontWeight: 'bold',\r\n    backgroundColor: '#e1e1cb',\r\n    marginLeft: 5,\r\n    marginRight: 5,\r\n    boxShadow: '0 2px 2px 0 rgba(0,0,0,0.3), 0 0 0 1px rgba(0,0,0,0.1)'\r\n  }\r\n};\r\n\r\nconst C = {\r\n  BLANK: '',\r\n  TEXT: 'text',\r\n  //NEW_TEXT: 'new-text',\r\n  ON: 'on',\r\n  OFF: 'off'\r\n};\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _getInitStateFrom = ({ initValue }) => ({\r\n  initValue: initValue,\r\n  value: initValue != null ? initValue : C.BLANK\r\n});\r\n\r\nclass InputText extends Component {\r\n  /*\r\n  static propTypes = {\r\n    style: PropTypes.object,\r\n    initValue: PropTypes.string,\r\n    type: PropTypes.string,\r\n    placeholder: PropTypes.string,\r\n    onEnter: PropTypes.func\r\n  }\r\n  */\r\n  static defaultProps = {\r\n    maxLength: 125\r\n  }\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this._refInput = React.createRef()\r\n    this.isOnEnter = _isFn(props.onEnter)\r\n       ? true : false\r\n    this.state = _getInitStateFrom(props)\r\n  }\r\n\r\n  componentDidMount(){\r\n    const { onReg } = this.props;\r\n    if ( _isFn(onReg) ){\r\n      onReg(this)\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    return props.initValue !== state.initValue\r\n      ? _getInitStateFrom(props)\r\n      : null;\r\n  }\r\n\r\n  _handleInputChange = (event) => {\r\n    const value = event.target.value\r\n    , { maxLength, onInputChange } = this.props;\r\n    if (value.length <= maxLength) {\r\n      this.setState({ value })\r\n      if ( _isFn(onInputChange)) {\r\n        onInputChange(value)\r\n      }\r\n    }\r\n  }\r\n _handleKeyDown = (event) => {\r\n    switch(event.keyCode){\r\n      case 27: case 46:\r\n         event.preventDefault()\r\n         this.setState({ value: C.BLANK })\r\n         break;\r\n      case 13:\r\n         if (this.isOnEnter) {\r\n           this.props.onEnter(event.target.value)\r\n         }\r\n         break;\r\n      default: return;\r\n    }\r\n }\r\n\r\n  render(){\r\n    const {\r\n           style, type,\r\n           spellCheck, placeholder,\r\n           maxLength,\r\n           min, max, step\r\n         } = this.props\r\n        , { value } = this.state\r\n        , _autoCorrect = spellCheck\r\n             ? C.ON\r\n             : C.OFF\r\n        , _spellCheck = spellCheck\r\n             ? \"true\"\r\n             : \"false\";\r\n    return (\r\n      <input\r\n        ref={this._refInput}\r\n        style={{ ...S.INPUT, ...style }}\r\n        type={type || C.TEXT}\r\n        name={C.TEXT}\r\n        autoCapitalize={C.OFF}\r\n        autoComplete={C.OFF}\r\n        autoCorrect={_autoCorrect}\r\n        spellCheck={_spellCheck}\r\n        translate=\"false\"\r\n        value={value}\r\n        placeholder={placeholder}\r\n        maxLength={maxLength}\r\n        min={min}\r\n        max={max}\r\n        step={step}\r\n        onChange={this._handleInputChange}\r\n        onKeyDown={this._handleKeyDown}\r\n      />\r\n    )\r\n  }\r\n\r\n  getValue() {\r\n    return this.state.value;\r\n  }\r\n  setValue(value) {\r\n    this.setState({ value })\r\n  }\r\n  focus(){\r\n    const { current } = this._refInput;\r\n    if (current) {\r\n      current.focus()\r\n    }\r\n  }\r\n}\r\n\r\nexport default InputText\r\n"],"file":"InputText.js"}