{"version":3,"sources":["../../../src/components/zhn/InputSlider.jsx"],"names":["S_ROOT","position","width","height","margin","userSelect","cursor","S_ROOT_LINE","top","left","S_LINE_BEFORE","marginRight","backgroundColor","transition","S_LINE_AFTER","right","marginLeft","S_LINE_AFTER_HOVERED","S_ROOT_CIRCLE","boxSizing","zIndex","pointerEvents","backgroundClip","border","borderRadius","transform","overflow","outline","S_CIRCLE_DRAGGED","S_EMBER","_isNaN","Number","isNaN","_noopFn","hasTouch","has","touch","EVENT_NAME_MOVE","EVENT_NAME_UP","_checkValueInMinMax","min","max","value","_toPercent","_percent","_crWidthStyle","percent","_crLeftStyle","_getClienX","evt","touches","clientX","_isUp","keyCode","_isDown","_calcValueByKeyCode","step","_isNumber","n","_getRefValue","ref","current","_useMouseDown","setValueFromPosition","isDragged","setDraggedTrue","setDraggedFalse","_refDragRunning","_hDragMouseMove","event","requestAnimationFrame","_hDragMouseUp","document","removeEventListener","_hMouseDown","preventDefault","addEventListener","InputSlider","initialValue","onChange","_refTrack","isHovered","setHoveredTrue","setHoveredFalse","setValue","_updateValue","_value","_hKeyDown","_calcPositionFromEvent","_trackOffset","getBoundingClientRect","NaN","_setValueFromPosition","positionMax","clientWidth","v","Math","round","_sliderHandlers","_btHandlers","onTouchStart","onMouseDown","onMouseEnter","onMouseLeave","onFocus","onKeyDown","onBlur","_lineAfterStyle","_circleStyle","_emberStyle","_widthBeforeStyle","_widthAfterStyle","_leftStyle"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react';\r\n\r\nimport useBool from '../hooks/useBool'\r\nimport has from '../has'\r\nimport { roundBy } from '../../math/mathFn';\r\n\r\nimport CircleInner from './CircleInner';\r\n//import PropTypes from \"prop-types\";\r\n\r\nconst S_ROOT = {\r\n  position: 'relative',\r\n  width: '100%',\r\n  height: 18,\r\n  margin: '8px 0',\r\n  userSelect : 'none',\r\n  cursor: 'default'\r\n},\r\nS_ROOT_LINE = {\r\n  position: 'absolute',\r\n  top: 8,\r\n  left: 0,\r\n  width: '100%',\r\n  height: 2\r\n},\r\nS_LINE_BEFORE = {\r\n  position: 'absolute',\r\n  left: 0,\r\n  width: 'calc(15%)',\r\n  height: '100%',\r\n  marginRight: 6,\r\n  backgroundColor: '#00bcd4',\r\n  transition: 'margin 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\r\n},\r\nS_LINE_AFTER = {\r\n  position: 'absolute',\r\n  right: 0,\r\n  width: 'calc(85%)',\r\n  height: '100%',\r\n  marginLeft: 6,\r\n  backgroundColor: '#bdbdbd',\r\n  transition: 'margin 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms'\r\n},\r\nS_LINE_AFTER_HOVERED = {\r\n  ...S_LINE_AFTER,\r\n  backgroundColor: '#9e9e9e',\r\n},\r\nS_ROOT_CIRCLE = {\r\n  boxSizing: 'border-box',\r\n  zIndex: '1',\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: '15%',\r\n  width: 12,\r\n  height: 12,\r\n  cursor: 'pointer',\r\n  pointerEvents: 'inherit',\r\n  margin: '1px 0px 0px',\r\n  backgroundColor: '#00bcd4',\r\n  backgroundClip: 'padding-box',\r\n  border: '0px solid transparent',\r\n  borderRadius: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  overflow: 'visible',\r\n  outline: 'none',\r\n  transition: 'background 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms'\r\n},\r\nS_CIRCLE_DRAGGED = {\r\n  width: 20,\r\n  height: 20\r\n},\r\nS_EMBER = {\r\n  top: -12,\r\n  left: -12,\r\n  width: '220%',\r\n  height: 44,\r\n  border: '1px solid #4caf50'\r\n};\r\n\r\n\r\nconst _isNaN = Number.isNaN\r\n, _noopFn = () => {}\r\n, hasTouch = has.touch\r\n, [EVENT_NAME_MOVE, EVENT_NAME_UP] = hasTouch\r\n    ? ['touchmove','touchend']\r\n    : ['mousemove','mouseup']\r\n, _checkValueInMinMax = (min, max, value) => value > max\r\n    ? max\r\n    : value < min ? min : value\r\n, _toPercent = (value, min, max) => {\r\n    const _percent = (value - min) / (max - min);\r\n    return _isNaN(_percent) ? 0 : _percent*100;\r\n}\r\n, _crWidthStyle = percent => ({\r\n    width: `calc(${percent}%)`\r\n})\r\n, _crLeftStyle = percent => ({\r\n   left: `${percent}%`\r\n})\r\n, _getClienX = hasTouch\r\n  ? evt => (((evt || {}).touches || [])[0] || {}).clientX || 0\r\n  : evt => evt.clientX\r\n, _isUp = keyCode => keyCode === 39 || keyCode === 38\r\n, _isDown = keyCode => keyCode === 37 || keyCode === 40\r\n, _calcValueByKeyCode = (value, step, keyCode) => _isUp(keyCode)\r\n    ? value + step\r\n    : _isDown(keyCode) ? value - step : void 0\r\n, _isNumber = n => typeof n === 'number' && n-n === 0\r\n, _getRefValue = ref => ref.current;\r\n\r\nconst _useMouseDown = (setValueFromPosition) => {\r\n  const [isDragged, setDraggedTrue, setDraggedFalse] = useBool(false)\r\n  , _refDragRunning = useRef(false)\r\n  , _hDragMouseMove = (event) => {\r\n    if (_getRefValue(_refDragRunning)) {\r\n      return;\r\n    }\r\n    _refDragRunning.current = true;\r\n    requestAnimationFrame(() => {\r\n      _refDragRunning.current = false;\r\n      setValueFromPosition(event)\r\n    })\r\n  }\r\n  , _hDragMouseUp = () => {\r\n     document.removeEventListener(EVENT_NAME_MOVE, _hDragMouseMove)\r\n     document.removeEventListener(EVENT_NAME_UP, _hDragMouseUp)\r\n     setDraggedFalse()\r\n  },\r\n  _hMouseDown = (event) => {\r\n    // Cancel text selection\r\n    if (!hasTouch) {\r\n      event.preventDefault()\r\n    }\r\n    document.addEventListener(EVENT_NAME_MOVE, _hDragMouseMove)\r\n    document.addEventListener(EVENT_NAME_UP, _hDragMouseUp)\r\n    setDraggedTrue()\r\n  };\r\n  return [isDragged, _hMouseDown];\r\n};\r\n\r\nconst InputSlider = ({\r\n  initialValue=4,\r\n  step=1,\r\n  min=0,\r\n  max=20,\r\n  onChange=_noopFn\r\n}) => {\r\n  const _refTrack = useRef()\r\n  , [isHovered, setHoveredTrue, setHoveredFalse] = useBool(false)\r\n  , [value, setValue] = useState(initialValue)\r\n\r\n  , _updateValue = (value) => {\r\n    const _value = _checkValueInMinMax(min, max, value);\r\n    setValue(_value)\r\n    onChange(_value)\r\n  }\r\n  , _hKeyDown = (evt) => {\r\n    const { keyCode } = evt\r\n    , _value = _calcValueByKeyCode(value, step, keyCode);\r\n    if (_value != null) {\r\n      evt.preventDefault()\r\n      _updateValue(_value)\r\n    }\r\n  }\r\n  , _calcPositionFromEvent = (evt) => {\r\n    const _trackOffset = _getRefValue(_refTrack).getBoundingClientRect()['left']\r\n    return _isNumber(_trackOffset)\r\n      ? _getClienX(evt) - _trackOffset\r\n      : NaN;\r\n  }\r\n  , _setValueFromPosition = (evt) => {\r\n    const positionMax = _getRefValue(_refTrack).clientWidth;\r\n    let position = _calcPositionFromEvent(evt);\r\n    if (_isNumber(position) && _isNumber(positionMax)) {\r\n      if (position < 0) {\r\n        position = 0;\r\n      } else if (position > positionMax) {\r\n        position = positionMax\r\n      }\r\n\r\n      let v;\r\n      v = position/positionMax * (max - min)\r\n      v = Math.round(v / step) * step + min\r\n      v = roundBy(v, 5)\r\n\r\n      _updateValue(v)\r\n    }\r\n  }\r\n  , [isDragged, _hMouseDown] = _useMouseDown(_setValueFromPosition);\r\n\r\n  const [_sliderHandlers, _btHandlers] = hasTouch\r\n     ? [{onTouchStart: _hMouseDown}, void 0]\r\n     : [{\r\n         onMouseDown: _hMouseDown,\r\n         onMouseEnter: setHoveredTrue,\r\n         onMouseLeave: setHoveredFalse\r\n        },{\r\n         onFocus: setHoveredTrue,\r\n         onKeyDown: _hKeyDown,\r\n         onBlur: setHoveredFalse\r\n       }]\r\n  , _lineAfterStyle = isHovered\r\n      ? S_LINE_AFTER_HOVERED\r\n      : S_LINE_AFTER\r\n  , [_circleStyle, _emberStyle] = isDragged\r\n      ? [S_CIRCLE_DRAGGED, S_EMBER]\r\n      : []\r\n  , _percent = _toPercent(value, min, max)\r\n  , _widthBeforeStyle = _crWidthStyle(_percent)\r\n  , _widthAfterStyle = _crWidthStyle(100 - _percent)\r\n  , _leftStyle = _crLeftStyle(_percent);\r\n\r\n  return (\r\n    <div\r\n      style={S_ROOT}\r\n      {..._sliderHandlers}\r\n    >\r\n      <div\r\n         ref={_refTrack}\r\n         style={S_ROOT_LINE}\r\n      >\r\n        <div style={{...S_LINE_BEFORE, ..._widthBeforeStyle }} />\r\n        <div style={{..._lineAfterStyle, ..._widthAfterStyle }} />\r\n        <input\r\n          type=\"hidden\"\r\n          step={step}\r\n          min={min}\r\n          max={max}\r\n          value={value}\r\n          required={true}\r\n        />\r\n        <div\r\n           role=\"slider\"\r\n           tabIndex={0}\r\n           aria-valuenow={value}\r\n           aria-valuemin={min}\r\n           aria-valuemax={max}\r\n           aria-orientation=\"horizontal\"\r\n           aria-labelledby=\"discrete-slider-custom\"\r\n           style={{...S_ROOT_CIRCLE, ..._circleStyle, ..._leftStyle }}\r\n           {..._btHandlers}\r\n        >\r\n          <CircleInner\r\n             is={isHovered || isDragged}\r\n             circleStyle={_circleStyle}\r\n             emberStyle={_emberStyle}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/*\r\nstatic propTypes = {\r\n  initialValue : PropTypes.number,\r\n  step : PropTypes.number,\r\n  min : PropTypes.number,\r\n  max : PropTypes.number,\r\n  onChange : PropTypes.func\r\n}\r\n*/\r\n\r\nexport default InputSlider\r\n"],"file":"InputSlider.js"}