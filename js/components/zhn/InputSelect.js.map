{"version":3,"sources":["../../../src/components/zhn/InputSelect.jsx"],"names":["styles","rootDiv","position","display","backgroundColor","width","inputText","background","border","outline","height","paddingLeft","color","fontSize","fontWeight","rootOptionDiv","left","zIndex","borderBottomLeftRadius","borderBottomRightRadius","optionDiv","minHeight","maxHeight","overflow","spinnerCell","top","spinnerFailedCell","borderColor","cursor","arrowCell","textAlign","verticalAlign","paddingRight","marginLeft","arrow","borderStyle","borderWidth","arrow_show","inputHr","borderImage","margin","marginBottom","itemDiv","paddingTop","paddingBottom","itemOdd","itemEven","optionsFooter","fileredSpan","InputSelect","props","_setStateToInit","options","indexActiveOption","setState","value","isShowOption","isValidDomOptionsCache","_getDomForActiveOption","refs","_decorateOfDomActiveOption","domActiveOption","classList","add","_decorateActiveOption","_undecorateActiveOption","remove","_undecorateOfDomActiveOption","_makeVisibleOfDomActiveOption","offsetTop","scrollTop","domOptions","_makeVisibleActiveOption","_filterOptionsToState","valueFor","toLowerCase","filter","option","i","caption","indexOf","_handlerInputChange","event","target","arr","length","state","push","_handlerInputKeyDown","keyCode","item","onSelect","undefined","preventDefault","offsetTop2","_handlerToggleOptions","_handlerClickOption","index","renderOptions","_domOptions","map","_styleDiv","Object","assign","bind","domOptionsCache","_styleOptions","_styleDivWidth","_numberFilteredItems","_numberAllItems","c","focusInput","domInputText","focus","focusNotValidInput","optionName","optionNames","_optionName","_optionNames","isLocalMode","nextProps","isUpdateOptions","nextState","_styleArrow","_styleInputWidth","_styleHr","isLoading","isLoadingFailed","placeholder","_domAfterInput","_placeholder","onLoadOption","defaultProps"],"mappings":"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","file":"InputSelect.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst styles = {\r\n  rootDiv: {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    backgroundColor: '#E1E1CB',\r\n    width: '160px'\r\n\r\n  },\r\n  inputText: {\r\n    background: 'transparent none repeat scroll 0 0',\r\n    border: 'medium none',\r\n    outline: 'medium none',\r\n    height: '30px',\r\n    paddingLeft: '10px',\r\n    color: 'green',\r\n    width: '140px',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold'\r\n  },\r\n  rootOptionDiv: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    backgroundColor: '#E1E1CB',\r\n    color: 'green',\r\n    width: '160px',\r\n    //height: '160px',\r\n    zIndex: '10',\r\n    borderBottomLeftRadius : '5px',\r\n    borderBottomRightRadius : '5px'\r\n  },\r\n  optionDiv: {\r\n    //height: '160px',\r\n    minHeight: '160px',\r\n    maxHeight: '200px',\r\n    overflow: 'auto'\r\n  },\r\n  spinnerCell : {\r\n    position: 'relative',\r\n    left: '8px',\r\n    top: '4px',\r\n    display: 'inline-block',\r\n    width: '16px',\r\n    height: '16px'\r\n  },\r\n  spinnerFailedCell : {\r\n    position: 'relative',\r\n    left: '8px',\r\n    top: '4px',\r\n    display: 'inline-block',\r\n    width: '16px',\r\n    height: '16px',\r\n    borderColor : '#F44336',\r\n    cursor : 'pointer'\r\n  },\r\n  arrowCell:{\r\n    cursor: 'pointer',\r\n    //display: table-cell\r\n    position: 'relative',\r\n    textAlign: 'center',\r\n    verticalAlign: 'middle',\r\n    //width: '25px',\r\n    width: '35px',\r\n    paddingRight: '5px',\r\n    marginLeft: '10px'\r\n\r\n  },\r\n  arrow : {\r\n   borderColor: '#999 transparent transparent',\r\n   borderStyle: 'solid',\r\n   borderWidth: '5px 5px 2.5px',\r\n   //borderWidth: '10px 10px 5px',\r\n   display: 'inline-block',\r\n   height: '0px',\r\n   width: '0px'\r\n },\r\n arrow_show : {\r\n    borderColor: '#1B75BB transparent transparent'\r\n },\r\n inputHr: {\r\n   borderWidth: 'medium medium 1px',\r\n   borderStyle: 'none none solid',\r\n   borderColor: '#1B75BB',\r\n   borderImage: 'none',\r\n   margin: 0,\r\n   marginLeft: '10px',\r\n   marginBottom: '5px',\r\n   width: '150px'\r\n\r\n },\r\n  itemDiv:{\r\n    cursor: 'pointer',\r\n    paddingTop: '4px',\r\n    paddingLeft: '5px',\r\n    paddingBottom: '4px'\r\n    //lineHeight: '14px'\r\n  },\r\n  itemOdd: {\r\n    backgroundColor: '#C3C3AC'\r\n  },\r\n  itemEven: {\r\n    backgroundColor: '#D5D5BC'\r\n  },\r\n  optionsFooter : {\r\n    backgroundColor: 'silver',\r\n    borderBottomLeftRadius : '5px',\r\n    borderBottomRightRadius : '5px'\r\n  },\r\n  fileredSpan : {\r\n    display: 'inline-block',\r\n    color: 'gray',\r\n    fontWeight : 'bold',\r\n    //height: '20px',\r\n    paddingLeft: '10px',\r\n    paddingTop: '4px',\r\n    paddingBottom : '4px'\r\n  }\r\n}\r\n\r\nclass InputSelect extends Component {\r\n  static defaultProps = {\r\n    options : [],\r\n    optionName : '',\r\n    optionNames : '',\r\n    isUpdateOptions : false\r\n  }\r\n\r\n  constructor(props){\r\n    super();\r\n    this.domOptionsCache = null;\r\n    this.indexActiveOption = 0;\r\n\r\n    const {optionName, optionNames} = props\r\n        , _optionName = (optionName)\r\n             ? ' ' + optionName\r\n             : ''\r\n        , _optionNames = (optionNames)\r\n             ? ' ' + optionNames\r\n             : (optionName) ? _optionName : '';\r\n    this.state = {\r\n      value: '',\r\n      isShowOption: false,\r\n      options: props.options,\r\n      optionName : _optionName,\r\n      optionNames : _optionNames,\r\n      isValidDomOptionsCache: false,\r\n      isLocalMode: false\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    if (this.props !== nextProps){\r\n      if (this.props.options !== nextProps.options\r\n          || nextProps.isUpdateOptions){\r\n        //New options come from Parent - Clear domCache, Init State\r\n        this._setStateToInit(nextProps.options);\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps || nextProps.isUpdateOptions) {\r\n      nextState.isLocalMode = false;\r\n    } else {\r\n      nextState.isLocalMode = true;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(){\r\n     //Decorate Active Option\r\n     if (this.state.isShowOption){\r\n       let domActiveOption = this._getDomForActiveOption();\r\n       this._decorateOfDomActiveOption(domActiveOption);\r\n       this._makeVisibleOfDomActiveOption(domActiveOption);\r\n    }\r\n  }\r\n\r\n  _setStateToInit = (options) => {\r\n    this.indexActiveOption = 0;\r\n    this.setState({\r\n      value : '',\r\n      isShowOption : false,\r\n      options : options,\r\n      isValidDomOptionsCache : false\r\n    });\r\n  }\r\n\r\n  _getDomForActiveOption = () => {\r\n    return this.refs[\"v\"+this.indexActiveOption];\r\n  }\r\n\r\n  _decorateOfDomActiveOption = (domActiveOption) => {\r\n    if (domActiveOption){\r\n      domActiveOption.classList.add(\"option-row__active\");\r\n    }\r\n  }\r\n\r\n  _decorateActiveOption = () => {\r\n    let domActiveOption = this.refs[\"v\"+this.indexActiveOption];\r\n    domActiveOption.classList.add(\"option-row__active\");\r\n  }\r\n\r\n  _undecorateActiveOption = () => {\r\n    if (this.refs[\"v\" + this.indexActiveOption]){\r\n      this.refs[\"v\" + this.indexActiveOption].classList.remove(\"option-row__active\");\r\n    }\r\n  }\r\n\r\n  _undecorateOfDomActiveOption = (domActiveOption) => {\r\n     if (domActiveOption){\r\n       domActiveOption.classList.remove(\"option-row__active\");\r\n    }\r\n  }\r\n\r\n  _makeVisibleOfDomActiveOption = (domActiveOption) => {\r\n    if (domActiveOption){\r\n      const offsetTop = domActiveOption.offsetTop;\r\n      const scrollTop = this.domOptions.scrollTop;\r\n      if ( (offsetTop - scrollTop) > 70){\r\n         this.domOptions.scrollTop += (offsetTop - scrollTop - 70);\r\n      }\r\n      if ( (offsetTop - scrollTop) < 0){\r\n        this.domOptions.scrollTop= 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  _makeVisibleActiveOption = () => {\r\n    let domActiveOption = this.refs[\"v\"+this.indexActiveOption];\r\n\r\n    let offsetTop = domActiveOption.offsetTop;\r\n    let scrollTop = this.domOptions.scrollTop;\r\n    if ( (offsetTop - scrollTop) > 70){\r\n        this.domOptions.scrollTop += (offsetTop - scrollTop - 70);\r\n    }\r\n  }\r\n\r\n  _filterOptionsToState = (options, value) => {\r\n     const valueFor = value.toLowerCase();\r\n     return options.filter( (option, i) => {\r\n       return option.caption.toLowerCase().indexOf(valueFor) !== -1\r\n     })\r\n  }\r\n\r\n  _handlerInputChange = (event) => {\r\n    const value = event.target.value;\r\n    let arr = [];\r\n    if (value.length !== this.state.value.length){\r\n      if ( value.length>this.state.value.length){\r\n        arr = this._filterOptionsToState(this.state.options, value);\r\n      } else if ( value.length<this.state.value.length) {\r\n        arr = this._filterOptionsToState(this.props.options, value);\r\n      }\r\n      if (arr.length === 0){\r\n        arr.push({caption: 'No results found', value: 'noresult'});\r\n      }\r\n      this._undecorateActiveOption();\r\n      this.indexActiveOption = 0;\r\n      this.setState({\r\n        value : value,\r\n        isShowOption : true,\r\n        isValidDomOptionsCache : false,\r\n        options : arr\r\n      })\r\n    }\r\n  }\r\n\r\n  _handlerInputKeyDown = (event) => {\r\n    switch(event.keyCode){\r\n      // enter\r\n      case 13:{\r\n         const item = this.state.options[this.indexActiveOption];\r\n\r\n         if (item && item.caption){\r\n           this.setState({\r\n             value : item.caption,\r\n             isShowOption : false,\r\n             isValidDomOptionsCache : true\r\n           });\r\n\r\n           if (item.value !== 'noresult'){\r\n             this.props.onSelect(item);\r\n           } else {\r\n             this.props.onSelect(null);\r\n           }\r\n         }\r\n      break;}\r\n      //escape\r\n      case 27:{\r\n        if (this.state.isShowOption){\r\n          this.setState({isShowOption : false});\r\n        } else {\r\n          this._undecorateActiveOption();\r\n          this._setStateToInit(this.props.options);\r\n          this.props.onSelect(undefined);\r\n        }\r\n      break;}\r\n      //down\r\n      case 40:{\r\n        if (!this.state.isShowOption){\r\n          this.setState({isShowOption : true});\r\n        } else {\r\n          event.preventDefault();\r\n\r\n          let domActiveOption = this._getDomForActiveOption();\r\n\r\n          if (domActiveOption){\r\n             this._undecorateOfDomActiveOption(domActiveOption);\r\n\r\n             this.indexActiveOption += 1;\r\n             if (this.indexActiveOption>=this.state.options.length){\r\n                this.indexActiveOption = 0;\r\n                this.domOptions.scrollTop = 0;\r\n             }\r\n\r\n             domActiveOption = this._getDomForActiveOption();\r\n             this._decorateOfDomActiveOption(domActiveOption)\r\n\r\n             const offsetTop = this.refs[\"v\"+this.indexActiveOption].offsetTop;\r\n             const scrollTop = this.domOptions.scrollTop;\r\n             if ( (offsetTop - scrollTop) > 70){\r\n                this.domOptions.scrollTop += (offsetTop - scrollTop - 70);\r\n             }\r\n          }\r\n        }\r\n      break;}\r\n      //up\r\n      case 38:{\r\n        if (this.state.isShowOption){\r\n          event.preventDefault();\r\n\r\n          let domActiveOption = this._getDomForActiveOption();\r\n          if (domActiveOption){\r\n            this._undecorateOfDomActiveOption(domActiveOption);\r\n\r\n            this.indexActiveOption -= 1;\r\n            if (this.indexActiveOption < 0){\r\n              this.indexActiveOption = this.state.options.length - 1;\r\n              const offsetTop2 = this.refs[\"v\"+this.indexActiveOption].offsetTop;\r\n              this.domOptions.scrollTop = offsetTop2;\r\n            }\r\n\r\n            domActiveOption = this._getDomForActiveOption();\r\n            this._decorateOfDomActiveOption(domActiveOption);\r\n\r\n            const offsetTop = domActiveOption.offsetTop;\r\n            const scrollTop = this.domOptions.scrollTop;\r\n            if ( (offsetTop - scrollTop) < 70){\r\n              this.domOptions.scrollTop -= ( 70 - (offsetTop - scrollTop) );\r\n            }\r\n          }\r\n        }\r\n      break;}\r\n      default:return undefined;\r\n    }\r\n  }\r\n\r\n  _handlerToggleOptions = () => {\r\n    this.setState({isShowOption: !this.state.isShowOption});\r\n  }\r\n\r\n  _handlerClickOption = (item, index, event) => {\r\n    this.indexActiveOption = index;\r\n    this.setState({\r\n      value : item.caption,\r\n      isShowOption : false\r\n    });\r\n    this.props.onSelect(item);\r\n  }\r\n\r\n  renderOptions = () => {\r\n    const {isShowOption, options, isValidDomOptionsCache} = this.state;\r\n\r\n    let _domOptions;\r\n    if (options){\r\n      if (!isValidDomOptionsCache){\r\n         _domOptions = options.map((item, index)=>{\r\n           const _styleDiv = (index % 2 === 0) ? styles.itemOdd : styles.itemEven;\r\n           return (\r\n             <div\r\n                className=\"option-row\"\r\n                style={Object.assign({}, styles.itemDiv, _styleDiv)}\r\n                key={index}\r\n                ref={\"v\"+index}\r\n                onClick={this._handlerClickOption.bind(this, item, index)}\r\n              >\r\n                {item.caption}\r\n            </div>\r\n           )\r\n        });\r\n        this.domOptionsCache = _domOptions;\r\n      } else {\r\n        _domOptions = this.domOptionsCache;\r\n      }\r\n    }\r\n\r\n    const {width} = this.props\r\n        ,  _styleOptions = isShowOption ? {display: 'block'} : { display: 'none'}\r\n        , _styleDivWidth = (width) ? { width: width+'px'} : null\r\n        , _numberFilteredItems = (options[0] && (options[0].value !== 'noresult') ) ?\r\n                                  options.length : 0\r\n        , _numberAllItems = this.props.options ? this.props.options.length : 0;\r\n\r\n    return (\r\n        <div style={Object.assign({}, styles.rootOptionDiv, _styleOptions, _styleDivWidth)}>\r\n          <div\r\n             ref={c => this.domOptions = c}\r\n             key=\"1\"\r\n             style={Object.assign({}, styles.optionDiv, _styleOptions, _styleDivWidth)}\r\n           >\r\n            {_domOptions}\r\n          </div>\r\n          <div key=\"2\" style={styles.optionsFooter}>\r\n            <span style={styles.fileredSpan}>\r\n              Filtered {_numberFilteredItems} : {_numberAllItems}\r\n            </span>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    const {width} = this.props\r\n        , {value, isLocalMode, isShowOption } = this.state\r\n        , _styleArrow = isShowOption\r\n              ? styles.arrow_show\r\n              : null\r\n        , _styleDivWidth = (width)\r\n              ? { width : `${width}px`}\r\n              : null\r\n       , _styleInputWidth = (width)\r\n              ? { width : `${width-30}px`}\r\n              : null\r\n       , _styleHr = (width)\r\n              ? { width: `${width-40}px`}\r\n              : null;\r\n\r\n    const _domOptions = (isLocalMode || isShowOption)\r\n             ? this.renderOptions()\r\n             : null;\r\n\r\n    const  {isLoading, isLoadingFailed, placeholder} = this.props\r\n        ,  {optionName, optionNames} = this.state;\r\n\r\n    let _domAfterInput, _placeholder;\r\n    if (!isLoading && !isLoadingFailed){\r\n      _placeholder= (placeholder)\r\n            ? placeholder\r\n            : `Select${optionName}...`;\r\n      _domAfterInput = (\r\n        <span\r\n           style={styles.arrowCell}\r\n           onClick={this._handlerToggleOptions}>\r\n          <span style={Object.assign({}, styles.arrow, _styleArrow)}></span>\r\n        </span>\r\n      );\r\n    } else if (isLoading){\r\n      _placeholder=`Loading${optionNames}...`;\r\n      _domAfterInput = (\r\n        <span\r\n          style={styles.spinnerCell}\r\n          data-loader=\"circle\"\r\n        >\r\n        </span>\r\n      );\r\n    } else if (isLoadingFailed) {\r\n       _placeholder=`Loading${optionNames} Failed`;\r\n       _domAfterInput = (\r\n        <span\r\n          style={styles.spinnerFailedCell}\r\n          data-loader=\"circle-failed\"\r\n          onClick={this.props.onLoadOption}\r\n         >\r\n        </span>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div style={Object.assign({},styles.rootDiv, _styleDivWidth)}>\r\n        <input\r\n           name=\"text\"\r\n           autoComplete=\"new-text\"\r\n           autoCorrect=\"off\"\r\n           autoCapitalize=\"off\"\r\n           spellCheck={false}\r\n           ref={c => this.domInputText = c}\r\n           type=\"text\"\r\n           value={value}\r\n           style={Object.assign({},styles.inputText, _styleInputWidth)}\r\n           placeholder={_placeholder}\r\n           translate={false}\r\n           onChange={this._handlerInputChange}\r\n           onKeyDown={this._handlerInputKeyDown}>\r\n        </input>\r\n        {_domAfterInput}\r\n        <hr style={Object.assign({},styles.inputHr, _styleHr)}></hr>\r\n        {_domOptions}\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  focusInput = () => {\r\n    this.domInputText.focus();\r\n  }\r\n  focusNotValidInput = () => {\r\n    this.domInputText.focus();\r\n  }\r\n}\r\n\r\nexport default InputSelect;\r\n"]}