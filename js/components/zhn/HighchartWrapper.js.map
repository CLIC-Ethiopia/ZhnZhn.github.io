{"version":3,"sources":["../../../src/components/zhn/HighchartWrapper.jsx"],"names":["S","DIV","position","zIndex","SHOW","display","HIDE","_isFn","fn","HighchartWrapper","props","_renderChart","config","Error","chart","Highcharts","_refChart","current","React","createRef","componentDidMount","onLoaded","componentWillUnmount","onWillUnLoaded","destroy","err","process","env","NODE_ENV","console","log","render","isShow","style","isShowAbs","absComp","_style","getChart","Component","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,CAAC,GAAG;AACRC,EAAAA,GAAG,EAAE;AACHC,IAAAA,QAAQ,EAAE,UADP;AAEHC,IAAAA,MAAM,EAAE;AAFL,GADG;AAKRC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE;AADL,GALE;AAQRC,EAAAA,IAAI,EAAE;AACJD,IAAAA,OAAO,EAAE;AADL;AARE,CAAV;;AAaA,IAAME,KAAK,GAAG,SAARA,KAAQ,CAAAC,EAAE;AAAA,SAAI,OAAOA,EAAP,KAAc,UAAlB;AAAA,CAAhB;;IAEMC,gB;;;AAMJ,4BAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UAiClBC,YAjCkB,GAiCH,UAACC,MAAD,EAAY;AACzB,UAAI,CAACA,MAAL,EAAY;AACV,cAAM,IAAIC,KAAJ,CAAU,mCAAV,CAAN;AACD;;AACD,YAAKC,KAAL,GAAa,IAAIC,uBAAW,OAAX,CAAJ,CACX,MAAKC,SAAL,CAAeC,OADJ,EACaL,MADb,CAAb;AAGD,KAxCiB;;AAEhB,UAAKI,SAAL,gBAAiBE,kBAAMC,SAAN,EAAjB;AAFgB;AAGjB;;;;SAEDC,iB,GAAA,6BAAmB;AAAA,sBACY,KAAKV,KADjB;AAAA,QACTE,MADS,eACTA,MADS;AAAA,QACDS,QADC,eACDA,QADC;;AAEjB,SAAKV,YAAL,CAAkBC,MAAlB;;AACA,QAAK,KAAKE,KAAL,IAAcP,KAAK,CAACc,QAAD,CAAxB,EAAoC;AAClCA,MAAAA,QAAQ,CAAC,KAAKP,KAAN,CAAR;AACD;AACF,G;;SAEDQ,oB,GAAA,gCAAsB;AACpB,QAAI;AAAA,UACMC,cADN,GACyB,KAAKb,KAD9B,CACMa,cADN;;AAEF,UAAKhB,KAAK,CAACgB,cAAD,CAAV,EAA4B;AAC1BA,QAAAA,cAAc,CAAC,KAAKT,KAAN,CAAd;AACD;;AACD,UAAI,KAAKA,KAAT,EAAgB;AACd,aAAKA,KAAL,CAAWU,OAAX;AACA,aAAKV,KAAL,GAAa,IAAb;AACD;AACF,KATD,CASE,OAAMW,GAAN,EAAW;AACX;AACA,UAAKC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,cAA9B,EAA8C;AAC5CC,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD;AACD;;AACD;AACF,G;;SAWDM,M,GAAA,kBAAS;AAAA,uBAIH,KAAKrB,KAJF;AAAA,QAELsB,MAFK,gBAELA,MAFK;AAAA,QAEGC,KAFH,gBAEGA,KAFH;AAAA,QAGLC,SAHK,gBAGLA,SAHK;AAAA,QAGMC,OAHN,gBAGMA,OAHN;AAAA,QAKLC,MALK,GAKIJ,MAAM,GAAGhC,CAAC,CAACI,IAAL,GAAYJ,CAAC,CAACM,IALxB;;AAMP,wBACG;AACE,MAAA,KAAK,gCAAM2B,KAAN,EAAgBjC,CAAC,CAACC,GAAlB,EAA0BmC,MAA1B;AADP,oBAGG;AAAK,MAAA,GAAG,EAAE,KAAKpB;AAAf,MAHH,EAIIkB,SAAS,IAAIC,OAJjB,CADH;AAQD,G;;SAEDE,Q,GAAA,oBAAW;AACT,QAAG,CAAC,KAAKvB,KAAT,EAAe;AACb,YAAM,IAAID,KAAJ,CAAU,4DAAV,CAAN;AACD;;AACD,WAAO,KAAKC,KAAZ;AACD,G;;;EArE4BwB,gB;;AAAzB7B,gB,CACG8B,Y,GAAe;AACpBP,EAAAA,MAAM,EAAE,IADY;AAEpBE,EAAAA,SAAS,EAAE;AAFS,C;eAuETzB,gB","sourcesContent":["import React, { Component } from 'react';\r\nimport Highcharts from 'highcharts';\r\n\r\nconst S = {\r\n  DIV: {\r\n    position: 'relative',\r\n    zIndex: 1\r\n  },\r\n  SHOW: {\r\n    display: 'block',\r\n  },\r\n  HIDE: {\r\n    display: 'none'\r\n  }\r\n};\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nclass HighchartWrapper extends Component {\r\n  static defaultProps = {\r\n    isShow: true,\r\n    isShowAbs: true\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this._refChart = React.createRef()\r\n  }\r\n\r\n  componentDidMount(){\r\n    const { config, onLoaded } = this.props;\r\n    this._renderChart(config);\r\n    if ( this.chart && _isFn(onLoaded) ){\r\n      onLoaded(this.chart);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    try {\r\n      const { onWillUnLoaded } = this.props;\r\n      if ( _isFn(onWillUnLoaded) ){\r\n        onWillUnLoaded(this.chart);\r\n      }\r\n      if (this.chart) {\r\n        this.chart.destroy()\r\n        this.chart = null\r\n      }\r\n    } catch(err) {\r\n      /*eslint-disable no-undef */\r\n      if ( process.env.NODE_ENV === '_development') {\r\n        console.log('Exception during destroy chart')\r\n        console.log(err)\r\n      }\r\n      /*eslint-enable no-undef */\r\n    }\r\n  }\r\n\r\n  _renderChart = (config) => {\r\n    if (!config){\r\n      throw new Error(\"Chart's config must be specified.\");\r\n    }\r\n    this.chart = new Highcharts['Chart'](\r\n      this._refChart.current, config\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isShow, style,\r\n      isShowAbs, absComp\r\n    } = this.props\r\n    , _style = isShow ? S.SHOW : S.HIDE;\r\n    return (\r\n       <div\r\n         style={{...style, ...S.DIV, ..._style}}\r\n       >\r\n          <div ref={this._refChart} />\r\n          {isShowAbs && absComp}\r\n        </div>\r\n     );\r\n  }\r\n\r\n  getChart() {\r\n    if(!this.chart){\r\n      throw new Error('getChart() should not called before a component is mounted');\r\n    }\r\n    return this.chart;\r\n  }\r\n}\r\n\r\nexport default HighchartWrapper\r\n"],"file":"HighchartWrapper.js"}