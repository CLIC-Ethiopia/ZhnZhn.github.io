{"version":3,"sources":["../../../src/components/zhn/HighchartWrapper.jsx"],"names":["S","SHOW","position","display","zIndex","HIDE","_isFn","fn","HighchartWrapper","props","_renderChart","config","Error","chart","Highcharts","_refChart","current","React","createRef","componentDidMount","onLoaded","componentWillUnmount","onWillUnLoaded","destroy","err","process","env","NODE_ENV","console","log","render","isShow","rootStyle","isShowAbs","absComp","_rootDivStyle","getChart","Component","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AAEA,IAAMA,CAAC,GAAG;AACRC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE,UADN;AAEJC,IAAAA,OAAO,EAAE,OAFL;AAGJC,IAAAA,MAAM,EAAE;AAHJ,GADE;AAMRC,EAAAA,IAAI,EAAE;AACJH,IAAAA,QAAQ,EAAE,UADN;AAEJC,IAAAA,OAAO,EAAE;AAFL;AANE,CAAV;;AAYA,IAAMG,KAAK,GAAG,SAARA,KAAQ,CAAAC,EAAE;AAAA,SAAI,OAAOA,EAAP,KAAe,UAAnB;AAAA,CAAhB;;IAEMC,gB;;;;;AAKJ,4BAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UA+BlBC,YA/BkB,GA+BH,UAACC,MAAD,EAAY;AACzB,UAAI,CAACA,MAAL,EAAY;AACV,cAAM,IAAIC,KAAJ,CAAU,8CAAV,CAAN;AACD;;AACD,YAAKC,KAAL,GAAa,IAAIC,uBAAW,OAAX,CAAJ,CACX,MAAKC,SAAL,CAAeC,OADJ,EACaL,MADb,CAAb;AAGD,KAtCiB;;AAEhB,UAAKI,SAAL,GAAiBE,kBAAMC,SAAN,EAAjB;AAFgB;AAGjB;;;;SAEDC,iB,GAAA,6BAAmB;AAAA,sBACY,KAAKV,KADjB;AAAA,QACTE,MADS,eACTA,MADS;AAAA,QACDS,QADC,eACDA,QADC;;AAEjB,SAAKV,YAAL,CAAkBC,MAAlB;;AACA,QAAK,KAAKE,KAAL,IAAcP,KAAK,CAACc,QAAD,CAAxB,EAAoC;AAClCA,MAAAA,QAAQ,CAAC,KAAKP,KAAN,CAAR;AACD;AACF,G;;SAEDQ,oB,GAAA,gCAAsB;AACpB,QAAI;AAAA,UACMC,cADN,GACyB,KAAKb,KAD9B,CACMa,cADN;;AAEF,UAAKhB,KAAK,CAACgB,cAAD,CAAV,EAA4B;AAC1BA,QAAAA,cAAc,CAAC,KAAKT,KAAN,CAAd;AACD;;AACD,WAAKA,KAAL,CAAWU,OAAX;AACA,WAAKV,KAAL,GAAa,IAAb;AACD,KAPD,CAOE,OAAMW,GAAN,EAAW;AACX;AACA,UAAKC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA9B,EAA6C;AAC3CC,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD;AACD;;AACD;AACF,G;;SAWDM,M,GAAA,kBAAS;AAAA,uBAIH,KAAKrB,KAJF;AAAA,QAELsB,MAFK,gBAELA,MAFK;AAAA,QAEGC,SAFH,gBAEGA,SAFH;AAAA,QAGLC,SAHK,gBAGLA,SAHK;AAAA,QAGMC,OAHN,gBAGMA,OAHN;AAAA,QAKNC,aALM,GAKUJ,MAAM,GACjB/B,CAAC,CAACC,IADe,GAEjBD,CAAC,CAACK,IAPD;;AAQP,WACG;AACE,MAAA,KAAK,gCAAM2B,SAAN,MAAoBG,aAApB;AADP,OAGG;AAAK,MAAA,GAAG,EAAE,KAAKpB;AAAf,MAHH,EAIIkB,SAAS,IAAIC,OAJjB,CADH;AAQD,G;;SAEDE,Q,GAAA,oBAAW;AACT,QAAG,CAAC,KAAKvB,KAAT,EAAe;AACb,YAAM,IAAID,KAAJ,CAAU,0EAAV,CAAN;AACD;;AACD,WAAO,KAAKC,KAAZ;AACD,G;;;EApE4BwB,gB;;AAAzB7B,gB,CACG8B,Y,GAAe;AACpBL,EAAAA,SAAS,EAAE;AADS,C;eAsETzB,gB","sourcesContent":["import React, { Component } from 'react';\r\nimport Highcharts from 'highcharts';\r\n\r\nconst S = {\r\n  SHOW: {\r\n    position: 'relative',\r\n    display: 'block',\r\n    zIndex: 1\r\n  },\r\n  HIDE: {\r\n    position: 'relative',\r\n    display: 'none'\r\n  }\r\n};\r\n\r\nconst _isFn = fn => typeof(fn) === 'function';\r\n\r\nclass HighchartWrapper extends Component {\r\n  static defaultProps = {\r\n    isShowAbs: true\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this._refChart = React.createRef()\r\n  }\r\n\r\n  componentDidMount(){\r\n    const { config, onLoaded } = this.props;\r\n    this._renderChart(config);\r\n    if ( this.chart && _isFn(onLoaded) ){\r\n      onLoaded(this.chart);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    try {\r\n      const { onWillUnLoaded } = this.props;\r\n      if ( _isFn(onWillUnLoaded) ){\r\n        onWillUnLoaded(this.chart);\r\n      }\r\n      this.chart.destroy()\r\n      this.chart = null\r\n    } catch(err) {\r\n      /*eslint-disable no-undef */\r\n      if ( process.env.NODE_ENV === 'development') {\r\n        console.log('Exception during destroy chart')\r\n        console.log(err)\r\n      }\r\n      /*eslint-enable no-undef */\r\n    }\r\n  }\r\n\r\n  _renderChart = (config) => {\r\n    if (!config){\r\n      throw new Error('Config must be specified for the ZhHighchart');\r\n    }\r\n    this.chart = new Highcharts['Chart'](\r\n      this._refChart.current, config\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isShow, rootStyle,\r\n      isShowAbs, absComp\r\n    } = this.props\r\n   , _rootDivStyle = isShow\r\n        ? S.SHOW\r\n        : S.HIDE;\r\n    return (\r\n       <div\r\n         style={{...rootStyle, ..._rootDivStyle}}\r\n       >\r\n          <div ref={this._refChart} />\r\n          {isShowAbs && absComp}\r\n        </div>\r\n     );\r\n  }\r\n\r\n  getChart() {\r\n    if(!this.chart){\r\n      throw new Error('getChart() should not called before the ZhHighchart component is mounted');\r\n    }\r\n    return this.chart;\r\n  }\r\n}\r\n\r\nexport default HighchartWrapper\r\n"],"file":"HighchartWrapper.js"}