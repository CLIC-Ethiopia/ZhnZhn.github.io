{"version":3,"sources":["../../../src/components/zhn/Legend.jsx"],"names":["C","CL_SCROLL","MORE_MAX","MORE","LESS","S","ROOT_MORE","overflowY","height","marginLeft","paddingRight","transform","ROOT_LESS","DIV","BT_MORE","display","marginTop","color","fontWeight","cursor","BtMore","isMore","legend","onClick","_len","length","_caption","Legend","props","_handleMore","setState","state","_renderLegend","onClickItem","_legend","max","i","item","push","name","nextProps","nextState","_rootStyle"],"mappings":"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","file":"Legend.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport LegendItem from './LegendItem';\r\n\r\nconst C = {\r\n  CL_SCROLL: \"with-scroll\",\r\n  MORE_MAX: 12,\r\n  MORE: 'MORE',\r\n  LESS: 'LESS'\r\n};\r\n\r\nconst S = {\r\n  ROOT_MORE: {\r\n    overflowY: 'auto',\r\n    height: '250px',\r\n    marginLeft: '-8px',\r\n    paddingRight: '4px',\r\n    transform: 'scaleX(-1)'\r\n  },\r\n  ROOT_LESS: {\r\n    height: 'auto',\r\n  },\r\n  DIV: {\r\n    transform: 'scaleX(-1)'\r\n  },\r\n\r\n  BT_MORE: {\r\n    display: 'inline-block',\r\n    marginTop: '10px',\r\n    marginLeft: '8px',\r\n    color: '#1b2836',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer'\r\n  }\r\n}\r\n\r\nconst BtMore = ({ isMore, legend, onClick }) => {\r\n  const _len = legend.length;\r\n  if (_len > C.MORE_MAX) {\r\n    const _caption = isMore\r\n            ? C.LESS + ': ' + C.MORE_MAX\r\n            : C.MORE + ': +' + (_len - C.MORE_MAX);\r\n    return (\r\n      <span\r\n        style={S.BT_MORE}\r\n        onClick={onClick}\r\n      >\r\n        {_caption}\r\n      </span>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nclass Legend extends Component {\r\n  constructor(props){\r\n    super()\r\n    this.state = {\r\n      isMore: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (\r\n        nextProps.legend === this.props.legend\r\n        && nextState.isMore === this.state.isMore\r\n    ){\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleMore = () => {\r\n    this.setState({\r\n      isMore: !this.state.isMore\r\n    })\r\n  }\r\n\r\n  _renderLegend = (legend=[], isMore, onClickItem) => {\r\n     const _legend = [], max = legend.length;\r\n     let i=0;\r\n     for (; i<max; i++){\r\n       if ( (isMore) || (!isMore && i < C.MORE_MAX) ) {\r\n         const item = legend[i];\r\n         _legend.push(\r\n           <LegendItem\r\n              key={item.name}\r\n              item={item}\r\n              onClickItem={onClickItem}\r\n           />\r\n         )\r\n       } else {\r\n         break;\r\n       }\r\n     }\r\n     return _legend;\r\n  }\r\n\r\n  render(){\r\n    const { legend=[], onClickItem } = this.props\r\n        , { isMore } = this.state\r\n        , _rootStyle = isMore\r\n             ? S.ROOT_MORE\r\n             : {...S.ROOT_MORE, ...S.ROOT_LESS};\r\n    return (\r\n      <div className={C.CL_SCROLL} style={_rootStyle}>\r\n        <div style={S.DIV}>\r\n          {this._renderLegend(legend, isMore, onClickItem)}\r\n          <BtMore\r\n            isMore={isMore}\r\n            legend={legend}\r\n            onClick={this._handleMore}\r\n         />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Legend\r\n"]}