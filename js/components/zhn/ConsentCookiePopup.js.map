{"version":3,"sources":["../../../src/components/zhn/ConsentCookiePopup.jsx"],"names":["HIDE_PERIOD","ANIMATION_PERIOD","MSG","BTN_OK_TITLE","BTN_NO_TITLE","STYLE","ROOT__SHOW","opacity","bottom","ROOT_HIDE","display","ConsentCookiePopup","props","_startHidingAnimation","hideID","setTimeout","_hidePopup","setState","isOpacity","isDisplay","_handleClickOk","hideId","clearTimeout","timeID","onAnswerYes","_handleClickNo","onAnswerNo","undefined","state","onNoAnswer","_opacityStyle","_displayStyle","Object","assign"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,cAAc,MAApB;AAAA,IACMC,mBAAmB,IADzB;AAAA,IAEMC,MAAM,0HAFZ;AAAA,IAGMC,eAAe,IAHrB;AAAA,IAIMC,eAAe,gBAJrB;;AAMA,IAAMC,QAAQ;AACZC,cAAa;AACVC,aAAS,KADC;AAEV;AACAC,YAAS;AAHC,GADD;AAMZC,aAAY;AACTC,aAAS;AADA;AANA,CAAd;;IAWMC,kB;;;AACJ,8BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAAA,UAqBlBC,qBArBkB,GAqBM,YAAM;AAC5B,YAAKC,MAAL,GAAcC,WAAW,MAAKC,UAAhB,EAA4Bf,gBAA5B,CAAd;AACA,YAAKgB,QAAL,CAAc,EAAEC,WAAW,IAAb,EAAd;AACD,KAxBiB;;AAAA,UAyBlBF,UAzBkB,GAyBL,YAAM;AAChB,YAAKC,QAAL,CAAc,EAAEE,WAAY,KAAd,EAAd;AACF,KA3BiB;;AAAA,UA6BlBC,cA7BkB,GA6BD,YAAM;AACrB,UAAI,CAAC,MAAKC,MAAV,EAAkB;AAChBC,qBAAa,MAAKC,MAAlB;AACA,cAAKX,KAAL,CAAWY,WAAX;AACA,cAAKX,qBAAL;AACD;AACF,KAnCiB;;AAAA,UAqClBY,cArCkB,GAqCD,YAAM;AACrB,UAAI,CAAC,MAAKJ,MAAV,EAAkB;AAChBC,qBAAa,MAAKC,MAAlB;AACA,cAAKX,KAAL,CAAWc,UAAX;AACA,cAAKb,qBAAL;AACD;AACF,KA3CiB;;AAEhB,UAAKU,MAAL,GAAcI,SAAd;AACA,UAAKb,MAAL,GAAca,SAAd;AACA,UAAKC,KAAL,GAAa;AACXV,iBAAY,IADD;AAEXC,iBAAY;AAFD,KAAb;AAJgB;AAQjB;;;;wCAEkB;AAAA;;AACjB,WAAKI,MAAL,GAAcR,WAAY,YAAM;AAC9B,eAAKH,KAAL,CAAWiB,UAAX;AACA,eAAKhB,qBAAL;AACD,OAHa,EAGXb,WAHW,CAAd;;AAKAe,iBAAW,YAAI;AACb,eAAKE,QAAL,CAAc,EAAEC,WAAW,KAAb,EAAd;AACD,OAFD,EAEG,GAFH;AAGD;;;6BA0BO;AAAA,mBAC2B,KAAKU,KADhC;AAAA,UACEV,SADF,UACEA,SADF;AAAA,UACaC,SADb,UACaA,SADb;AAAA,UAEAW,aAFA,GAEiBZ,SAAD,GACTS,SADS,GAETtB,MAAMC,UAJb;AAAA,UAKAyB,aALA,GAKiBZ,SAAD,GACTQ,SADS,GAETtB,MAAMI,SAPb;;AAQN,aACE;AAAA;AAAA;AACG,qBAAU,SADb;AAEG,iBAAOuB,OAAOC,MAAP,CAAc,EAAd,EAAkBH,aAAlB,EAAiCC,aAAjC;AAFV;AAIG;AAAA;AAAA,YAAG,WAAU,cAAb;AACK7B;AADL,SAJH;AAOG;AAAA;AAAA,YAAK,WAAU,cAAf;AACE;AAAA;AAAA;AACG,yBAAU,cADb;AAEG,uBAAS,KAAKkB;AAFjB;AAIIjB;AAJJ,WADF;AAOE;AAAA;AAAA;AACG,yBAAU,cADb;AAEG,uBAAS,KAAKsB;AAFjB;AAIIrB;AAJJ;AAPF;AAPH,OADF;AAwBD;;;;;kBAGYO,kB","file":"ConsentCookiePopup.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst HIDE_PERIOD = 300000\r\n    , ANIMATION_PERIOD = 1100\r\n    , MSG = 'Can website collect statistics, by using session cookies from Google Analytics with anonymizeIp, for better experience ?'\r\n    , BTN_OK_TITLE = \"OK\"\r\n    , BTN_NO_TITLE = \"NO, not today.\";\r\n\r\nconst STYLE = {\r\n  ROOT__SHOW : {\r\n     opacity: '0.9',\r\n     //top : '52px'\r\n     bottom : '0px'\r\n  },\r\n  ROOT_HIDE : {\r\n     display: 'none'\r\n  }\r\n}\r\n\r\nclass ConsentCookiePopup extends Component{\r\n  constructor(props){\r\n    super();\r\n    this.timeID = undefined;\r\n    this.hideID = undefined;\r\n    this.state = {\r\n      isOpacity : true,\r\n      isDisplay : true\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.timeID = setTimeout( () => {\r\n      this.props.onNoAnswer();\r\n      this._startHidingAnimation();\r\n    }, HIDE_PERIOD);\r\n\r\n    setTimeout(()=>{\r\n      this.setState({ isOpacity: false });\r\n    }, 500);\r\n  }\r\n\r\n  _startHidingAnimation = () => {\r\n    this.hideID = setTimeout(this._hidePopup, ANIMATION_PERIOD);\r\n    this.setState({ isOpacity: true });\r\n  }\r\n  _hidePopup = () => {\r\n     this.setState({ isDisplay : false });\r\n  }\r\n\r\n  _handleClickOk = () => {\r\n    if (!this.hideId) {\r\n      clearTimeout(this.timeID);\r\n      this.props.onAnswerYes();\r\n      this._startHidingAnimation();\r\n    }\r\n  }\r\n\r\n  _handleClickNo = () => {\r\n    if (!this.hideId) {\r\n      clearTimeout(this.timeID);\r\n      this.props.onAnswerNo();\r\n      this._startHidingAnimation();\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { isOpacity, isDisplay } = this.state\r\n        , _opacityStyle = (isOpacity)\r\n               ? undefined\r\n               : STYLE.ROOT__SHOW\r\n        , _displayStyle = (isDisplay)\r\n               ? undefined\r\n               : STYLE.ROOT_HIDE;\r\n    return (\r\n      <div\r\n         className=\"consent\"\r\n         style={Object.assign({}, _opacityStyle, _displayStyle)}\r\n      >\r\n         <p className=\"consent__msg\">\r\n             {MSG}\r\n         </p>\r\n         <div className=\"consent__row\">\r\n           <span\r\n              className=\"consent__btn\"\r\n              onClick={this._handleClickOk}\r\n           >\r\n              {BTN_OK_TITLE}\r\n           </span>\r\n           <span\r\n              className=\"consent__btn\"\r\n              onClick={this._handleClickNo}\r\n           >\r\n              {BTN_NO_TITLE}\r\n           </span>\r\n         </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConsentCookiePopup\r\n"]}