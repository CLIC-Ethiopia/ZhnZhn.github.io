{"version":3,"sources":["../../../src/components/stock-markets/AlphaSearchDialog.jsx"],"names":["C","ERR_DESCR","ERR_CAPTION","AlphaIntradayDialog","Decor","withToolbar","withInitialState","props","_crUrlOptions","getKey","loadId","onError","apiKey","_handleClose","onClose","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","noDate","_searchApi","Adapter","Search","crUrlOptions","state","_isWithInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","caption","onFront","isToolbar","isShowLabels","Component"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;AACA;;;;AAEA,IAAMA,CAAC,GAAG;AACRC,EAAAA,SAAS,EAAE,wCADH;AAERC,EAAAA,WAAW,EAAE;AAFL,CAAV;IAOMC,mB,WAFLC,uBAAMC,W,UACND,uBAAME,gB;;;AAGL,+BAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UAwBlBC,aAxBkB,GAwBF,YAAM;AAAA,wBACgB,MAAKD,KADrB;AAAA,UACZE,MADY,eACZA,MADY;AAAA,UACJC,MADI,eACJA,MADI;AAAA,UACIC,OADJ,eACIA,OADJ;AAEpB,UAAMC,MAAM,GAAGH,MAAM,CAACC,MAAD,CAArB;;AACA,UAAI,CAACE,MAAL,EAAa;AACXD,QAAAA,OAAO,CAACX,CAAC,CAACC,SAAH,EAAcD,CAAC,CAACE,WAAhB,CAAP;AACA,eAAO,KAAK,CAAZ;AACD;;AACD,aAAO;AAAEU,QAAAA,MAAM,EAANA;AAAF,OAAP;AACD,KAhCiB;;AAAA,UA2ClBC,YA3CkB,GA2CH,YAAM;AACnB,YAAKN,KAAL,CAAWO,OAAX;AACD,KA7CiB;;AAIhB,UAAKC,SAAL,GAAiB,0EAAiB;AAChCC,MAAAA,aAAa,EAAE,MAAKC,kBADY;AAEhCC,MAAAA,OAAO,EAAE,MAAKC;AAFkB,KAAjB,CAAjB;AAKA,UAAKC,cAAL,GAAsB,MAAKC,uBAAL,CACpBd,KADoB,EACb;AAAEe,MAAAA,MAAM,EAAE;AAAV,KADa,CAAtB;AAIA,UAAKC,UAAL,iCACKC,oBAAQC,MADb;AAEEC,MAAAA,YAAY,EAAE,MAAKlB,aAFrB;AAGEG,MAAAA,OAAO,EAAE,MAAKJ,KAAL,CAAWI;AAHtB;AAMA,UAAKgB,KAAL,iCACK,MAAKC,mBAAL,EADL;AAnBgB;AAsBjB;;;;SAYDC,qB,GAAA,+BAAsBC,SAAtB,EAAiCC,SAAjC,EAA2C;AACzC,QAAI,KAAKxB,KAAL,KAAeuB,SAAnB,EAA6B;AAC1B,UAAI,KAAKvB,KAAL,CAAWyB,MAAX,KAAsBF,SAAS,CAACE,MAApC,EAA2C;AACxC,eAAO,KAAP;AACF;AACH;;AACD,WAAO,IAAP;AACD,G;;SAMDC,M,GAAA,kBAAS;AAAA,uBAIH,KAAK1B,KAJF;AAAA,QAELyB,MAFK,gBAELA,MAFK;AAAA,QAEGE,OAFH,gBAEGA,OAFH;AAAA,QAGLC,OAHK,gBAGLA,OAHK;AAAA,sBAQH,KAAKR,KARF;AAAA,QAMLS,SANK,eAMLA,SANK;AAAA,QAOLC,YAPK,eAOLA,YAPK;AAUP,wBACE,gCAAC,sBAAD,CAAG,eAAH;AACK,MAAA,MAAM,EAAEL,MADb;AAEK,MAAA,OAAO,EAAEE,OAFd;AAGK,MAAA,SAAS,EAAE,KAAKnB,SAHrB;AAIK,MAAA,OAAO,EAAEoB,OAJd;AAKK,MAAA,OAAO,EAAE,KAAKtB;AALnB,oBAOG,gCAAC,sBAAD,CAAG,OAAH;AACG,MAAA,MAAM,EAAEuB,SADX;AAEG,MAAA,OAAO,EAAE,KAAKhB;AAFjB,MAPH,eAWG,gCAAC,sBAAD,CAAG,cAAH;AACE,MAAA,YAAY,EAAEiB,YADhB;AAEE,MAAA,OAAO,EAAC,OAFV;AAGE,MAAA,SAAS,EAAE,KAAKd;AAHlB,MAXH,CADF;AAmBD,G;;;EA9E+Be,gB;eAiFnBnC,mB","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport Adapter from '../../adapters/alpha/Adapter'\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\nimport crMenuMore from '../dialogs/MenuMore'\r\n\r\nconst C = {\r\n  ERR_DESCR: 'API key from Alpha Vantage is required',\r\n  ERR_CAPTION: \"Without API Key\"\r\n};\r\n\r\n@Decor.withToolbar\r\n@Decor.withInitialState\r\nclass AlphaIntradayDialog extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { noDate: true }\r\n    )\r\n\r\n    this._searchApi = {\r\n      ...Adapter.Search,\r\n      crUrlOptions: this._crUrlOptions,\r\n      onError: this.props.onError\r\n    }\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState()      \r\n    }\r\n  }\r\n\r\n  _crUrlOptions = () => {\r\n    const { getKey, loadId, onError } = this.props;\r\n    const apiKey = getKey(loadId);\r\n    if (!apiKey) {\r\n      onError(C.ERR_DESCR, C.ERR_CAPTION)\r\n      return void 0;\r\n    }\r\n    return { apiKey };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this.props.onClose();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isShow, caption,\r\n      onFront,\r\n    } = this.props\r\n    , {\r\n      isToolbar,\r\n      isShowLabels\r\n    } = this.state;\r\n\r\n    return (\r\n      <D.DraggableDialog\r\n           isShow={isShow}\r\n           caption={caption}\r\n           menuModel={this._menuMore}\r\n           onFront={onFront}\r\n           onClose={this._handleClose}\r\n       >\r\n         <D.Toolbar\r\n            isShow={isToolbar}\r\n            buttons={this.toolbarButtons}\r\n         />\r\n         <D.RowInputSearch\r\n           isShowLabels={isShowLabels}\r\n           caption=\"Token\"\r\n           searchApi={this._searchApi}\r\n         />\r\n      </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AlphaIntradayDialog\r\n"],"file":"AlphaSearchDialog.js"}