{"version":3,"sources":["../../src/components/AppErc.jsx"],"names":["BUILD_DATE","CL","AppErc","state","theme","initTheme","_onStore","actionType","themeName","CAT","CHANGE_THEME","setState","setThemeName","componentDidMount","unsubsribe","ChartStore","listen","LocationSearch","load","CA","showReload","componentWillUnmout","render","BAT","INIT_BROWSER_DYNAMIC","SHOW_DIALOG","closeDialog","CHAT","INIT_AND_SHOW_CHART","Component"],"mappings":";;;;;;;;;;;;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AAEA,IAAMA,UAAU,GAAG,YAAnB;AACA,IAAMC,EAAE,GAAG,qBAAX;;IAEMC,M;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,KAAK,EAAEC;AADD,K;;UAYRC,Q,GAAW,UAACC,UAAD,EAAaC,SAAb,EAA2B;AACpC,UAAID,UAAU,KAAKE,uCAAIC,YAAvB,EAAqC;AACnC,cAAKC,QAAL,CAAc,gBAAe;AAAA,cAAZP,KAAY,QAAZA,KAAY;AAC3BA,UAAAA,KAAK,CAACQ,YAAN,CAAmBJ,SAAnB;AACA,iBAAO;AACLJ,YAAAA,KAAK,gCAAMA,KAAN;AADA,WAAP;AAGD,SALD;AAMD;AACF,K;;;;;;;SAjBDS,iB,GAAA,6BAAmB;AACjB,SAAKC,UAAL,GAAkBC,uBAAWC,MAAX,CAAkB,KAAKV,QAAvB,CAAlB;;AACAW,+BAAeC,IAAf;;AACA,gCAAWlB,UAAX,EAAuBmB,6BAAGC,UAA1B;AACD,G;;SACDC,mB,GAAA,+BAAqB;AACnB,SAAKP,UAAL;AACD,G;;SAYDQ,M,GAAA,kBAAQ;AAAA,QACElB,KADF,GACY,KAAKD,KADjB,CACEC,KADF;AAEN,WACE,gCAAC,wBAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAEA;AAA9B,OACE,gCAAC,qBAAD;AAAW,MAAA,KAAK,EAAEW;AAAlB,MADF,EAEE;AAAK,MAAA,SAAS,EAAEd;AAAhB,OACG,gCAAC,4BAAD;AACG,MAAA,KAAK,EAAEc,sBADV;AAEG,MAAA,iBAAiB,EAAEQ,mCAAIC,oBAF1B;AAGG,MAAA,gBAAgB,EAAEf,uCAAIgB,WAHzB;AAIG,MAAA,aAAa,EAAEN,6BAAGO;AAJrB,MADH,EAOG,gCAAC,iBAAD;AAAO,MAAA,KAAK,EAAEX,sBAAd;AAA0B,MAAA,MAAM,EAAE;AAAlC,MAPH,EAQG,gCAAC,yBAAD;AACE,MAAA,KAAK,EAAEA,sBADT;AAEE,MAAA,SAAS,EAAEY,+BAAKC;AAFlB,MARH,CAFF,EAeC,gCAAC,2BAAD;AAAiB,MAAA,KAAK,EAAEb;AAAxB,MAfD,CADF;AAmBD,G;;;EA7CkBc,gB;;eAgDN3B,M","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\nimport LocationSearch from '../flux/logic/LocationSearch';\r\nimport ChartStore from '../flux/stores/ChartStore';\r\nimport HeaderBar from './header/HeaderBar';\r\n\r\nimport BrowserContainer from './browser-container/BrowserContainer';\r\nimport About from './about/About';\r\nimport CompContainer from './zhn-containers/CompContainer';\r\nimport DialogContainer from './dialogs/DialogContainer';\r\n\r\nimport CA, { ComponentActionTypes as CAT } from '../flux/actions/ComponentActions';\r\nimport { BrowserActionTypes as BAT } from '../flux/actions/BrowserActions';\r\nimport { ChartActionTypes as CHAT } from '../flux/actions/ChartActions';\r\n\r\nimport initTheme from './styles/theme'\r\nimport ThemeContext from './hoc/ThemeContext'\r\n\r\nimport checkBuild from './checkBuild'\r\n\r\nconst BUILD_DATE = '19-11-2019';\r\nconst CL = \"component-container\"\r\n\r\nclass AppErc extends Component {\r\n  state = {\r\n    theme: initTheme\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubsribe = ChartStore.listen(this._onStore)\r\n    LocationSearch.load();\r\n    checkBuild(BUILD_DATE, CA.showReload)\r\n  }\r\n  componentWillUnmout(){\r\n    this.unsubsribe()\r\n  }\r\n  _onStore = (actionType, themeName) => {\r\n    if (actionType === CAT.CHANGE_THEME) {\r\n      this.setState(({ theme }) => {\r\n        theme.setThemeName(themeName)\r\n        return {\r\n          theme: {...theme}\r\n        };\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { theme } = this.state;\r\n    return (\r\n      <ThemeContext.Provider value={theme}>\r\n        <HeaderBar store={ChartStore} />\r\n        <div className={CL}>\r\n           <BrowserContainer\r\n              store={ChartStore}\r\n              initBrowserAction={BAT.INIT_BROWSER_DYNAMIC}\r\n              showDialogAction={CAT.SHOW_DIALOG}\r\n              onCloseDialog={CA.closeDialog}\r\n           />\r\n           <About store={ChartStore} isShow={true} />\r\n           <CompContainer\r\n             store={ChartStore}\r\n             addAction={CHAT.INIT_AND_SHOW_CHART}\r\n           />\r\n       </div>\r\n       <DialogContainer store={ChartStore} />\r\n     </ThemeContext.Provider>\r\n   );\r\n  }\r\n}\r\n\r\nexport default AppErc\r\n"],"file":"AppErc.js"}