{"version":3,"sources":["../../../src/components/dialogs/DialogType4.jsx"],"names":["HAS_SECOND_Y_AXIS","CAPTION_YAXIS","DialogType4","Decor","dialog","props","_handleSelectOne","one","_handleSelectTwo","two","_handleSelectThree","three","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","oneCaption","twoCaption","threeURI","threeCaption","msgOnNotSelected","msg","push","datesFragment","getValidation","isValid","datesMsg","concat","length","getValues","fromDate","toDate","loadFn","hasSecondYAxis","_handleClose","_handleWithValidationClose","_handleMode","propName","value","_refDates","c","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","noDate","noOptions","toolbarButtons","_createType2WithToolbar","isShowOptions","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","caption","onShow","onFront","oneNames","oneURI","oneJsonProp","isWithOneInput","twoNames","twoURI","twoJsonProp","isWithInputTwo","threeNames","threeJsonProp","isWithInputThree","initFromDate","initToDate","msgOnNotValidFormat","onTestDate","isToolbar","isShowLabels","isShowDate","validationMessages","bind","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport D from './DialogCell'\r\nimport crMenuMore from './MenuMore'\r\nimport Decor from './decorators/Decorators'\r\n\r\nconst HAS_SECOND_Y_AXIS = 'hasSecondYAxis';\r\nconst CAPTION_YAXIS = 'Add Seria with Second YAxis';\r\n\r\n\r\n@Decor.dialog\r\nclass DialogType4 extends Component {\r\n  /*\r\n  static propTypes = {\r\n    isShow: PropTypes.bool,\r\n    caption: PropTypes.string,\r\n\r\n    oneCaption: PropTypes.string,\r\n    oneNames: PropTypes.string,\r\n    oneURI: PropTypes.string,\r\n    oneJsonProp: PropTypes.string,\r\n\r\n    twoCaption: PropTypes.string,\r\n    twoNames: PropTypes.string,\r\n    twoURI: PropTypes.string,\r\n    twoJsonProp: PropTypes.string,\r\n\r\n    noDate: PropTypes.bool,\r\n    noOptions: PropTypes.bool,\r\n\r\n    initFromDate: PropTypes.string,\r\n    initToDate: PropTypes.string,\r\n    msgOnNotValidFormat: PropTypes.func,\r\n    onTestDate: PropTypes.func,\r\n    onShow: PropTypes.func,\r\n\r\n    loadFn: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    const { noDate, noOptions } = props;\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { noDate, isShowOptions: !noOptions  }\r\n    );    \r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n  _handleSelectTwo = (two) => {\r\n    this.two = two;\r\n  }\r\n  _handleSelectThree = (three) => {\r\n    this.three = three;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     const {\r\n             oneCaption,\r\n             twoCaption,\r\n             threeURI, threeCaption,\r\n             msgOnNotSelected\r\n           } = this.props;\r\n     let msg = [];\r\n\r\n     if (!this.one) {\r\n       msg.push(msgOnNotSelected(oneCaption));\r\n     }\r\n     if (!this.two) {\r\n       msg.push(msgOnNotSelected(twoCaption));\r\n     }\r\n     if (threeURI && !this.three){\r\n       msg.push(msgOnNotSelected(threeCaption));\r\n     }\r\n\r\n     if (this.datesFragment) {\r\n       const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n       if (!isValid) { msg = msg.concat(datesMsg); }\r\n     }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n  _createLoadOption = () => {\r\n    const { fromDate, toDate } = this.datesFragment\r\n              ? this.datesFragment.getValues()\r\n              : {};\r\n    return this.props.loadFn(\r\n      this.props, {\r\n        one: this.one,\r\n        two: this.two,\r\n        three: this.three,\r\n        fromDate, toDate,\r\n        hasSecondYAxis: this[HAS_SECOND_Y_AXIS]\r\n      }\r\n    );\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneNames, oneURI, oneJsonProp, isWithOneInput,\r\n           twoCaption, twoNames, twoURI, twoJsonProp, isWithInputTwo,\r\n           threeCaption, threeNames, threeURI, threeJsonProp, isWithInputThree,\r\n           initFromDate, initToDate, msgOnNotValidFormat, onTestDate,\r\n           noDate, noOptions\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels, isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n           isShow={isShow}\r\n           caption={caption}\r\n           menuModel={this._menuMore}\r\n           commandButtons={this._commandButtons}\r\n           onShowChart={onShow}\r\n           onFront={onFront}\r\n           onClose={this._handleClose}\r\n         >\r\n            <D.Toolbar\r\n              isShow={isToolbar}\r\n              buttons={this.toolbarButtons}\r\n            />\r\n            <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               optionNames={oneNames}\r\n               isWithInput={isWithOneInput}\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={twoURI}\r\n               jsonProp={twoJsonProp}\r\n               caption={twoCaption}\r\n               optionNames={twoNames}\r\n               isWithInput={isWithInputTwo}\r\n               onSelect={this._handleSelectTwo}\r\n             />\r\n             { threeURI &&\r\n               <D.SelectWithLoad\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={threeURI}\r\n                 jsonProp={threeJsonProp}\r\n                 caption={threeCaption}\r\n                 optionNames={threeNames}\r\n                 isWithInput={isWithInputThree}\r\n                 onSelect={this._handleSelectThree}\r\n               />\r\n             }\r\n             {\r\n               (noDate !== true) &&\r\n               <D.ShowHide isShow={isShowDate}>\r\n                 <D.DatesFragment\r\n                   ref={this._refDates}\r\n                   isShowLabels={isShowLabels}\r\n                   initFromDate={initFromDate}\r\n                   initToDate={initToDate}\r\n                   msgOnNotValidFormat={msgOnNotValidFormat}\r\n                   onTestDate={onTestDate}\r\n                 />\r\n               </D.ShowHide>\r\n             }\r\n             {\r\n               (noOptions !== true) &&\r\n               <D.ShowHide isShow={isShowOptions}>\r\n                 <D.RowCheckBox\r\n                   initValue={false}\r\n                   caption={CAPTION_YAXIS}\r\n                   onCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, true)}\r\n                   onUnCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, false)}\r\n                 />\r\n               </D.ShowHide>\r\n             }\r\n\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType4\r\n"],"file":"DialogType4.js"}