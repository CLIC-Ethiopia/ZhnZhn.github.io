{"version":3,"sources":["../../../src/components/dialogs/AskDialog.jsx"],"names":["MSG_PREFIX","MSG_SUFFIX","S","MODAL","position","width","height","margin","ROOT_DIV","display","NAME","color","paddingLeft","paddingRight","DESCR","paddingTop","fontWeight","lineHeight","whiteSpace","CAPTCHA","padding","paddingBottom","AskDialog","props","_handleLoad","bind","_commandButtons","onClose","data","options","captchaComp","isOk","FactoryAction","crLoadQuery","run","shouldComponentUpdate","nextProps","nextState","isShow","render","name","c","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport Button from './Button'\r\nimport ModalDialog from '../zhn-moleculs/ModalDialog';\r\nimport MathCaptcha from '../zhn-moleculs/MathCaptcha';\r\n\r\nimport FactoryAction from '../../flux/actions/FactoryAction'\r\n\r\nconst MSG_PREFIX = \"Would you like load item\";\r\nconst MSG_SUFFIX = \"from url?\";\r\n\r\nconst S = {\r\n  MODAL : {\r\n    position: 'static',\r\n    width: '400px',\r\n    height: '205px',\r\n    margin: '70px auto'\r\n  },\r\n  ROOT_DIV: {\r\n    display: 'block',\r\n    margin: '5px'\r\n  },\r\n  NAME : {\r\n    color: '#a487d4',\r\n    paddingLeft: '5px',\r\n    paddingRight: '5px'\r\n  },\r\n  DESCR : {\r\n    color: 'gray',\r\n    width : '400px',\r\n    paddingLeft : '10px',\r\n    paddingTop: '5px',\r\n    fontWeight: 'bold',\r\n    lineHeight : 1.4,\r\n    whiteSpace : 'pre'\r\n  },\r\n  CAPTCHA : {\r\n    padding: '8px',\r\n    paddingBottom : '0px'\r\n  }\r\n}\r\n\r\nclass AskDialog extends Component {\r\n   /*\r\n   static propTypes = {\r\n     isShow: PropTypes.bool,\r\n     data: PropTypes.shape({\r\n       options: PropTypes.shape({\r\n         chartType: PropTypes.string,\r\n         browserType: PropTypes.string\r\n       })\r\n     }),\r\n     onClose: PropTypes.func\r\n   }\r\n   */\r\n\r\n  constructor(props){\r\n    super();\r\n\r\n    this._handleLoad = this._handleLoad.bind(this)\r\n    this._commandButtons = [\r\n        <Button.Flat\r\n          caption=\"Yes, Load\"\r\n          //accessKey=\"s\"\r\n          isPrimary={true}\r\n          onClick={this._handleLoad}\r\n        />,\r\n        <Button.Flat\r\n          caption=\"No, Close\"\r\n          //accessKey=\"c\"\r\n          onClick={props.onClose}\r\n        />\r\n    ]\r\n  }\r\n\r\n  _handleLoad(){\r\n    const { data={}, onClose } = this.props\r\n        , { options={} } = data;\r\n    if (this.captchaComp.isOk()){\r\n       FactoryAction\r\n         .crLoadQuery(options)\r\n         .run()\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (nextProps !== this.props && nextProps.isShow === this.props.isShow) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render(){\r\n    const { isShow, data={}, onClose } = this.props\r\n        , { options={} } = data\r\n        , { name='' } = options;\r\n    return (\r\n      <ModalDialog\r\n        style={S.MODAL}\r\n        caption=\"Confirm Load\"\r\n        isShow={isShow}\r\n        commandButtons={this._commandButtons}\r\n        withoutClose={true}\r\n        onClose={onClose}\r\n      >\r\n         <div style={S.ROOT_DIV}>\r\n            <p style={S.DESCR}>\r\n               {MSG_PREFIX}\r\n               <span style={S.NAME}>{name}</span>\r\n               {MSG_SUFFIX}\r\n            </p>\r\n            <MathCaptcha\r\n              ref={c => this.captchaComp = c}\r\n              rootStyle={S.CAPTCHA}\r\n            />\r\n         </div>\r\n      </ModalDialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AskDialog\r\n"],"file":"AskDialog.js"}