{"version":3,"sources":["../../../src/components/dialogs/DialogType4A.jsx"],"names":["HAS_SECOND_Y_AXIS","DialogType4A","Decor","dialog","props","_handleClickOptions","setState","isShowOptions","state","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","msg","oneTwo","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","one","two","fromDate","toDate","loadFn","hasSecondYAxis","_handleClose","_handleWithValidationClose","_handleMode","propName","value","_refOneTwo","c","_refDates","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","push","caption","title","onClick","_commandButtons","_crCommandsWithLoad","_isWithInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","oneCaption","oneURI","oneJsonProp","twoCaption","msgOnNotSelected","onShow","onFront","initFromDate","initToDate","msgOnNotValidFormat","onTestDate","isToolbar","isShowLabels","isShowDate","validationMessages","bind","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport D from './DialogCell'\r\nimport crMenuMore from './MenuMore'\r\nimport Decor from './decorators/Decorators'\r\n\r\nconst HAS_SECOND_Y_AXIS = 'hasSecondYAxis';\r\n\r\n@Decor.dialog\r\nclass DialogType4A extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(props)\r\n    this.toolbarButtons.push({\r\n      caption: 'O', title: 'Toggle Options Input',\r\n      onClick: this._handleClickOptions\r\n    })\r\n    this[HAS_SECOND_Y_AXIS] = false\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleClickOptions = () => {\r\n    this.setState({ isShowOptions: !this.state.isShowOptions })\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     let msg = [];\r\n\r\n     const { isValid:isValid1, msg:msg1 } = this.oneTwo.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { one, two } = this.oneTwo.getValues()\r\n        , { fromDate, toDate } = this.datesFragment.getValues();\r\n    return this.props.loadFn(\r\n       this.props, {\r\n         one, two, fromDate, toDate,\r\n         hasSecondYAxis: this[HAS_SECOND_Y_AXIS]\r\n       }\r\n     );\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  _refOneTwo = c => this.oneTwo = c\r\n  _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, oneCaption, oneURI, oneJsonProp, twoCaption, msgOnNotSelected,\r\n           isShow, onShow, onFront,\r\n           initFromDate, initToDate, msgOnNotValidFormat, onTestDate\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels, isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n           isShow={isShow}\r\n           caption={caption}\r\n           menuModel={this._menuMore}\r\n           commandButtons={this._commandButtons}\r\n           onShowChart={onShow}\r\n           onFront={onFront}\r\n           onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n               isShow={isToolbar}\r\n               buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectOneTwo\r\n                 ref={this._refOneTwo}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={oneURI}\r\n                 oneCaption={oneCaption}\r\n                 oneJsonProp={oneJsonProp}\r\n                 twoCaption={twoCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={this._refDates}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               <D.RowCheckBox\r\n                 initValue={false}\r\n                 caption=\"Add Seria with Second YAxis\"\r\n                 onCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, true)}\r\n                 onUnCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, false)}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType4A\r\n"],"file":"DialogType4A.js"}