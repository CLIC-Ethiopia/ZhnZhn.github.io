{"version":3,"sources":["../../../src/components/dialogs/DialogType4A.jsx"],"names":["HAS_SECOND_Y_AXIS","DialogType4A","Decor","dialog","props","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","msg","oneTwo","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","one","two","fromDate","toDate","loadFn","hasSecondYAxis","_handleClose","_handleWithValidationClose","_handleMode","propName","value","_refOneTwo","c","_refDates","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","isShowOptions","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","caption","oneCaption","oneURI","oneJsonProp","twoCaption","msgOnNotSelected","onShow","onFront","initFromDate","initToDate","msgOnNotValidFormat","onTestDate","isToolbar","isShowLabels","isShowDate","validationMessages","bind","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport D from './DialogCell'\r\nimport crMenuMore from './MenuMore'\r\nimport Decor from './decorators/Decorators'\r\n\r\nconst HAS_SECOND_Y_AXIS = 'hasSecondYAxis';\r\n\r\n@Decor.dialog\r\nclass DialogType4A extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { isShowOptions: true }\r\n    )\r\n\r\n    this[HAS_SECOND_Y_AXIS] = false\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     let msg = [];\r\n\r\n     const { isValid:isValid1, msg:msg1 } = this.oneTwo.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { one, two } = this.oneTwo.getValues()\r\n        , { fromDate, toDate } = this.datesFragment.getValues();\r\n    return this.props.loadFn(\r\n       this.props, {\r\n         one, two, fromDate, toDate,\r\n         hasSecondYAxis: this[HAS_SECOND_Y_AXIS]\r\n       }\r\n     );\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  _refOneTwo = c => this.oneTwo = c\r\n  _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, oneCaption, oneURI, oneJsonProp, twoCaption, msgOnNotSelected,\r\n           isShow, onShow, onFront,\r\n           initFromDate, initToDate, msgOnNotValidFormat, onTestDate\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels, isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n           isShow={isShow}\r\n           caption={caption}\r\n           menuModel={this._menuMore}\r\n           commandButtons={this._commandButtons}\r\n           onShowChart={onShow}\r\n           onFront={onFront}\r\n           onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n               isShow={isToolbar}\r\n               buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectOneTwo\r\n                 ref={this._refOneTwo}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={oneURI}\r\n                 oneCaption={oneCaption}\r\n                 oneJsonProp={oneJsonProp}\r\n                 twoCaption={twoCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={this._refDates}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               <D.RowCheckBox\r\n                 initValue={false}\r\n                 caption=\"Add Seria with Second YAxis\"\r\n                 onCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, true)}\r\n                 onUnCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, false)}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType4A\r\n"],"file":"DialogType4A.js"}