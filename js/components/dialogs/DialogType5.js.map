{"version":3,"sources":["../../../src/components/dialogs/DialogType5.jsx"],"names":["HAS_SECOND_Y_AXIS","CHART_TYPE_OPTIONS","caption","value","CH","AREA","SCATTER_UP","SCATTER_DOWN","DialogType5","Decor","dialog","props","_handleClickOptions","setState","prevState","isShowOptions","_handleSelectOne","one","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","oneCaption","msg","push","msgOnNotSelected","twoThree","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","two","three","fromDate","toDate","seriaType","chartType","undefined","loadFn","hasSecondYAxis","_handleClose","_handleWithValidationClose","_handleMode","propName","_handlerSelectChartType","item","_refTwoThree","c","_refDates","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","title","onClick","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","isShowDate","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","onFront","oneURI","oneJsonProp","twoCaption","twoURI","twoJsonProp","threeCaption","initFromDate","initToDate","nForecastDate","msgOnNotValidFormat","onTestDate","isChartType","isToolbar","isShowLabels","validationMessages","bind","Component"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;AACA;;;;AAEA,IAAMA,iBAAiB,GAAG,gBAA1B;AAEA,IAAMC,kBAAkB,GAAG,CACzB;AAAEC,EAAAA,OAAO,EAAE,eAAX;AAA4BC,EAAAA,KAAK,EAAEC,gBAAGC;AAAtC,CADyB,EAEzB;AAAEH,EAAAA,OAAO,EAAE,mBAAX;AAAgCC,EAAAA,KAAK,EAAEC,gBAAGE;AAA1C,CAFyB,EAGzB;AAAEJ,EAAAA,OAAO,EAAE,qBAAX;AAAkCC,EAAAA,KAAK,EAAEC,gBAAGG;AAA5C,CAHyB,CAA3B;IAOOC,W,WADNC,uBAAMC,M;;;;;AAGL,uBAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UA+BlBC,mBA/BkB,GA+BI,YAAM;AAC1B,YAAKC,QAAL,CAAc,UAAAC,SAAS;AAAA,eAAK;AAC1BC,UAAAA,aAAa,EAAE,CAACD,SAAS,CAACC;AADA,SAAL;AAAA,OAAvB;AAGD,KAnCiB;;AAAA,UAqClBC,gBArCkB,GAqCC,UAACC,GAAD,EAAS;AAC1B,YAAKA,GAAL,GAAWA,GAAX;AACD,KAvCiB;;AAAA,UAyClBC,WAzCkB,GAyCJ,YAAM;AAClB,YAAKC,yBAAL,CACE,MAAKC,yBAAL,EADF,EAEE,MAAKC,iBAFP;AAID,KA9CiB;;AAAA,UA+ClBD,yBA/CkB,GA+CU,YAAM;AAAA,UACvBE,UADuB,GACR,MAAKX,KADG,CACvBW,UADuB;AAE/B,UAAIC,GAAG,GAAG,EAAV;;AAEA,UAAI,CAAC,MAAKN,GAAV,EAAkB;AAAEM,QAAAA,GAAG,CAACC,IAAJ,CAAS,MAAKb,KAAL,CAAWc,gBAAX,CAA4BH,UAA5B,CAAT;AAAmD;;AAJxC,kCAMQ,MAAKI,QAAL,CAAcC,aAAd,EANR;AAAA,UAMfC,QANe,yBAMvBC,OANuB;AAAA,UAMDC,IANC,yBAMLP,GANK;;AAO/B,UAAI,CAACK,QAAL,EAAe;AAAEL,QAAAA,GAAG,GAAGA,GAAG,CAACQ,MAAJ,CAAWD,IAAX,CAAN;AAAyB;;AAPX,kCASH,MAAKE,aAAL,CAAmBL,aAAnB,EATG;AAAA,UASxBE,OATwB,yBASxBA,OATwB;AAAA,UASfI,QATe,yBASfA,QATe;;AAU/B,UAAI,CAACJ,OAAL,EAAc;AAAEN,QAAAA,GAAG,GAAGA,GAAG,CAACQ,MAAJ,CAAWE,QAAX,CAAN;AAA6B;;AAE7CV,MAAAA,GAAG,CAACM,OAAJ,GAAeN,GAAG,CAACW,MAAJ,KAAe,CAAhB,GAAqB,IAArB,GAA4B,KAA1C;AACA,aAAOX,GAAP;AACF,KA7DiB;;AAAA,UA+DlBF,iBA/DkB,GA+DE,YAAM;AAAA,mCACO,MAAKK,QAAL,CAAcS,SAAd,EADP;AAAA,UACZC,GADY,0BAChBnB,GADgB;AAAA,UACHoB,KADG,0BACPD,GADO;AAAA,mCAEK,MAAKJ,aAAL,CAAmBG,SAAnB,EAFL;AAAA,UAEhBG,QAFgB,0BAEhBA,QAFgB;AAAA,UAENC,MAFM,0BAENA,MAFM;AAAA,UAGlBC,SAHkB,GAGN,MAAKC,SAAL,GACP,MAAKA,SAAL,CAAetC,KADR,GAEPuC,SALa;;AAMxB,aAAO,MAAK/B,KAAL,CAAWgC,MAAX,CACL,MAAKhC,KADA,EACO;AACZM,QAAAA,GAAG,EAAG,MAAKA,GADC;AACImB,QAAAA,GAAG,EAAHA,GADJ;AACSC,QAAAA,KAAK,EAALA,KADT;AACgBC,QAAAA,QAAQ,EAARA,QADhB;AAC0BC,QAAAA,MAAM,EAANA,MAD1B;AAEZK,QAAAA,cAAc,EAAE,MAAK5C,iBAAL,CAFJ;AAGZwC,QAAAA,SAAS,EAATA;AAHY,OADP,CAAP;AAMD,KA3EiB;;AAAA,UA6ElBK,YA7EkB,GA6EH,YAAM;AACnB,YAAKC,0BAAL;AACD,KA/EiB;;AAAA,UAiFlBC,WAjFkB,GAiFJ,UAACC,QAAD,EAAW7C,KAAX,EAAqB;AAChC,YAAK6C,QAAL,IAAiB7C,KAAjB;AACF,KAnFiB;;AAAA,UAqFlB8C,uBArFkB,GAqFQ,UAACC,IAAD,EAAU;AAClC,YAAKT,SAAL,GAAiBS,IAAjB;AACD,KAvFiB;;AAAA,UAyFlBC,YAzFkB,GAyFH,UAAAC,CAAC;AAAA,aAAI,MAAK1B,QAAL,GAAgB0B,CAApB;AAAA,KAzFE;;AAAA,UA0FlBC,SA1FkB,GA0FN,UAAAD,CAAC;AAAA,aAAI,MAAKpB,aAAL,GAAqBoB,CAAzB;AAAA,KA1FK;;AAGhB,UAAKE,SAAL,GAAiB,0EAAiB;AAChCC,MAAAA,aAAa,EAAE,MAAKC,kBADY;AAEhCC,MAAAA,OAAO,EAAE,MAAKC;AAFkB,KAAjB,CAAjB;AAKA,UAAKC,cAAL,GAAsB,MAAKC,uBAAL,CAA6BjD,KAA7B,CAAtB;;AACA,UAAKgD,cAAL,CAAoBnC,IAApB,CAAyB;AACvBtB,MAAAA,OAAO,EAAE,GADc;AACT2D,MAAAA,KAAK,EAAE,sBADE;AAEvBC,MAAAA,OAAO,EAAE,MAAKlD;AAFS,KAAzB;;AAIA,UAAKmD,eAAL,GAAuB,MAAKC,mBAAL,gDAAvB;AAEA,UAAKC,KAAL,iCACK,MAAKC,mBAAL,EADL;AAEEC,MAAAA,UAAU,EAAE,KAFd;AAGEpD,MAAAA,aAAa,EAAE;AAHjB;AAfgB;AAoBjB;;;;SAEDqD,qB,GAAA,+BAAsBC,SAAtB,EAAiCC,SAAjC,EAA2C;AACzC,QAAI,KAAK3D,KAAL,KAAe0D,SAAnB,EAA6B;AAC1B,UAAI,KAAK1D,KAAL,CAAW4D,MAAX,KAAsBF,SAAS,CAACE,MAApC,EAA2C;AACxC,eAAO,KAAP;AACF;AACH;;AACD,WAAO,IAAP;AACD,G;;SA+DDC,M,GAAA,kBAAQ;AAAA,sBAOI,KAAK7D,KAPT;AAAA,QAECT,OAFD,eAECA,OAFD;AAAA,QAEUqE,MAFV,eAEUA,MAFV;AAAA,QAEkBE,MAFlB,eAEkBA,MAFlB;AAAA,QAE0BC,OAF1B,eAE0BA,OAF1B;AAAA,QAGCpD,UAHD,eAGCA,UAHD;AAAA,QAGaqD,MAHb,eAGaA,MAHb;AAAA,QAGqBC,WAHrB,eAGqBA,WAHrB;AAAA,QAICC,UAJD,eAICA,UAJD;AAAA,QAIaC,MAJb,eAIaA,MAJb;AAAA,QAIqBC,WAJrB,eAIqBA,WAJrB;AAAA,QAIkCC,YAJlC,eAIkCA,YAJlC;AAAA,QAIgDvD,gBAJhD,eAIgDA,gBAJhD;AAAA,QAKCwD,YALD,eAKCA,YALD;AAAA,QAKeC,UALf,eAKeA,UALf;AAAA,QAK2BC,aAL3B,eAK2BA,aAL3B;AAAA,QAK0CC,mBAL1C,eAK0CA,mBAL1C;AAAA,QAK+DC,UAL/D,eAK+DA,UAL/D;AAAA,QAMCC,WAND,eAMCA,WAND;AAAA,sBAYI,KAAKrB,KAZT;AAAA,QASEsB,SATF,eASEA,SATF;AAAA,QAUEC,YAVF,eAUEA,YAVF;AAAA,QAUgBrB,UAVhB,eAUgBA,UAVhB;AAAA,QAU4BpD,aAV5B,eAU4BA,aAV5B;AAAA,QAWE0E,kBAXF,eAWEA,kBAXF;AAcN,WACI,gCAAC,sBAAD,CAAG,eAAH;AACK,MAAA,MAAM,EAAElB,MADb;AAEK,MAAA,OAAO,EAAErE,OAFd;AAGK,MAAA,SAAS,EAAE,KAAKoD,SAHrB;AAIK,MAAA,cAAc,EAAE,KAAKS,eAJ1B;AAKK,MAAA,WAAW,EAAEU,MALlB;AAMK,MAAA,OAAO,EAAEC,OANd;AAOK,MAAA,OAAO,EAAE,KAAK7B;AAPnB,OASK,gCAAC,sBAAD,CAAG,OAAH;AACE,MAAA,MAAM,EAAE0C,SADV;AAEE,MAAA,OAAO,EAAE,KAAK5B;AAFhB,MATL,EAaK,gCAAC,sBAAD,CAAG,cAAH;AACE,MAAA,MAAM,EAAEY,MADV;AAEE,MAAA,YAAY,EAAEiB,YAFhB;AAGE,MAAA,GAAG,EAAEb,MAHP;AAIE,MAAA,QAAQ,EAAEC,WAJZ;AAKE,MAAA,OAAO,EAAEtD,UALX;AAME,MAAA,WAAW,EAAC,OANd;AAOE,MAAA,QAAQ,EAAE,KAAKN;AAPjB,MAbL,EAuBK,gCAAC,sBAAD,CAAG,YAAH;AACI,MAAA,GAAG,EAAE,KAAKmC,YADd;AAEI,MAAA,MAAM,EAAEoB,MAFZ;AAGI,MAAA,YAAY,EAAEiB,YAHlB;AAII,MAAA,GAAG,EAAEV,MAJT;AAKI,MAAA,UAAU,EAAED,UALhB;AAMI,MAAA,WAAW,EAAEE,WANjB;AAOI,MAAA,UAAU,EAAEC,YAPhB;AAQI,MAAA,gBAAgB,EAAEvD;AARtB,MAvBL,EAkCK,gCAAC,sBAAD,CAAG,QAAH;AAAY,MAAA,MAAM,EAAE0C;AAApB,OACE,gCAAC,sBAAD,CAAG,aAAH;AACE,MAAA,GAAG,EAAE,KAAKd,SADZ;AAEE,MAAA,YAAY,EAAEmC,YAFhB;AAGE,MAAA,YAAY,EAAEP,YAHhB;AAIE,MAAA,UAAU,EAAEC,UAJd;AAKE,MAAA,aAAa,EAAEC,aALjB;AAME,MAAA,mBAAmB,EAAEC,mBANvB;AAOE,MAAA,UAAU,EAAEC;AAPd,MADF,CAlCL,EA6CK,gCAAC,sBAAD,CAAG,QAAH;AAAY,MAAA,MAAM,EAAEtE;AAApB,OAEIuE,WAAW,IACX,gCAAC,sBAAD,CAAG,cAAH;AACG,MAAA,YAAY,EAAEE,YADjB;AAEG,MAAA,OAAO,EAAC,aAFX;AAGG,MAAA,OAAO,EAAEvF,kBAHZ;AAIG,MAAA,QAAQ,EAAE,KAAKgD;AAJlB,MAHJ,EAUE,gCAAC,sBAAD,CAAG,WAAH;AACE,MAAA,SAAS,EAAE,KADb;AAEE,MAAA,OAAO,EAAC,6BAFV;AAGE,MAAA,OAAO,EAAE,KAAKF,WAAL,CAAiB2C,IAAjB,CAAsB,IAAtB,EAA4B1F,iBAA5B,EAA+C,IAA/C,CAHX;AAIE,MAAA,SAAS,EAAE,KAAK+C,WAAL,CAAiB2C,IAAjB,CAAsB,IAAtB,EAA4B1F,iBAA5B,EAA+C,KAA/C;AAJb,MAVF,CA7CL,EA8DK,gCAAC,sBAAD,CAAG,kBAAH;AACI,MAAA,kBAAkB,EAAEyF;AADxB,MA9DL,CADJ;AAoED,G;;;EAhLwBE,gB;eAmLZnF,W","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { ChartType as CH } from '../../constants/Type';\r\n\r\nimport D from './DialogCell'\r\nimport crMenuMore from './MenuMore'\r\nimport Decor from './decorators/Decorators'\r\n\r\nconst HAS_SECOND_Y_AXIS = 'hasSecondYAxis';\r\n\r\nconst CHART_TYPE_OPTIONS = [\r\n  { caption: 'Default: Area', value: CH.AREA },\r\n  { caption: 'Scatter: Label Up', value: CH.SCATTER_UP },\r\n  { caption: 'Scatter: Label Down', value: CH.SCATTER_DOWN }\r\n];\r\n\r\n@Decor.dialog\r\nclass  DialogType5 extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(props)\r\n    this.toolbarButtons.push({\r\n      caption: 'O', title: 'Toggle Options Input',\r\n      onClick: this._handleClickOptions\r\n    })\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowDate: false,\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleClickOptions = () => {\r\n    this.setState(prevState => ({\r\n      isShowOptions: !prevState.isShowOptions\r\n    }))\r\n  }\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     const { oneCaption } = this.props;\r\n     let msg = [];\r\n\r\n     if (!this.one)    { msg.push(this.props.msgOnNotSelected(oneCaption));}\r\n\r\n     const { isValid:isValid1, msg:msg1 } = this.twoThree.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { one:two, two:three } = this.twoThree.getValues()\r\n        , { fromDate, toDate } = this.datesFragment.getValues()\r\n        , seriaType = this.chartType\r\n             ? this.chartType.value\r\n             : undefined;\r\n    return this.props.loadFn(\r\n      this.props, {\r\n      one : this.one, two, three, fromDate, toDate,\r\n      hasSecondYAxis: this[HAS_SECOND_Y_AXIS],\r\n      seriaType\r\n    });\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  _handlerSelectChartType = (item) => {\r\n    this.chartType = item\r\n  }\r\n\r\n  _refTwoThree = c => this.twoThree = c\r\n  _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp, threeCaption, msgOnNotSelected,\r\n           initFromDate, initToDate, nForecastDate, msgOnNotValidFormat, onTestDate,\r\n           isChartType\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels, isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             isShow={isShow}\r\n             caption={caption}\r\n             menuModel={this._menuMore}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n               isShow={isToolbar}\r\n               buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n\r\n             <D.SelectOneTwo\r\n                 ref={this._refTwoThree}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={twoURI}\r\n                 oneCaption={twoCaption}\r\n                 oneJsonProp={twoJsonProp}\r\n                 twoCaption={threeCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={this._refDates}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 nForecastDate={nForecastDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               {\r\n                 isChartType &&\r\n                 <D.RowInputSelect\r\n                    isShowLabels={isShowLabels}\r\n                    caption=\"Chart Type:\"\r\n                    options={CHART_TYPE_OPTIONS}\r\n                    onSelect={this._handlerSelectChartType}\r\n                 />\r\n               }\r\n               <D.RowCheckBox\r\n                 initValue={false}\r\n                 caption=\"Add Seria with Second YAxis\"\r\n                 onCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, true)}\r\n                 onUnCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, false)}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType5\r\n"],"file":"DialogType5.js"}