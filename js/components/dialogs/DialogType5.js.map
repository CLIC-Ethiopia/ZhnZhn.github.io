{"version":3,"sources":["../../../src/components/dialogs/DialogType5.jsx"],"names":["Decor","crMenuMore","D","HAS_SECOND_Y_AXIS","CHART_TYPE_OPTIONS","caption","value","CHT_AREA","CHT_SCATTER_UP","CHT_SCATTER_DOWN","DialogType5","dialog","Component","constructor","props","_handleSelectOne","one","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","oneCaption","msg","push","msgOnNotSelected","isValid","isValid1","msg1","twoThree","getValidation","concat","datesMsg","datesFragment","length","two","three","getValues","fromDate","toDate","seriaType","chartType","undefined","loadFn","hasSecondYAxis","_handleClose","_handleWithValidationClose","_hCheckSecondYAxis","_hUnCheckSecondYAxis","_handlerSelectChartType","item","_refTwoThree","c","_refDates","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","isShowOptions","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","isShowDate","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","onFront","oneURI","oneJsonProp","twoCaption","twoURI","twoJsonProp","threeCaption","initFromDate","initToDate","msgOnNotValidFormat","onTestDate","isChartType","isToolbar","isShowLabels","validationMessages"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\n\r\nimport {\r\n  CHT_AREA,\r\n  CHT_SCATTER_UP,\r\n  CHT_SCATTER_DOWN\r\n} from '../../constants/ChartType';\r\n\r\nimport D from './DialogCell'\r\nconst { Decor, crMenuMore } = D\r\n\r\nconst HAS_SECOND_Y_AXIS = 'hasSecondYAxis';\r\n\r\nconst CHART_TYPE_OPTIONS = [\r\n  { caption: 'Default: Area', value: CHT_AREA },\r\n  { caption: 'Scatter: Label Up', value: CHT_SCATTER_UP },\r\n  { caption: 'Scatter: Label Down', value: CHT_SCATTER_DOWN }\r\n];\r\n\r\n@Decor.dialog\r\nclass  DialogType5 extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { isShowOptions: true })\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowDate: false,\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     const { oneCaption } = this.props;\r\n     let msg = [];\r\n\r\n     if (!this.one)    { msg.push(this.props.msgOnNotSelected(oneCaption));}\r\n\r\n     const { isValid:isValid1, msg:msg1 } = this.twoThree.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { one:two, two:three } = this.twoThree.getValues()\r\n        , { fromDate, toDate } = this.datesFragment.getValues()\r\n        , seriaType = this.chartType\r\n             ? this.chartType.value\r\n             : undefined;\r\n    return this.props.loadFn(\r\n      this.props, {\r\n      one : this.one, two, three, fromDate, toDate,\r\n      hasSecondYAxis: this[HAS_SECOND_Y_AXIS],\r\n      seriaType\r\n    });\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _hCheckSecondYAxis = () => {\r\n    this[HAS_SECOND_Y_AXIS] = true\r\n  }\r\n  _hUnCheckSecondYAxis = () => {\r\n    this[HAS_SECOND_Y_AXIS] = false\r\n  }\r\n\r\n  _handlerSelectChartType = (item) => {\r\n    this.chartType = item\r\n  }\r\n\r\n  _refTwoThree = c => this.twoThree = c\r\n  _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp, threeCaption, msgOnNotSelected,\r\n           initFromDate, initToDate, msgOnNotValidFormat, onTestDate,\r\n           isChartType\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels, isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             isShow={isShow}\r\n             caption={caption}\r\n             menuModel={this._menuMore}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n               isShow={isToolbar}\r\n               buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n\r\n             <D.SelectOneTwo\r\n                 ref={this._refTwoThree}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={twoURI}\r\n                 oneCaption={twoCaption}\r\n                 oneJsonProp={twoJsonProp}\r\n                 twoCaption={threeCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={this._refDates}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               {\r\n                 isChartType &&\r\n                 <D.RowInputSelect\r\n                    isShowLabels={isShowLabels}\r\n                    caption=\"Chart Type:\"\r\n                    options={CHART_TYPE_OPTIONS}\r\n                    onSelect={this._handlerSelectChartType}\r\n                 />\r\n               }\r\n               <D.RowCheckBox\r\n                 initValue={false}\r\n                 caption=\"Add Seria with Second YAxis\"\r\n                 onCheck={this._hCheckSecondYAxis}\r\n                 onUnCheck={this._hUnCheckSecondYAxis}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType5\r\n"],"file":"DialogType5.js"}