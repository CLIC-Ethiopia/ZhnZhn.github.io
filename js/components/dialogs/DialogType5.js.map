{"version":3,"sources":["../../../src/components/dialogs/DialogType5.jsx"],"names":["HAS_SECOND_Y_AXIS","CHART_TYPE_OPTIONS","caption","value","AREA","SCATTER_UP","SCATTER_DOWN","DialogType5","withToolbar","withValidationLoad","props","_handleClickOptions","setState","isShowOptions","state","_handleSelectOne","one","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","oneCaption","msg","push","msgOnNotSelected","parentChild","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","two","parent","three","child","fromDate","toDate","seriaType","chartType","undefined","loadFn","hasSecondYAxis","_handleClose","_handleWithValidationClose","_handleMode","propName","_handlerSelectChartType","item","toolbarButtons","_createType2WithToolbar","title","onClick","_commandButtons","isShowLabels","isShowDate","validationMessages","nextProps","nextState","isShow","onShow","onFront","oneURI","oneJsonProp","twoCaption","twoURI","twoJsonProp","threeCaption","initFromDate","initToDate","nForecastDate","msgOnNotValidFormat","onTestDate","isChartType","c","bind"],"mappings":"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","file":"DialogType5.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { ChartType } from '../../constants/Type';\r\n\r\nimport D from './DialogCell'\r\nimport Decor from './decorators/Decorators'\r\n\r\nconst HAS_SECOND_Y_AXIS = 'hasSecondYAxis';\r\n\r\nconst CHART_TYPE_OPTIONS = [\r\n  { caption : 'Default: Area', value: ChartType.AREA },\r\n  { caption : 'Scatter: Label Up', value: ChartType.SCATTER_UP },\r\n  { caption : 'Scatter: Label Down', value: ChartType.SCATTER_DOWN }\r\n];\r\n\r\n\r\n@Decor.withToolbar\r\n@Decor.withValidationLoad\r\nclass  DialogType5 extends Component {\r\n\r\n  constructor(props){\r\n    super()\r\n    this.toolbarButtons = this._createType2WithToolbar(props)\r\n    this.toolbarButtons.push({\r\n      caption: 'O', title: 'Toggle Options Input',\r\n      onClick: this._handleClickOptions\r\n    })\r\n    this._commandButtons = [\r\n      <D.Button.Load onClick={this._handleLoad} />\r\n    ]\r\n    this.state = {\r\n      isShowLabels: true,\r\n      isShowDate : false,\r\n      isShowOptions: false,\r\n      validationMessages: []\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleClickOptions = () => {\r\n    this.setState({ isShowOptions: !this.state.isShowOptions })\r\n  }\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     const { oneCaption } = this.props;\r\n     let msg = [];\r\n\r\n     if (!this.one)    { msg.push(this.props.msgOnNotSelected(oneCaption));}\r\n\r\n     const { isValid:isValid1, msg:msg1 } = this.parentChild.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { parent:two, child:three } = this.parentChild.getValues()\r\n        , { fromDate, toDate } = this.datesFragment.getValues()\r\n        , seriaType = this.chartType\r\n             ? this.chartType.value\r\n             : undefined;\r\n    return this.props.loadFn(\r\n      this.props, {\r\n      one : this.one, two, three, fromDate, toDate,\r\n      hasSecondYAxis: this[HAS_SECOND_Y_AXIS],\r\n      seriaType\r\n    });\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  _handlerSelectChartType = (item) => {\r\n    this.chartType = item\r\n  }\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp, threeCaption, msgOnNotSelected,\r\n           initFromDate, initToDate, nForecastDate, msgOnNotValidFormat, onTestDate,\r\n           isChartType\r\n          } = this.props\r\n        , {\r\n            isShowLabels, isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             caption={caption}\r\n             isShow={isShow}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.ToolbarButtonCircle\r\n                buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               optionNames=\"Items\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n\r\n             <D.SelectParentChild\r\n                 ref={c => this.parentChild = c}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={twoURI}\r\n                 parentCaption={twoCaption}\r\n                 parentOptionNames=\"Items\"\r\n                 parentJsonProp={twoJsonProp}\r\n                 childCaption={threeCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={c => this.datesFragment = c}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 nForecastDate={nForecastDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               {\r\n                 isChartType &&\r\n                 <D.RowInputSelect\r\n                    isShowLabels={isShowLabels}\r\n                    caption=\"Chart Type:\"\r\n                    options={CHART_TYPE_OPTIONS}\r\n                    onSelect={this._handlerSelectChartType}\r\n                 />\r\n               }\r\n               <D.RowCheckBox\r\n                 initValue={false}\r\n                 caption=\"Add Seria with Second YAxis\"\r\n                 onCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, true)}\r\n                 onUnCheck={this._handleMode.bind(null, HAS_SECOND_Y_AXIS, false)}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType5\r\n"]}