{"version":3,"sources":["../../../../src/components/dialogs/decorators/withToolbar.js"],"names":["C","BT_I","M","BT_C","BT_T","BT_L","M_T","PN","BT_D","BT_O","BT_TO","_isFn","fn","_addBtTo","arr","CONF","onClick","push","caption","title","_addToggleBt","inst","buttons","key","_toggle","_toggleStateByWithToggle","bind","_addShowHideBt","_set","_setStateByWithSet","_hidePn","_showPn","_createType2WithToolbar","props","noDate","noLabels","isOptions","isToggle","isToggleOptions","onClickInfo","_clickInfoWithToolbar","dialogOptions","_toggleOptionWithToolbar","_toggleWithToolbar","setState","prevState","isToolbar","descrUrl","propName","withToolbar","target","Object","assign","prototype"],"mappings":";;;;;;;AACA;;AACA;;AAEA,IAAMA,CAAC,GAAG;AACRC,EAAAA,IAAI,EAAE;AACHC,IAAAA,CAAC,EAAE,uBADA;AAEHC,IAAAA,IAAI,EAAE,GAFH;AAGHC,IAAAA,IAAI,EAAE;AAHH,GADE;AAMRC,EAAAA,IAAI,EAAE;AACJC,IAAAA,GAAG,EAAE,wBADD;AAEJC,IAAAA,EAAE,EAAE,cAFA;AAGJJ,IAAAA,IAAI,EAAE,GAHF;AAIJC,IAAAA,IAAI,EAAE;AAJF,GANE;AAYRI,EAAAA,IAAI,EAAE;AACJF,IAAAA,GAAG,EAAE,uBADD;AAEJC,IAAAA,EAAE,EAAE,YAFA;AAGJJ,IAAAA,IAAI,EAAE,GAHF;AAIJC,IAAAA,IAAI,EAAE;AAJF,GAZE;AAkBRK,EAAAA,IAAI,EAAE;AACJP,IAAAA,CAAC,EAAE,SADC;AAEJK,IAAAA,EAAE,EAAE,WAFA;AAGJJ,IAAAA,IAAI,EAAE,GAHF;AAIJC,IAAAA,IAAI,EAAE;AAJF,GAlBE;AAwBRA,EAAAA,IAAI,EAAE;AACJF,IAAAA,CAAC,EAAE,QADC;AAEJK,IAAAA,EAAE,EAAE,UAFA;AAGJJ,IAAAA,IAAI,EAAE,GAHF;AAIJC,IAAAA,IAAI,EAAE;AAJF,GAxBE;AA8BRM,EAAAA,KAAK,EAAE;AACLJ,IAAAA,GAAG,EAAE,0BADA;AAELC,IAAAA,EAAE,EAAE,iBAFC;AAGLJ,IAAAA,IAAI,EAAE,GAHD;AAILC,IAAAA,IAAI,EAAE;AAJD;AA9BC,CAAV;;AAsCA,IAAMO,KAAK,GAAG,SAARA,KAAQ,CAAAC,EAAE;AAAA,SAAI,OAAOA,EAAP,KAAc,UAAlB;AAAA,CAAhB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,OAAZ,EAAwB;AACvCF,EAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,IAAAA,OAAO,EAAEH,IAAI,CAACZ,IADP;AAEPgB,IAAAA,KAAK,EAAEJ,IAAI,CAACX,IAFL;AAGPY,IAAAA,OAAO,EAAPA;AAHO,GAAT;AAKD,CAND;;AAQA,IAAMI,YAAY,GAAG,SAAfA,YAAe,OAA4B;AAAA,MAAzBC,IAAyB,QAAzBA,IAAyB;AAAA,MAAnBC,OAAmB,QAAnBA,OAAmB;AAAA,MAAVC,GAAU,QAAVA,GAAU;AAC/C,MAAMC,OAAO,GAAGH,IAAI,CAACI,wBAArB;AAAA,MACEV,IAAI,GAAGf,CAAC,CAACuB,GAAD,CADV;AAEAF,EAAAA,IAAI,CAACN,IAAI,CAACT,GAAN,CAAJ,GAAiBkB,OAAO,CAACE,IAAR,CAAaL,IAAb,EAAmBN,IAAI,CAACR,EAAxB,CAAjB;;AACAM,EAAAA,QAAQ,CAACS,OAAD,EAAUP,IAAV,EAAgBM,IAAI,CAACN,IAAI,CAACT,GAAN,CAApB,CAAR;AACD,CALD;;AAOA,IAAMqB,cAAc,GAAG,SAAjBA,cAAiB,QAA4B;AAAA,MAAzBN,IAAyB,SAAzBA,IAAyB;AAAA,MAAnBC,OAAmB,SAAnBA,OAAmB;AAAA,MAAVC,GAAU,SAAVA,GAAU;;AACjD,MAAMK,IAAI,GAAGP,IAAI,CAACQ,kBAAlB;AAAA,MACEd,IAAI,GAAGf,CAAC,CAACuB,GAAD,CADV;AAAA,MAEEO,OAAO,aAAWf,IAAI,CAACb,CAAhB,gBAFT;AAAA,MAGE6B,OAAO,aAAWhB,IAAI,CAACb,CAAhB,gBAHT;;AAIAmB,EAAAA,IAAI,CAACS,OAAD,CAAJ,GAAgBF,IAAI,CAACF,IAAL,CAAUL,IAAV,EAAgBN,IAAI,CAACR,EAArB,EAAyB,KAAzB,CAAhB;AACAc,EAAAA,IAAI,CAACU,OAAD,CAAJ,GAAgBH,IAAI,CAACF,IAAL,CAAUL,IAAV,EAAgBN,IAAI,CAACR,EAArB,EAAyB,IAAzB,CAAhB;;AACAM,EAAAA,QAAQ,CAACS,OAAD,EAAUP,IAAV,EAAgBM,IAAI,CAACU,OAAD,CAApB,CAAR;AACD,CARD;;AAUA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAC9BC,KAD8B,SAE/B;AAAA,iCADqE,EACrE;AAAA,MADUC,MACV,SADUA,MACV;AAAA,MADkBC,QAClB,SADkBA,QAClB;AAAA,MAD4BC,SAC5B,SAD4BA,SAC5B;AAAA,MADuCC,QACvC,SADuCA,QACvC;AAAA,MADiDC,eACjD,SADiDA,eACjD;;AACC,MAAMhB,OAAO,GAAG,EAAhB;;AAEA,MAAKX,KAAK,CAACsB,KAAK,CAACM,WAAP,CAAV,EAAgC;AAC9B1B,IAAAA,QAAQ,CAACS,OAAD,EAAUtB,CAAC,CAACC,IAAZ,EACL,KAAKuC,qBAAL,CAA2Bd,IAA3B,CAAgC,IAAhC,CADK,CAAR;AAGD;;AACD,MAAI,CAACS,QAAL,EAAe;AACbf,IAAAA,YAAY,CAAC;AAAEC,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,OAAO,EAAPA,OAAd;AAAuBC,MAAAA,GAAG,EAAE;AAA5B,KAAD,CAAZ;AACD;;AACD,MAAI,CAACU,KAAK,CAACC,MAAP,IAAiB,CAACA,MAAtB,EAA8B;AAC5Bd,IAAAA,YAAY,CAAC;AAAEC,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,OAAO,EAAPA,OAAd;AAAuBC,MAAAA,GAAG,EAAE;AAA5B,KAAD,CAAZ;AACD;;AACD,MAAIa,SAAJ,EAAc;AACZT,IAAAA,cAAc,CAAC;AAAEN,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,OAAO,EAAPA,OAAd;AAAuBC,MAAAA,GAAG,EAAE;AAA5B,KAAD,CAAd;;AACA,SAAKkB,aAAL,GAAqB,EAArB;AACA,SAAKC,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BhB,IAA9B,CAAmC,IAAnC,CAAhC;AACD;;AACD,MAAIW,QAAJ,EAAa;AACXV,IAAAA,cAAc,CAAC;AAAEN,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,OAAO,EAAPA,OAAd;AAAuBC,MAAAA,GAAG,EAAE;AAA5B,KAAD,CAAd;AACD;;AACD,MAAIe,eAAJ,EAAqB;AACnBlB,IAAAA,YAAY,CAAC;AAAEC,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,OAAO,EAAPA,OAAd;AAAuBC,MAAAA,GAAG,EAAE;AAA5B,KAAD,CAAZ;AACD;;AAED,SAAOD,OAAP;AACD,CA7BD;;AA+BA,IAAMqB,kBAAkB,GAAG,SAArBA,kBAAqB,GAAU;AACnC,OAAKC,QAAL,CAAc,UAAAC,SAAS;AAAA,WAAK;AAC1BC,MAAAA,SAAS,EAAE,CAACD,SAAS,CAACC;AADI,KAAL;AAAA,GAAvB;AAGD,CAJD;;AAMA,IAAMN,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAU;AAAA,oBACJ,KAAKP,KADD;AAAA,MAC9Bc,QAD8B,eAC9BA,QAD8B;AAAA,MACpBR,WADoB,eACpBA,WADoB;AAEtCA,EAAAA,WAAW,CAAC;AAAEQ,IAAAA,QAAQ,EAARA;AAAF,GAAD,CAAX;AACD,CAHD;;AAKA,IAAML,wBAAwB,GAAG,SAA3BA,wBAA2B,CAASM,QAAT,EAAmB;AAClD,OAAKP,aAAL,CAAmBO,QAAnB,IAA+B,CAAC,KAAKP,aAAL,CAAmBO,QAAnB,CAAhC;AACD,CAFD;;AAIA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAAY;AAC9B,2BAAQA,MAAR;AACA,8BAAWA,MAAX;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcF,MAAM,CAACG,SAArB,EAAgC;AAC9BV,IAAAA,kBAAkB,EAAlBA,kBAD8B;AAE9BX,IAAAA,uBAAuB,EAAvBA,uBAF8B;AAG9BQ,IAAAA,qBAAqB,EAArBA,qBAH8B;AAI9BE,IAAAA,wBAAwB,EAAxBA;AAJ8B,GAAhC;AAMD,CATD;;eAWeO,W","sourcesContent":["\r\nimport withSet from './withSet'\r\nimport withToggle from './withToggle'\r\n\r\nconst C = {\r\n  BT_I: {\r\n     M: '_clickInfoWithToolbar',\r\n     BT_C: 'I',\r\n     BT_T: 'Click to show description about data source'\r\n  },\r\n  BT_L: {\r\n    M_T: '_clickLabelWithToolbar',\r\n    PN: 'isShowLabels',\r\n    BT_C: 'L',\r\n    BT_T: \"Click to toggle row's labels\"\r\n  },\r\n  BT_D: {\r\n    M_T: '_clickDateWithToolbar',\r\n    PN: 'isShowDate',\r\n    BT_C: 'D',\r\n    BT_T: \"Click to toggle date input\"\r\n  },\r\n  BT_O: {\r\n    M: 'Options',\r\n    PN: 'isOptions',\r\n    BT_C: 'O',\r\n    BT_T: 'Click to show options'\r\n  },\r\n  BT_T: {\r\n    M: 'Toggle',\r\n    PN: 'isToggle',\r\n    BT_C: 'T',\r\n    BT_T: 'Click to show toggle options'\r\n  },\r\n  BT_TO: {\r\n    M_T: '_toggleOptionWithToolbar',\r\n    PN: 'isToggleOptions',\r\n    BT_C: 'O',\r\n    BT_T: \"Click to toggle dialog's options\"\r\n  }\r\n};\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _addBtTo = (arr, CONF, onClick) => {\r\n  arr.push({\r\n    caption: CONF.BT_C,\r\n    title: CONF.BT_T,\r\n    onClick\r\n  })\r\n};\r\n\r\nconst _addToggleBt = ({ inst, buttons, key }) => {\r\n  const _toggle = inst._toggleStateByWithToggle\r\n  , CONF = C[key];\r\n  inst[CONF.M_T] = _toggle.bind(inst, CONF.PN)\r\n  _addBtTo(buttons, CONF, inst[CONF.M_T])\r\n};\r\n\r\nconst _addShowHideBt = ({ inst, buttons, key }) => {\r\n  const _set = inst._setStateByWithSet\r\n  , CONF = C[key]\r\n  , _hidePn = `_hide${CONF.M}WithToolbar`\r\n  , _showPn = `_show${CONF.M}WithToolbar`;\r\n  inst[_hidePn] = _set.bind(inst, CONF.PN, false)\r\n  inst[_showPn] = _set.bind(inst, CONF.PN, true)\r\n  _addBtTo(buttons, CONF, inst[_showPn])\r\n};\r\n\r\nconst _createType2WithToolbar = function(\r\n  props, { noDate, noLabels, isOptions, isToggle, isToggleOptions } = {}\r\n){\r\n  const buttons = [];\r\n\r\n  if ( _isFn(props.onClickInfo) ) {\r\n    _addBtTo(buttons, C.BT_I,\r\n       this._clickInfoWithToolbar.bind(this)\r\n     )\r\n  }\r\n  if (!noLabels) {\r\n    _addToggleBt({ inst: this, buttons, key: 'BT_L' })\r\n  }\r\n  if (!props.noDate && !noDate) {\r\n    _addToggleBt({ inst: this, buttons, key: 'BT_D' })\r\n  }\r\n  if (isOptions){\r\n    _addShowHideBt({ inst: this, buttons, key: 'BT_O'})\r\n    this.dialogOptions = {}\r\n    this._toggleOptionWithToolbar = this._toggleOptionWithToolbar.bind(this)\r\n  }\r\n  if (isToggle){\r\n    _addShowHideBt({ inst: this, buttons, key: 'BT_T'})\r\n  }\r\n  if (isToggleOptions) {\r\n    _addToggleBt({ inst: this, buttons, key: 'BT_TO' })\r\n  }\r\n\r\n  return buttons;\r\n}\r\n\r\nconst _toggleWithToolbar = function(){\r\n  this.setState(prevState => ({\r\n    isToolbar: !prevState.isToolbar\r\n  }))\r\n}\r\n\r\nconst _clickInfoWithToolbar = function(){\r\n  const { descrUrl, onClickInfo } = this.props;\r\n  onClickInfo({ descrUrl })\r\n}\r\n\r\nconst _toggleOptionWithToolbar = function(propName) {\r\n  this.dialogOptions[propName] = !this.dialogOptions[propName]\r\n}\r\n\r\nconst withToolbar = (target) => {\r\n  withSet(target)\r\n  withToggle(target)\r\n  Object.assign(target.prototype, {\r\n    _toggleWithToolbar,\r\n    _createType2WithToolbar,\r\n    _clickInfoWithToolbar,\r\n    _toggleOptionWithToolbar\r\n  })\r\n}\r\n\r\nexport default withToolbar\r\n"],"file":"withToolbar.js"}