{"version":3,"sources":["../../../src/components/zhn-search/SearchOptions.jsx"],"names":["CL","ROOT","OPTIONS","ITEM","FOOTER","S","HIDE","display","width","BOLD","fontWeight","height","color","paddingLeft","paddingTop","paddingBottom","BoldSpan","text","Delimeter","Span","Item","item","onClick","onFocus","value","name","type","region","currency","SearchOptions","isShow","options","onClickItem","refRecentItem","itemIndex","setItemIndex","_onFocusItem","index","event","current","target","focus","_style","_total","length","map","bind"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\n\r\nconst CL = {\r\n  ROOT: 'zhn-search__options',\r\n  OPTIONS: 'zhn-search__options__div',\r\n  ITEM: 'zhn-search__row',\r\n  FOOTER: 'zhn-search__footer'\r\n};\r\n\r\nconst S = {\r\n  HIDE: {\r\n    display: 'none'\r\n  },\r\n  OPTIONS: {\r\n    width: 250\r\n  },\r\n  BOLD: {\r\n    fontWeight: 'bold'\r\n  },\r\n  FOOTER: {\r\n    width: 250,\r\n    height: 32,\r\n    color: 'gray',\r\n    fontWeight: 'bold',\r\n    paddingLeft: 10,\r\n    paddingTop: 4,\r\n    paddingBottom: 4\r\n  }\r\n};\r\n\r\nconst BoldSpan = ({ text='' }) => <span style={S.BOLD}>{text}</span>;\r\nconst Delimeter = () => <span>{` - `}</span>;\r\nconst Span = ({ text='' }) => <span>{text}</span>;\r\n\r\nconst Item = ({ item, onClick, onFocus }) => {\r\n  const { value, name, type, region, currency } = item;\r\n  return(\r\n  <button\r\n    className={CL.ITEM}\r\n    onClick={onClick}\r\n    onFocus={onFocus}\r\n  >\r\n    <BoldSpan text={value} />\r\n    <Delimeter />\r\n    <Span text={name} />\r\n    <Delimeter />\r\n    <BoldSpan text={type} />\r\n    <Delimeter />\r\n    <Span text={region} />\r\n    <Delimeter />\r\n    <BoldSpan text={currency} />\r\n  </button>\r\n  );\r\n}\r\n\r\nconst SearchOptions = ({ isShow, options, onClickItem }) => {\r\n  const refRecentItem = useRef();\r\n  const [itemIndex, setItemIndex] = useState('');\r\n\r\n  const _onFocusItem = (index, event) => {\r\n    refRecentItem.current = event.target\r\n    setItemIndex(index)\r\n  }\r\n  useEffect(()=>{\r\n    refRecentItem.current = null\r\n    setItemIndex('')\r\n  }, [options])\r\n  useEffect(()=>{\r\n    if (isShow && refRecentItem.current) {\r\n      refRecentItem.current.focus()\r\n    }\r\n  }, [isShow])\r\n\r\n  const _style = isShow ? null : S.HIDE\r\n  const _total = options.length || '';\r\n\r\n  return (\r\n    <div\r\n      className={CL.ROOT}\r\n      style={{ ...S.OPTIONS, ..._style }}\r\n    >\r\n      <div className={CL.OPTIONS} style={S.OPTIONS}>\r\n        {options.map((item, index) => (\r\n          <Item\r\n            key={item.value+index}\r\n            item={item}\r\n            onClick={onClickItem.bind(null, item.value)}\r\n            onFocus={_onFocusItem.bind(null, index+1)}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className={CL.FOOTER} style={S.FOOTER}>\r\n        <span>{itemIndex}:</span>\r\n        <span>{_total}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchOptions\r\n"],"file":"SearchOptions.js"}