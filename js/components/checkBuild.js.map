{"version":3,"sources":["../../src/components/checkBuild.js"],"names":["checkBuild","BUILD_DATE","reload","window","fetch","cache","then","res","ok","json","Error","status","build","document","cookie","indexOf","buildDate","err","console","log","message"],"mappings":";;;;;AACA,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,UAAD,EAAaC,MAAb,EAAwB;AACzC,MAAIC,MAAM,CAACC,KAAX,EAAkB;AAChBA,IAAAA,KAAK,CAAC,mBAAD,EAAsB;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAtB,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG,EAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACV,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,OAFD,MAEO;AACL,cAAM,IAAIC,KAAJ,4BAAmCH,GAAG,CAACI,MAAvC,CAAN;AACD;AACF,KAPH,EAQGL,IARH,CAQQ,UAAAG,IAAI,EAAI;AAAA,wBACSA,IADT,CACJG,KADI;AAAA,UACJA,KADI,4BACE,EADF;;AAEZ,UAAIA,KAAK,KAAKX,UAAV,IAAwBY,QAAQ,CAACC,MAAT,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAAhE,EAAmE;AACjEb,QAAAA,MAAM,CAAC;AAAEc,UAAAA,SAAS,EAAEf;AAAb,SAAD,CAAN;AACD;AACF,KAbH,WAcS,UAAAgB,GAAG,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACD,KAhBH;AAiBD;AACF,CApBD;;eAsBepB,U","sourcesContent":["\r\nconst checkBuild = (BUILD_DATE, reload) => {\r\n  if (window.fetch) {\r\n    fetch('./data/build.json', {cache: \"no-cache\"})\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error(`Check build: Response ${res.status}`);\r\n        }\r\n      })\r\n      .then(json => {\r\n        const { build='' } = json;\r\n        if (build !== BUILD_DATE && document.cookie.indexOf('erc') === -1) {\r\n          reload({ buildDate: BUILD_DATE })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err.message)\r\n      })\r\n  }\r\n};\r\n\r\nexport default checkBuild\r\n"],"file":"checkBuild.js"}