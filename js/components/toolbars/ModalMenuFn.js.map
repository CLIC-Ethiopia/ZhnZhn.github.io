{"version":3,"sources":["../../../src/components/toolbars/ModalMenuFn.jsx"],"names":["mlsToDmy","dt","_isFn","fn","_isMinMax","config","yAxis","plotLines","length","EPOCH_DMY","_isZoom","getChart","chart","zhGetFromToDates","format","from","to","ModalMenuFn","style","isShow","onClose","onX2H","onMinMax","onZoom","onCopy","onPasteTo","STYLE","ROOT","PANE"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;AAEA;;IAEQA,Q,GAAaC,qB,CAAbD,Q;;AAER,IAAME,KAAK,GAAG,SAARA,KAAQ,CAAAC,EAAE;AAAA,SAAI,OAAOA,EAAP,KAAc,UAAlB;AAAA,CAAhB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,MAAM;AAAA,SAAIA,MAAM,CAACC,KAAP,IACxBD,MAAM,CAACC,KAAP,CAAaC,SADW,IAExBF,MAAM,CAACC,KAAP,CAAaC,SAAb,CAAuBC,MAAvB,GAAgC,CAFR,GAGvB,IAHuB,GAIvB,KAJmB;AAAA,CAAxB;;AAMA,IAAMC,SAAS,GAAG,YAAlB;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD,EAAc;AAC5B,MAAI,CAACT,KAAK,CAACS,QAAD,CAAV,EAAsB;AACpB,WAAO,KAAP;AACD;;AACD,MAAMC,KAAK,GAAGD,QAAQ,EAAtB;;AACA,MAAI,CAACC,KAAD,IAAU,CAACV,KAAK,CAACU,KAAK,CAACC,gBAAP,CAApB,EAA8C;AAC5C,WAAO,KAAP;AACD;;AAP2B,8BAQPD,KAAK,CAACC,gBAAN,CAAuB;AAC1CC,IAAAA,MAAM,EAAEd;AADkC,GAAvB,CARO;AAAA,MAQpBe,IARoB,yBAQpBA,IARoB;AAAA,MAQdC,EARc,yBAQdA,EARc;;AAW5B,SAAQD,IAAI,KAAKC,EAAV,IAAiBA,EAAE,KAAKP,SAAxB,GACH,KADG,GAEH,IAFJ;AAGD,CAdD;;AAiBA,IAAMQ,WAAW,GAAG,SAAdA,WAAc;AAAA,MAClBC,KADkB,QAClBA,KADkB;AAAA,MACXC,MADW,QACXA,MADW;AAAA,MACHC,OADG,QACHA,OADG;AAAA,MAElBf,MAFkB,QAElBA,MAFkB;AAAA,MAGlBM,QAHkB,QAGlBA,QAHkB;AAAA,MAIlBU,KAJkB,QAIlBA,KAJkB;AAAA,MAIXC,QAJW,QAIXA,QAJW;AAAA,MAIDC,MAJC,QAIDA,MAJC;AAAA,MAKlBC,MALkB,QAKlBA,MALkB;AAAA,MAKVC,SALU,QAKVA,SALU;AAAA,SAOlB,gCAAC,sBAAD;AACE,IAAA,MAAM,EAAEN,MADV;AAEE,IAAA,KAAK,gCAAOO,sBAAMC,IAAb,MAAsBT,KAAtB,CAFP;AAGE,IAAA,OAAO,EAAEE;AAHX,KAKE;AAAK,IAAA,KAAK,EAAEM,sBAAME;AAAlB,KACE,gCAAC,uBAAD;AACE,IAAA,OAAO,EAAC,KADV;AAEE,IAAA,OAAO,EAAEP;AAFX,IADF,EAKIjB,SAAS,CAACC,MAAD,CAAT,IAAqB,gCAAC,uBAAD;AAClB,IAAA,OAAO,EAAC,QADU;AAElB,IAAA,eAAe,EAAE,IAFC;AAGlB,IAAA,OAAO,EAAEiB;AAHS,IALzB,EAWIZ,OAAO,CAACC,QAAD,CAAP,IAAqB,gCAAC,uBAAD;AACnB,IAAA,OAAO,EAAC,MADW;AAEnB,IAAA,WAAW,EAAE,IAFM;AAGnB,IAAA,OAAO,EAAEY,MAHU;AAInB,IAAA,OAAO,EAAEH;AAJU,IAXzB,EAkBE,gCAAC,uBAAD;AACE,IAAA,OAAO,EAAC,MADV;AAEE,IAAA,WAAW,EAAE,IAFf;AAGE,IAAA,OAAO,EAAEI,MAHX;AAIE,IAAA,OAAO,EAAEJ;AAJX,IAlBF,EAwBE,gCAAC,uBAAD;AACE,IAAA,OAAO,EAAC,SADV;AAEE,IAAA,WAAW,EAAE,IAFf;AAGE,IAAA,OAAO,EAAEK,SAHX;AAIE,IAAA,OAAO,EAAEL;AAJX,IAxBF,CALF,CAPkB;AAAA,CAApB;;eA8CeH,W","sourcesContent":["import React from 'react'\r\n\r\nimport dt from '../../utils/DateUtils'\r\n\r\nimport ModalPopup from '../zhn-moleculs/ModalPopup'\r\nimport SubMenuItem from './SubMenuItem'\r\n\r\nimport STYLE from './ModalMenu.Style'\r\n\r\nconst { mlsToDmy } = dt;\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _isMinMax = config => config.yAxis\r\n && config.yAxis.plotLines\r\n && config.yAxis.plotLines.length > 0\r\n   ? true\r\n   : false;\r\n\r\nconst EPOCH_DMY = '01-01-1970';\r\nconst _isZoom = (getChart) => {\r\n  if (!_isFn(getChart)) {\r\n    return false;\r\n  }\r\n  const chart = getChart();\r\n  if (!chart || !_isFn(chart.zhGetFromToDates)) {\r\n    return false;\r\n  }\r\n  const { from, to } = chart.zhGetFromToDates({\r\n    format: mlsToDmy\r\n  });\r\n  return (from === to) && to === EPOCH_DMY\r\n    ? false\r\n    : true;\r\n};\r\n\r\n\r\nconst ModalMenuFn = ({\r\n  style, isShow, onClose,\r\n  config,\r\n  getChart,\r\n  onX2H, onMinMax, onZoom,\r\n  onCopy, onPasteTo\r\n}) => (\r\n  <ModalPopup\r\n    isShow={isShow}\r\n    style={{ ...STYLE.ROOT, ...style}}\r\n    onClose={onClose}\r\n  >\r\n    <div style={STYLE.PANE}>\r\n      <SubMenuItem\r\n        caption=\"x2H\"\r\n        onClick={onX2H}\r\n      />\r\n      { _isMinMax(config) && <SubMenuItem\r\n           caption=\"MinMax\"\r\n           initialIsActive={true}\r\n           onClick={onMinMax}\r\n         />\r\n      }\r\n      { _isZoom(getChart) && <SubMenuItem\r\n          caption=\"Zoom\"\r\n          isNotActive={true}\r\n          onClick={onZoom}\r\n          onClose={onClose}\r\n        />\r\n      }\r\n      <SubMenuItem\r\n        caption=\"Copy\"\r\n        isNotActive={true}\r\n        onClick={onCopy}\r\n        onClose={onClose}\r\n      />\r\n      <SubMenuItem\r\n        caption=\"PasteTo\"\r\n        isNotActive={true}\r\n        onClick={onPasteTo}\r\n        onClose={onClose}\r\n      />\r\n    </div>\r\n  </ModalPopup>\r\n);\r\n\r\nexport default ModalMenuFn\r\n"],"file":"ModalMenuFn.js"}