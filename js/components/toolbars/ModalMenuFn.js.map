{"version":3,"sources":["../../../src/components/toolbars/ModalMenuFn.jsx"],"names":["_isFn","fn","_isMinMax","config","yAxis","plotLines","length","EPOCH_DMY","_isZoom","getChart","chart","zhGetFromToDates","from","to","format","mlsToDmy","ModalMenuFn","style","isShow","onClose","onX2H","onMinMax","onZoom","onCopy","onPasteTo","S_MODAL_MENU","S_MODAL_MENU_PANE"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AAEA;;;;AAKA,MAAMA,KAAK,GAAGC,EAAE,IAAI,OAAOA,EAAP,KAAc,UAAlC;;AAEA,MAAMC,SAAS,GAAGC,MAAM,IAAI;AAC1B,QAAM;AAAEC,IAAAA;AAAF,MAAYD,MAAlB;AAAA,QACE;AAAEE,IAAAA;AAAF,MAAgBD,KAAK,IAAI,EAD3B;AAEA,SAAO,CAACC,SAAS,IAAI,EAAd,EAAkBC,MAAlB,GAA2B,CAAlC;AACD,CAJD;;AAMA,MAAMC,SAAS,GAAG,YAAlB;;AACA,MAAMC,OAAO,GAAIC,QAAD,IAAc;AAC5B,MAAI,CAACT,KAAK,CAACS,QAAD,CAAV,EAAsB;AACpB,WAAO,KAAP;AACD;;AACD,QAAMC,KAAK,GAAGD,QAAQ,EAAtB;;AACA,MAAI,CAACC,KAAD,IAAU,CAACV,KAAK,CAACU,KAAK,CAACC,gBAAP,CAApB,EAA8C;AAC5C,WAAO,KAAP;AACD;;AACD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAeH,KAAK,CAACC,gBAAN,CAAuB;AAC1CG,IAAAA,MAAM,EAAEC;AADkC,GAAvB,CAArB;AAGA,SAAQH,IAAI,KAAKC,EAAV,IAAiBA,EAAE,KAAKN,SAAxB,GACH,KADG,GAEH,IAFJ;AAGD,CAdD;;AAgBA,MAAMS,WAAW,GAAG;AAAA,MAAC;AACnBC,IAAAA,KADmB;AAEnBC,IAAAA,MAFmB;AAGnBC,IAAAA,OAHmB;AAInBhB,IAAAA,MAJmB;AAKnBM,IAAAA,QALmB;AAMnBW,IAAAA,KANmB;AAOnBC,IAAAA,QAPmB;AAQnBC,IAAAA,MARmB;AASnBC,IAAAA,MATmB;AAUnBC,IAAAA;AAVmB,GAAD;AAAA,sBAYlB,qBAAC,mBAAD;AACE,IAAA,MAAM,EAAEN,MADV;AAEE,IAAA,KAAK,EAAE,EAAC,GAAGO,uBAAJ;AAAkB,SAAGR;AAArB,KAFT;AAGE,IAAA,OAAO,EAAEE,OAHX;AAAA,2BAKE;AAAK,MAAA,KAAK,EAAEO,4BAAZ;AAAA,8BACE,qBAAC,oBAAD;AACE,QAAA,OAAO,EAAC,KADV;AAEE,QAAA,OAAO,EAAEN;AAFX,QADF,EAKIlB,SAAS,CAACC,MAAD,CAAT,iBAAqB,qBAAC,oBAAD;AAClB,QAAA,OAAO,EAAC,QADU;AAElB,QAAA,eAAe,EAAE,IAFC;AAGlB,QAAA,OAAO,EAAEkB;AAHS,QALzB,EAWIb,OAAO,CAACC,QAAD,CAAP,iBAAqB,qBAAC,oBAAD;AACnB,QAAA,OAAO,EAAC,MADW;AAEnB,QAAA,OAAO,EAAEa,MAFU;AAGnB,QAAA,OAAO,EAAEH;AAHU,QAXzB,eAiBE,qBAAC,oBAAD;AACE,QAAA,OAAO,EAAC,MADV;AAEE,QAAA,OAAO,EAAEI,MAFX;AAGE,QAAA,OAAO,EAAEJ;AAHX,QAjBF,eAsBE,qBAAC,oBAAD;AACE,QAAA,OAAO,EAAC,SADV;AAEE,QAAA,OAAO,EAAEK,SAFX;AAGE,QAAA,OAAO,EAAEL;AAHX,QAtBF;AAAA;AALF,IAZkB;AAAA,CAApB;;eAgDeH,W","sourcesContent":["import { mlsToDmy } from '../../utils/DateUtils';\r\n\r\nimport ModalPopup from '../zhn-moleculs/ModalPopup'\r\nimport SubMenuItem from './SubMenuItem'\r\n\r\nimport {\r\n  S_MODAL_MENU,\r\n  S_MODAL_MENU_PANE\r\n} from './ModalMenu.Style'\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _isMinMax = config => {\r\n  const { yAxis } = config\r\n  , { plotLines } = yAxis || {}\r\n  return (plotLines || {}).length > 0;\r\n};\r\n\r\nconst EPOCH_DMY = '01-01-1970';\r\nconst _isZoom = (getChart) => {\r\n  if (!_isFn(getChart)) {\r\n    return false;\r\n  }\r\n  const chart = getChart();\r\n  if (!chart || !_isFn(chart.zhGetFromToDates)) {\r\n    return false;\r\n  }\r\n  const { from, to } = chart.zhGetFromToDates({\r\n    format: mlsToDmy\r\n  });\r\n  return (from === to) && to === EPOCH_DMY\r\n    ? false\r\n    : true;\r\n};\r\n\r\nconst ModalMenuFn = ({\r\n  style,\r\n  isShow,\r\n  onClose,\r\n  config,\r\n  getChart,\r\n  onX2H,\r\n  onMinMax,\r\n  onZoom,\r\n  onCopy,\r\n  onPasteTo\r\n}) => (\r\n  <ModalPopup\r\n    isShow={isShow}\r\n    style={{...S_MODAL_MENU, ...style}}\r\n    onClose={onClose}\r\n  >\r\n    <div style={S_MODAL_MENU_PANE}>\r\n      <SubMenuItem\r\n        caption=\"x2H\"\r\n        onClick={onX2H}\r\n      />\r\n      { _isMinMax(config) && <SubMenuItem\r\n           caption=\"MinMax\"\r\n           initialIsActive={true}\r\n           onClick={onMinMax}\r\n         />\r\n      }\r\n      { _isZoom(getChart) && <SubMenuItem\r\n          caption=\"Zoom\"\r\n          onClick={onZoom}\r\n          onClose={onClose}\r\n        />\r\n      }\r\n      <SubMenuItem\r\n        caption=\"Copy\"\r\n        onClick={onCopy}\r\n        onClose={onClose}\r\n      />\r\n      <SubMenuItem\r\n        caption=\"PasteTo\"\r\n        onClick={onPasteTo}\r\n        onClose={onClose}\r\n      />\r\n    </div>\r\n  </ModalPopup>\r\n);\r\n\r\nexport default ModalMenuFn\r\n"],"file":"ModalMenuFn.js"}