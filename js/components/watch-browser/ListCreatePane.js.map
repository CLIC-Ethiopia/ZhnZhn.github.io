{"version":3,"sources":["../../../src/components/watch-browser/ListCreatePane.jsx"],"names":["ListCreatePane","props","_onStore","actionType","data","actionCompleted","actionFailed","forActionType","store","_handleClear","setState","groupOptions","getWatchGroups","validationMessages","messages","_handleSelectGroup","item","captionGroup","caption","inputText","setValue","state","length","_handleCreate","onCreate","msgOnNotSelect","msgOnIsEmptyName","captionList","getValue","msg","push","_refInputText","c","_primaryBt","componentDidMount","unsubscribe","listen","componentWillUnmount","render","onClose","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport A from './Atoms'\r\n\r\nclass ListCreatePane extends Component {\r\n  /*\r\n  static propTypes = {\r\n    store: PropTypes.shape({\r\n      listen: PropTypes.func,\r\n      getWatchGroups: PropTypes.func\r\n    }),\r\n    actionCompleted: PropTypes.string,\r\n    actionFailed: PropTypes.string,\r\n    forActionType: PropTypes.string,\r\n    msgOnNotSelect: PropTypes.func,\r\n    msgOnIsEmptyName: PropTypes.func,\r\n    onCreate: PropTypes.func,\r\n    onClose: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super()\r\n    this.captionGroup = null\r\n    this._primaryBt = <A.Button.Primary\r\n       caption=\"Create\"\r\n       title=\"Create New List\"\r\n       onClick={this._handleCreate}\r\n    />\r\n    this.state = {\r\n      groupOptions: props.store.getWatchGroups(),\r\n      validationMessages: []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store\r\n      .listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType, data) => {\r\n    const { actionCompleted, actionFailed, forActionType, store } = this.props;\r\n    if (actionType === actionCompleted){\r\n        if (data.forActionType === forActionType){\r\n          this._handleClear()\r\n        }\r\n        this.setState({\r\n           groupOptions: store.getWatchGroups()\r\n        });\r\n    } else if (actionType === actionFailed && data.forActionType === forActionType){\r\n      this.setState({\r\n        validationMessages: data.messages\r\n      })\r\n    }\r\n  }\r\n\r\n  _handleSelectGroup = (item) => {\r\n    this.captionGroup = (item && item.caption) || null;\r\n  }\r\n\r\n  _handleClear = () => {\r\n     this.inputText.setValue('')\r\n     if (this.state.validationMessages.length>0){\r\n       this.setState({\r\n         validationMessages: []\r\n       })\r\n     }\r\n  }\r\n\r\n  _handleCreate = () => {\r\n     const { onCreate, msgOnNotSelect, msgOnIsEmptyName } = this.props\r\n         , captionList = this.inputText.getValue();\r\n     if (this.captionGroup && captionList){\r\n       onCreate({\r\n          captionGroup: this.captionGroup,\r\n          captionList: captionList\r\n       });\r\n     } else {\r\n       const msg = [];\r\n       if (!this.captionGroup) { msg.push(msgOnNotSelect('In Group')); }\r\n       if (!captionList)       { msg.push(msgOnIsEmptyName('List')); }\r\n       this.setState({\r\n         validationMessages: msg\r\n       });\r\n     }\r\n  }\r\n\r\n  _refInputText = c => this.inputText = c\r\n\r\n  render(){\r\n    const { onClose } = this.props\r\n        , { groupOptions, validationMessages } = this.state;\r\n    return (\r\n      <div>\r\n        <A.RowInputSelect\r\n           caption=\"In Group:\"\r\n           options={groupOptions}\r\n           onSelect={this._handleSelectGroup}\r\n        />\r\n        <A.RowInputText\r\n           ref={this._refInputText}\r\n           caption=\"List:\"\r\n        />\r\n        <A.ValidationMessages\r\n          validationMessages={validationMessages}\r\n        />\r\n        <A.RowButtons\r\n           Primary={this._primaryBt}\r\n           onClear={this._handleClear}\r\n           onClose={onClose}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ListCreatePane\r\n"],"file":"ListCreatePane.js"}