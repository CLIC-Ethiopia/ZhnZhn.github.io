{"version":3,"sources":["../../../src/components/watch-browser/ListDeletePane.jsx"],"names":["ListDeletePane","props","_onStore","actionType","data","actionCompleted","forActionType","store","_handleClear","setState","groupOptions","getWatchGroups","state","validationMessages","length","_handleDelete","onDelete","msgOnNotSelect","selectGroupList","getValue","captionGroup","captionList","msg","push","_primaryBt","unsubscribe","listen","onClose","c"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAGA;;;;;;IAEMA,c;;;AACJ;;;;;;;;;;;;;AAaA,0BAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAAA,UAmBlBC,QAnBkB,GAmBP,UAACC,UAAD,EAAaC,IAAb,EAAsB;AAAA,wBACmB,MAAKH,KADxB;AAAA,UACvBI,eADuB,eACvBA,eADuB;AAAA,UACNC,aADM,eACNA,aADM;AAAA,UACSC,KADT,eACSA,KADT;;AAE/B,UAAIJ,eAAeE,eAAnB,EAAmC;AAC/B,YAAID,KAAKE,aAAL,KAAuBA,aAA3B,EAA0C;AACxC,gBAAKE,YAAL;AACD;AACD,cAAKC,QAAL,CAAc,EAAEC,cAAeH,MAAMI,cAAN,EAAjB,EAAd;AACH;AACF,KA3BiB;;AAAA,UA6BlBH,YA7BkB,GA6BH,YAAM;AACnB,UAAI,MAAKI,KAAL,CAAWC,kBAAX,CAA8BC,MAA9B,GAAqC,CAAzC,EAA2C;AACzC,cAAKL,QAAL,CAAc,EAAEI,oBAAoB,EAAtB,EAAd;AACD;AACF,KAjCiB;;AAAA,UAmClBE,aAnCkB,GAmCF,YAAM;AAAA,yBACmB,MAAKd,KADxB;AAAA,UACVe,QADU,gBACVA,QADU;AAAA,UACAC,cADA,gBACAA,cADA;AAAA,kCAEoB,MAAKC,eAAL,CAAqBC,QAArB,EAFpB;AAAA,UAEVC,YAFU,yBAEVA,YAFU;AAAA,UAEIC,WAFJ,yBAEIA,WAFJ;;AAGlB,UAAID,gBAAgBC,WAApB,EAAgC;AAC9BL,iBAAS,EAAEI,0BAAF,EAAgBC,wBAAhB,EAAT;AACD,OAFD,MAEO;AACL,YAAMC,MAAM,EAAZ;AACA,YAAI,CAACF,YAAL,EAAmB;AAAEE,cAAIC,IAAJ,CAASN,eAAe,OAAf,CAAT;AAAmC;AACxD,YAAI,CAACI,WAAL,EAAmB;AAAEC,cAAIC,IAAJ,CAASN,eAAe,MAAf,CAAT;AAAmC;AACxD,cAAKR,QAAL,CAAc,EAAEI,oBAAoBS,GAAtB,EAAd;AACD;AACJ,KA9CiB;;AAEhB,UAAKE,UAAL,GAAkB,8CAAG,MAAH,CAAU,OAAV;AACG,eAAQ,QADX;AAEG,aAAM,aAFT;AAGG,eAAS,MAAKT;AAHjB,MAAlB;AAKA,UAAKH,KAAL,GAAa;AACXF,oBAAeT,MAAMM,KAAN,CAAYI,cAAZ,EADJ;AAEXE,0BAAqB;AAFV,KAAb;AAPgB;AAWjB;;;;wCAEkB;AACjB,WAAKY,WAAL,GAAmB,KAAKxB,KAAL,CAAWM,KAAX,CAAiBmB,MAAjB,CAAwB,KAAKxB,QAA7B,CAAnB;AACD;;;2CACqB;AACpB,WAAKuB,WAAL;AACD;;;6BA8BO;AAAA;;AAAA,mBACqB,KAAKxB,KAD1B;AAAA,UACEM,KADF,UACEA,KADF;AAAA,UACSoB,OADT,UACSA,OADT;AAAA,mBAEuC,KAAKf,KAF5C;AAAA,UAEEF,YAFF,UAEEA,YAFF;AAAA,UAEgBG,kBAFhB,UAEgBA,kBAFhB;;AAGN,aACE;AAAA;AAAA;AACG,sDAAG,uBAAH;AACE,eAAK;AAAA,mBAAK,OAAKK,eAAL,GAAuBU,CAA5B;AAAA,WADP;AAEE,iBAAOrB,KAFT;AAGE,wBAAa,WAHf;AAIE,wBAAcG,YAJhB;AAKE,uBAAY;AALd,UADH;AAQG,sDAAG,kBAAH;AACG,8BAAoBG;AADvB,UARH;AAWG,sDAAG,UAAH;AACE,mBAAS,KAAKW,UADhB;AAEE,mBAAS,KAAKhB,YAFhB;AAGE,mBAASmB;AAHX;AAXH,OADF;AAmBD;;;;AAxFH;;kBA2Fe3B,c","file":"ListDeletePane.js","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport A from './Atoms'\r\n\r\nclass ListDeletePane extends Component {\r\n  /*\r\n  static propTypes = {\r\n    store: PropTypes.shape({\r\n      listen: PropTypes.func,\r\n      getWatchGroups: PropTypes.func\r\n    }),\r\n    actionCompleted: PropTypes.string,\r\n    forActionType: PropTypes.string,\r\n    onRename: PropTypes.func,\r\n    onClose: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super()\r\n    this._primaryBt = <A.Button.Primary\r\n                         caption=\"Delete\"\r\n                         title=\"Delete List\"\r\n                         onClick={this._handleDelete}\r\n                      />\r\n    this.state = {\r\n      groupOptions : props.store.getWatchGroups(),\r\n      validationMessages : []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store.listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType, data) => {\r\n    const { actionCompleted, forActionType, store } = this.props;\r\n    if (actionType === actionCompleted){\r\n        if (data.forActionType === forActionType) {\r\n          this._handleClear()\r\n        }\r\n        this.setState({ groupOptions : store.getWatchGroups() })\r\n    }\r\n  }\r\n\r\n  _handleClear = () => {\r\n    if (this.state.validationMessages.length>0){\r\n      this.setState({ validationMessages: [] })\r\n    }\r\n  }\r\n\r\n  _handleDelete = () => {\r\n      const { onDelete, msgOnNotSelect } = this.props\r\n          , { captionGroup, captionList } = this.selectGroupList.getValue();\r\n      if (captionGroup && captionList){\r\n        onDelete({ captionGroup, captionList })\r\n      } else {\r\n        const msg = [];\r\n        if (!captionGroup) { msg.push(msgOnNotSelect('Group')) }\r\n        if (!captionList)  { msg.push(msgOnNotSelect('List'))  }\r\n        this.setState({ validationMessages: msg })\r\n      }\r\n  }\r\n\r\n  render(){\r\n    const { store, onClose } = this.props\r\n        , { groupOptions, validationMessages } = this.state;\r\n    return (\r\n      <div>\r\n         <A.FragmentSelectGroupList\r\n           ref={c => this.selectGroupList = c}\r\n           store={store}\r\n           groupCaption=\"In Group:\"\r\n           groupOptions={groupOptions}\r\n           listCaption=\"List:\"\r\n         />\r\n         <A.ValidationMessages\r\n            validationMessages={validationMessages}\r\n         />\r\n         <A.RowButtons\r\n           Primary={this._primaryBt}\r\n           onClear={this._handleClear}\r\n           onClose={onClose}\r\n         />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListDeletePane\r\n"]}