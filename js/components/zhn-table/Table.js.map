{"version":3,"sources":["../../../src/components/zhn-table/Table.jsx"],"names":["C","UP","DOWN","ASC","DESC","Table","props","_hToggleMenuMore","evt","stopPropagation","setState","prevState","isMenuMore","_hToogleGridLine","isGridLine","_hToggleColumn","index","headers","_index","isHide","_hSort","pn","rows","sortBy","sortTo","_compBy","F","compBy","S","TOKEN_NAN","_rows","_sortTo","sort","opCompBy","state","render","gridId","thMoreStyle","className","tableFn","_className","CL_GRID","WRAPPER_DIV","STYLE_MORE","TABLE","Component","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport ModalMenu from './ModalMenu'\r\nimport TableHead from './TableHead'\r\nimport TableBody from './TableBody'\r\n\r\nimport F from './compFactory'\r\nimport S from './Style'\r\n\r\nconst C = {\r\n  UP: 'UP',\r\n  DOWN: 'DOWN',\r\n\r\n  ASC: 'ascending',\r\n  DESC: 'descending'\r\n};\r\n\r\n\r\nclass Table extends Component {\r\n  /*\r\n  static propTypes = {\r\n    gridId: PropTypes.string,\r\n    thMoreStyle: PropTypes.object,\r\n    rows: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.string\r\n      })\r\n    ),\r\n    headers: PropTypes.arrayOf(\r\n       PropTypes.shape({\r\n        isHide: PropTypes.bool,\r\n        name: PropTypes.string,\r\n        pn: PropTypes.string,\r\n        isR: PropTypes.bool,\r\n        isF: PropTypes.bool,\r\n        isHref: PropTypes.bool,\r\n        style: PropTypes.object\r\n      })\r\n    ),\r\n    tableFn: PropTypes.shape({\r\n       numberFormat: PropTypes.func,\r\n       valueToHref: PropTypes.func\r\n    })\r\n  }\r\n  */\r\n\r\n  static defaultProps = {\r\n    className: '',\r\n    rows: [],\r\n    headers: [],\r\n    tableFn: {}\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      isGridLine: true,\r\n      isMenuMore: false,\r\n      headers: props.headers,\r\n      rows: props.rows,\r\n      sortBy: void 0,\r\n      sortTo: void 0\r\n    }\r\n  }\r\n\r\n  _hToggleMenuMore = (evt) => {\r\n    evt.stopPropagation()\r\n    this.setState(prevState => ({\r\n      isMenuMore: !prevState.isMenuMore\r\n    }))\r\n  }\r\n\r\n  _hToogleGridLine = () => {\r\n    this.setState(prevState => ({\r\n      isGridLine: !prevState.isGridLine\r\n    }))\r\n  }\r\n\r\n  _hToggleColumn = (index) => {\r\n    this.setState(({ headers }) => {\r\n      const _index = index + 1;\r\n      headers[_index].isHide = !headers[_index].isHide\r\n      return { headers: [...headers] };\r\n    })\r\n  }\r\n\r\n _hSort = (pn) => {\r\n   this.setState(prevState => {\r\n     const { rows, sortBy, sortTo } = prevState\r\n         , _compBy = F.compBy(S.TOKEN_NAN, pn)\r\n     let _rows, _sortTo;\r\n     if (pn === sortBy && sortTo === C.UP) {\r\n       _rows = rows.sort(F.opCompBy(pn, _compBy))\r\n       _sortTo = C.DOWN\r\n     } else {\r\n       _rows = rows.sort(_compBy)\r\n       _sortTo = C.UP\r\n     }\r\n     return {\r\n       rows: _rows,\r\n       sortBy: pn,\r\n       sortTo: _sortTo\r\n     };\r\n   })\r\n }\r\n\r\n  render(){\r\n    const {\r\n      gridId,\r\n      thMoreStyle,\r\n      className,\r\n      tableFn\r\n    } = this.props\r\n    , {\r\n      isGridLine,\r\n      isMenuMore,\r\n      sortBy,\r\n      sortTo,\r\n      headers,\r\n      rows\r\n    } = this.state\r\n    , _className = isGridLine\r\n         ? S.CL_GRID\r\n         : '';\r\n    return (\r\n      <div style={S.WRAPPER_DIV}>\r\n        <ModalMenu\r\n          isShow={isMenuMore}\r\n          style={S.STYLE_MORE}\r\n          onClose={this._hToggleMenuMore}\r\n          isGridLine={isGridLine}\r\n          onToggleGrid={this._hToogleGridLine}\r\n          headers={headers}\r\n          onToggle={this._hToggleColumn}\r\n        />\r\n        <table\r\n          className={`${_className} ${className}`}\r\n          id={gridId}\r\n          style={S.TABLE}\r\n          role=\"grid\"\r\n        >\r\n          <TableHead\r\n            gridId={gridId}\r\n            thMoreStyle={thMoreStyle}\r\n            headers={headers}\r\n            sortBy={sortBy}\r\n            sortTo={sortTo}\r\n            onSort={this._hSort}\r\n            onMenuMore={this._hToggleMenuMore}\r\n          />\r\n          <TableBody\r\n            headers={headers}\r\n            rows={rows}\r\n            tableFn={tableFn}\r\n          />\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Table\r\n"],"file":"Table.js"}