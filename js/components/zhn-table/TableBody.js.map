{"version":3,"sources":["../../../src/components/zhn-table/TableBody.jsx"],"names":["_isFn","fn","_crLinkEl","id","title","_href","CL_LINK","_crTdStyle","r","h","pn","style","isR","v","_tdStyle","tdStyle","_crTdElOrTitle","numberFormat","valueToHref","isHref","_v","_renderRows","props","headers","rows","tableFn","map","_rId","_elTds","hIndex","isHide","_key","_style","_elOrTitle","S_TD","filter","Boolean","TableBody"],"mappings":"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","sourcesContent":["import toLink from '../zhn/toLink'\r\nimport {\r\n  crTdStyle,\r\n  toFormatValue\r\n} from './tableFn';\r\nimport {\r\n  CL_LINK,\r\n  S_TD\r\n} from './Style'\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _crLinkEl = (id, title, fn) => {\r\n  const _href = _isFn(fn)\r\n    ? fn(id, title)\r\n    : void 0;\r\n  return (\r\n    <a\r\n      className={CL_LINK}\r\n      href={toLink(_href)}\r\n    >\r\n      {title}\r\n    </a>\r\n  );\r\n};\r\n\r\n\r\nconst _crTdStyle = (r, h) => {\r\n  const { pn, style, isR } = h\r\n  , v = r[pn]\r\n  , _tdStyle = crTdStyle({ v, isR })\r\n  ,  tdStyle  = (r.style || {})[pn];\r\n\r\n  return {...style, ..._tdStyle, ...tdStyle};\r\n}\r\nconst _crTdElOrTitle = (r, h, numberFormat, valueToHref) => {\r\n  const { pn, isHref } = h\r\n  , v = r[pn]\r\n  , _v = toFormatValue({ h, v, fn: numberFormat })\r\n  return  isHref\r\n    ? _crLinkEl(r.id, _v, valueToHref)\r\n    : _v;\r\n}\r\n\r\nconst _renderRows = (props) => {\r\n  const { headers, rows, tableFn } = props\r\n  , {\r\n      numberFormat,\r\n      valueToHref\r\n    } = tableFn || {};\r\n\r\n  return rows.map(r => {\r\n    const _rId = r.id\r\n    , _elTds = headers.map((h, hIndex) => {\r\n      if (h.isHide) {\r\n        return null;\r\n      }\r\n      const _key = `${_rId}_${hIndex}`\r\n      , _style = _crTdStyle(r, h)\r\n      , _elOrTitle = _crTdElOrTitle(r, h, numberFormat, valueToHref);\r\n      return (\r\n        <td\r\n          key={_key}\r\n          role=\"cell\"\r\n          style={{...S_TD, ..._style}}\r\n        >\r\n          {_elOrTitle}\r\n        </td>\r\n      );\r\n    }).filter(Boolean);\r\n\r\n    return (\r\n      <tr key={_rId} role=\"row\">\r\n        {_elTds}\r\n      </tr>\r\n    );\r\n  });\r\n}\r\n\r\nconst TableBody = (props) => (\r\n  <tbody>\r\n    {_renderRows(props)}\r\n  </tbody>\r\n);\r\n\r\n\r\nexport default TableBody\r\n"],"file":"TableBody.js"}