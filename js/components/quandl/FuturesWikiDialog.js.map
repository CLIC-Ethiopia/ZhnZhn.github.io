{"version":3,"sources":["../../../src/components/quandl/FuturesWikiDialog.jsx"],"names":["typeOptions","caption","value","FuturesWikiDialog","Decor","dialog","props","_handleSelectType","type","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","msgOnNotSelected","msgOnNotValidFormat","isContinious","msg","exchangeItem","getValidation","isValid1","isValid","msg1","concat","push","fromDate","length","getValues","exchange","one","item","two","getValue","undefined","loadFn","_handleClose","_handleWithValidationClose","_refExchangeItem","c","_refFromDate","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","noDate","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","onFront","futuresURI","initFromDate","onTestDateOrEmpty","msgTestDateOrEmpty","isToolbar","isShowLabels","validationMessages","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport crMenuMore from '../dialogs/MenuMore'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\n\r\nconst typeOptions = [\r\n  { caption: 'Continuous Contract #1', value: 1 },\r\n  { caption: 'Continuous Contract #2', value: 2 },\r\n  { caption: 'Continuous Contract #3', value: 3 },\r\n  { caption: 'Continuous Contract #4', value: 4 },\r\n  { caption: 'Continuous Contract #5', value: 5 }\r\n]\r\n\r\n@Decor.dialog\r\nclass FuturesWikiDialog extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    //this.type = undefined\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { noDate: true }\r\n    )\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState()\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleSelectType = (type) => {\r\n    this.type = type\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    )\r\n  }\r\n  _createValidationMessages = () => {\r\n    const { msgOnNotSelected, msgOnNotValidFormat, isContinious } = this.props\r\n    let   msg = [];\r\n\r\n    const { isValid:isValid1, msg:msg1 } = this.exchangeItem.getValidation();\r\n    if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n    if (!this.type) { msg.push(msgOnNotSelected('Type')); }\r\n\r\n    if (isContinious && !this.fromDate.isValid()){\r\n      msg.push(msgOnNotValidFormat('From Date'));\r\n    }\r\n\r\n    msg.isValid = (msg.length === 0) ? true : false;\r\n    return msg;\r\n  }\r\n  _createLoadOption = () => {\r\n    const { one:exchange, two:item } = this.exchangeItem.getValues()\r\n        , { isContinious } = this.props\r\n        , fromDate = (isContinious)\r\n              ? this.fromDate.getValue()\r\n              : undefined ;\r\n    return this.props.loadFn(\r\n      this.props,\r\n      { exchange, item , type : this.type, fromDate }\r\n    );\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _refExchangeItem = c => this.exchangeItem = c\r\n  _refFromDate = c => this.fromDate = c\r\n\r\n  render(){\r\n    const {\r\n            isShow, caption, onShow, onFront,\r\n            futuresURI, msgOnNotSelected,\r\n            isContinious, initFromDate, onTestDateOrEmpty, msgTestDateOrEmpty\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return (\r\n      <D.DraggableDialog\r\n         isShow={isShow}\r\n         caption={caption}\r\n         menuModel={this._menuMore}\r\n         commandButtons={this._commandButtons}\r\n         onShowChart={onShow}\r\n         onFront={onFront}\r\n         onClose={this._handleClose}\r\n       >\r\n           <D.Toolbar\r\n              isShow={isToolbar}\r\n              buttons={this.toolbarButtons}\r\n           />\r\n\r\n           <D.SelectOneTwo\r\n               ref={this._refExchangeItem}\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={futuresURI}\r\n               oneCaption=\"Exchange\"\r\n               oneOptionNames=\"Exchanges\"\r\n               oneJsonProp=\"futures\"\r\n               twoCaption=\"Asset\"\r\n               msgOnNotSelected={msgOnNotSelected}\r\n           />\r\n           <D.RowInputSelect\r\n              isShowLabels={isShowLabels}\r\n              caption=\"Type\"\r\n              options={typeOptions}\r\n              onSelect={this._handleSelectType}\r\n           />\r\n           {\r\n             isContinious &&\r\n             <D.RowDate\r\n                ref={this._refFromDate}\r\n                isShowLabels={isShowLabels}\r\n                labelTitle=\"From Date:\"\r\n                initValue={initFromDate}\r\n                errorMsg={msgTestDateOrEmpty}\r\n                onTestDate={onTestDateOrEmpty}\r\n             />\r\n           }\r\n           <D.ValidationMessages\r\n              validationMessages={validationMessages}\r\n           />\r\n      </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FuturesWikiDialog\r\n"],"file":"FuturesWikiDialog.js"}