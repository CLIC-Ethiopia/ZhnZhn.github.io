{"version":3,"sources":["../../../src/components/uncomtrade/UnDialog5.jsx"],"names":["TRADE_FLOW","caption","value","rg","measure","UnDialog5","withToolbar","withValidationLoad","props","_handleClickOptions","setState","isShowOptions","state","_handleSelectOne","one","_handleSelectTradeFlow","tradeFlow","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","msg","parentChild","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","two","parent","three","child","loadFn","_handleClose","_handleWithValidationClose","_handleMode","propName","toolbarButtons","_createType2WithToolbar","push","title","onClick","_commandButtons","isShowLabels","isShowDate","validationMessages","nextProps","nextState","isShow","onShow","onFront","oneCaption","oneURI","oneJsonProp","twoCaption","twoURI","twoJsonProp","threeCaption","msgOnNotSelected","initFromDate","initToDate","nForecastDate","msgOnNotValidFormat","onTestDate","c"],"mappings":"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","file":"UnDialog5.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\n\r\nconst TRADE_FLOW = [\r\n  { caption: \"Export Value\", value: { rg: 2, measure: \"TradeValue\" } },\r\n  { caption: \"Export Weight\", value: { rg: 2, measure: \"NetWeight\" } },\r\n  { caption: \"Export Average Price\", value: { rg: 2, measure: \"avgPrice\" } },\r\n  { caption: \"Import Value\", value: { rg: 1, measure: \"TradeValue\" } },\r\n  { caption: \"Import Weight\", value: { rg: 1, measure: \"NetWeight\" } },\r\n  { caption: \"Import Average Price\", value: { rg: 1, measure: \"avgPrice\" } }\r\n];\r\n\r\n@Decor.withToolbar\r\n@Decor.withValidationLoad\r\nclass  UnDialog5 extends Component {\r\n\r\n  constructor(props){\r\n    super()\r\n    this.toolbarButtons = this._createType2WithToolbar(props)\r\n    this.toolbarButtons.push({\r\n      caption: 'O', title: 'Toggle Options Input',\r\n      onClick: this._handleClickOptions\r\n    })\r\n    this._commandButtons = [\r\n      <D.Button.Load onClick={this._handleLoad} />\r\n    ]\r\n    this.state = {\r\n      isShowLabels: true,\r\n      isShowDate: false,\r\n      isShowOptions: false,\r\n      validationMessages: []\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleClickOptions = () => {\r\n    this.setState({\r\n      isShowOptions: !this.state.isShowOptions\r\n    })\r\n  }\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n  _handleSelectTradeFlow = (tradeFlow) => {\r\n    this.tradeFlow = tradeFlow\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     let msg = [];\r\n\r\n     const {\r\n             isValid:isValid1, msg:msg1\r\n           } = this.parentChild.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { parent:two, child:three } = this.parentChild.getValues()\r\n\r\n    return this.props.loadFn(\r\n      this.props, {\r\n      one : this.one, two, three,\r\n      tradeFlow: this.tradeFlow\r\n      //hasSecondYAxis: this[HAS_SECOND_Y_AXIS]\r\n    });\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp, threeCaption, msgOnNotSelected,\r\n           initFromDate, initToDate, nForecastDate, msgOnNotValidFormat, onTestDate\r\n          } = this.props\r\n        , {\r\n            isShowLabels,\r\n            isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             caption={caption}\r\n             isShow={isShow}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.ToolbarButtonCircle\r\n                buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               placeholder=\"Default: All\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n\r\n             <D.SelectParentChild\r\n                 ref={c => this.parentChild = c}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={twoURI}\r\n                 parentCaption={twoCaption}\r\n                 parentOptionNames=\"Items\"\r\n                 parentJsonProp={twoJsonProp}\r\n                 childCaption={threeCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={c => this.datesFragment = c}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 nForecastDate={nForecastDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               <D.RowInputSelect\r\n                 isShowLabels={isShowLabels}\r\n                 caption=\"Trade Flow\"\r\n                 options={TRADE_FLOW}\r\n                 placeholder=\"Default: Export Value\"\r\n                 onSelect={this._handleSelectTradeFlow}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UnDialog5\r\n"]}