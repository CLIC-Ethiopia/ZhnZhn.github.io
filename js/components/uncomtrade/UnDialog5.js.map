{"version":3,"sources":["../../../src/components/uncomtrade/UnDialog5.jsx"],"names":["TRADE_FLOW","caption","value","rg","measure","UnDialog5","Decor","dialog","props","_handleSelectOne","one","_handleSelectTradeFlow","tradeFlow","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","msg","groupItem","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","two","three","loadFn","_handleClose","_handleWithValidationClose","_handleMode","propName","_refGroupItem","c","_refDates","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","isShowOptions","_commandButtons","_crCommandsWithLoad","state","_isWithInitialState","isShowDate","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","onFront","oneCaption","oneURI","oneJsonProp","twoCaption","twoURI","twoJsonProp","threeCaption","msgOnNotSelected","initFromDate","initToDate","nForecastDate","msgOnNotValidFormat","onTestDate","isToolbar","isShowLabels","validationMessages","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\nimport crMenuMore from '../dialogs/MenuMore'\r\n\r\nconst TRADE_FLOW = [\r\n  { caption: \"Export Value\", value: { rg: 2, measure: \"TradeValue\" } },\r\n  { caption: \"Export Weight or Quantity\", value: { rg: 2, measure: \"NetWeight\" } },\r\n  { caption: \"Export Average Price\", value: { rg: 2, measure: \"avgPrice\" } },\r\n  { caption: \"Import Value\", value: { rg: 1, measure: \"TradeValue\" } },\r\n  { caption: \"Import Weight or Quantity\", value: { rg: 1, measure: \"NetWeight\" } },\r\n  { caption: \"Import Average Price\", value: { rg: 1, measure: \"avgPrice\" } }\r\n];\r\n\r\n@Decor.dialog\r\nclass  UnDialog5 extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(\r\n      props, { isShowOptions: true })\r\n\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowDate: false,\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n  \r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n  _handleSelectTradeFlow = (tradeFlow) => {\r\n    this.tradeFlow = tradeFlow\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     let msg = [];\r\n\r\n     const {\r\n             isValid:isValid1, msg:msg1\r\n           } = this.groupItem.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { one:two, two:three } = this.groupItem.getValues()\r\n\r\n    return this.props.loadFn(\r\n      this.props, {\r\n      one : this.one, two, three,\r\n      tradeFlow: this.tradeFlow\r\n    });\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  _refGroupItem = c => this.groupItem = c\r\n  _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp, threeCaption, msgOnNotSelected,\r\n           initFromDate, initToDate, nForecastDate, msgOnNotValidFormat, onTestDate\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels,\r\n            isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             isShow={isShow}\r\n             caption={caption}\r\n             menuModel={this._menuMore}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n                isShow={isToolbar}\r\n                buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               placeholder=\"Default: All\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n\r\n             <D.SelectOneTwo\r\n                 ref={this._refGroupItem}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={twoURI}\r\n                 oneCaption={twoCaption}\r\n                 oneJsonProp={twoJsonProp}\r\n                 twoCaption={threeCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={this._refDates}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 nForecastDate={nForecastDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               <D.RowInputSelect\r\n                 isShowLabels={isShowLabels}\r\n                 caption=\"Trade Flow\"\r\n                 options={TRADE_FLOW}\r\n                 placeholder=\"Default: Export Value\"\r\n                 onSelect={this._handleSelectTradeFlow}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UnDialog5\r\n"],"file":"UnDialog5.js"}