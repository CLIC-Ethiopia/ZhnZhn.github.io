{"version":3,"sources":["../../../src/components/uncomtrade/UnDialog5.jsx"],"names":["TRADE_FLOW","caption","value","rg","measure","UnDialog5","Decor","dialog","props","_handleClickOptions","setState","isShowOptions","state","_handleSelectOne","one","_handleSelectTradeFlow","tradeFlow","_handleLoad","_handleWithValidationLoad","_createValidationMessages","_createLoadOption","msg","groupItem","getValidation","isValid1","isValid","msg1","concat","datesFragment","datesMsg","length","getValues","two","three","loadFn","_handleClose","_handleWithValidationClose","_handleMode","propName","_refGroupItem","c","_refDates","_menuMore","toggleToolBar","_toggleWithToolbar","onAbout","_clickInfoWithToolbar","toolbarButtons","_createType2WithToolbar","push","title","onClick","_commandButtons","_crCommandsWithLoad","_isWithInitialState","isShowDate","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","onFront","oneCaption","oneURI","oneJsonProp","twoCaption","twoURI","twoJsonProp","threeCaption","msgOnNotSelected","initFromDate","initToDate","nForecastDate","msgOnNotValidFormat","onTestDate","isToolbar","isShowLabels","validationMessages","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport D from '../dialogs/DialogCell'\r\nimport Decor from '../dialogs/decorators/Decorators'\r\nimport crMenuMore from '../dialogs/MenuMore'\r\n\r\nconst TRADE_FLOW = [\r\n  { caption: \"Export Value\", value: { rg: 2, measure: \"TradeValue\" } },\r\n  { caption: \"Export Weight or Quantity\", value: { rg: 2, measure: \"NetWeight\" } },\r\n  { caption: \"Export Average Price\", value: { rg: 2, measure: \"avgPrice\" } },\r\n  { caption: \"Import Value\", value: { rg: 1, measure: \"TradeValue\" } },\r\n  { caption: \"Import Weight or Quantity\", value: { rg: 1, measure: \"NetWeight\" } },\r\n  { caption: \"Import Average Price\", value: { rg: 1, measure: \"avgPrice\" } }\r\n];\r\n\r\n@Decor.dialog\r\nclass  UnDialog5 extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleToolBar: this._toggleWithToolbar,\r\n      onAbout: this._clickInfoWithToolbar\r\n    })\r\n\r\n    this.toolbarButtons = this._createType2WithToolbar(props)\r\n    this.toolbarButtons.push({\r\n      caption: 'O', title: 'Toggle Options Input',\r\n      onClick: this._handleClickOptions\r\n    })\r\n    this._commandButtons = this._crCommandsWithLoad(this)\r\n\r\n    this.state = {\r\n      ...this._isWithInitialState(),\r\n      isShowDate: false,\r\n      isShowOptions: false\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _handleClickOptions = () => {\r\n    this.setState({\r\n      isShowOptions: !this.state.isShowOptions\r\n    })\r\n  }\r\n\r\n  _handleSelectOne = (one) => {\r\n    this.one = one;\r\n  }\r\n  _handleSelectTradeFlow = (tradeFlow) => {\r\n    this.tradeFlow = tradeFlow\r\n  }\r\n\r\n  _handleLoad = () => {\r\n    this._handleWithValidationLoad(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    );\r\n  }\r\n  _createValidationMessages = () => {\r\n     let msg = [];\r\n\r\n     const {\r\n             isValid:isValid1, msg:msg1\r\n           } = this.groupItem.getValidation();\r\n     if (!isValid1) { msg = msg.concat(msg1); }\r\n\r\n     const {isValid, datesMsg} = this.datesFragment.getValidation();\r\n     if (!isValid) { msg = msg.concat(datesMsg); }\r\n\r\n     msg.isValid = (msg.length === 0) ? true : false;\r\n     return msg;\r\n  }\r\n\r\n  _createLoadOption = () => {\r\n    const { one:two, two:three } = this.groupItem.getValues()\r\n\r\n    return this.props.loadFn(\r\n      this.props, {\r\n      one : this.one, two, three,\r\n      tradeFlow: this.tradeFlow\r\n    });\r\n  }\r\n\r\n  _handleClose = () => {\r\n    this._handleWithValidationClose()\r\n  }\r\n\r\n  _handleMode = (propName, value) => {\r\n     this[propName] = value\r\n  }\r\n\r\n  _refGroupItem = c => this.groupItem = c\r\n  _refDates = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n           caption, isShow, onShow, onFront,\r\n           oneCaption, oneURI, oneJsonProp,\r\n           twoCaption, twoURI, twoJsonProp, threeCaption, msgOnNotSelected,\r\n           initFromDate, initToDate, nForecastDate, msgOnNotValidFormat, onTestDate\r\n          } = this.props\r\n        , {\r\n            isToolbar,\r\n            isShowLabels,\r\n            isShowDate, isShowOptions,\r\n            validationMessages\r\n          } = this.state;\r\n\r\n    return(\r\n        <D.DraggableDialog\r\n             isShow={isShow}\r\n             caption={caption}\r\n             menuModel={this._menuMore}\r\n             commandButtons={this._commandButtons}\r\n             onShowChart={onShow}\r\n             onFront={onFront}\r\n             onClose={this._handleClose}\r\n         >\r\n             <D.Toolbar\r\n                isShow={isToolbar}\r\n                buttons={this.toolbarButtons}\r\n             />\r\n             <D.SelectWithLoad\r\n               isShow={isShow}\r\n               isShowLabels={isShowLabels}\r\n               uri={oneURI}\r\n               jsonProp={oneJsonProp}\r\n               caption={oneCaption}\r\n               placeholder=\"Default: All\"\r\n               onSelect={this._handleSelectOne}\r\n             />\r\n\r\n             <D.SelectOneTwo\r\n                 ref={this._refGroupItem}\r\n                 isShow={isShow}\r\n                 isShowLabels={isShowLabels}\r\n                 uri={twoURI}\r\n                 oneCaption={twoCaption}\r\n                 oneJsonProp={twoJsonProp}\r\n                 twoCaption={threeCaption}\r\n                 msgOnNotSelected={msgOnNotSelected}\r\n             />\r\n\r\n             <D.ShowHide isShow={isShowDate}>\r\n               <D.DatesFragment\r\n                 ref={this._refDates}\r\n                 isShowLabels={isShowLabels}\r\n                 initFromDate={initFromDate}\r\n                 initToDate={initToDate}\r\n                 nForecastDate={nForecastDate}\r\n                 msgOnNotValidFormat={msgOnNotValidFormat}\r\n                 onTestDate={onTestDate}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ShowHide isShow={isShowOptions}>\r\n               <D.RowInputSelect\r\n                 isShowLabels={isShowLabels}\r\n                 caption=\"Trade Flow\"\r\n                 options={TRADE_FLOW}\r\n                 placeholder=\"Default: Export Value\"\r\n                 onSelect={this._handleSelectTradeFlow}\r\n               />\r\n             </D.ShowHide>\r\n             <D.ValidationMessages\r\n                 validationMessages={validationMessages}\r\n             />\r\n        </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UnDialog5\r\n"],"file":"UnDialog5.js"}