{"version":3,"sources":["../../../../src/components/hooks/__tests__/useRerender.test.js"],"names":["_testRender","renderSpy","fns","calledTimes","expect","toBeCalledTimes","size","toBe","Array","from","_testRenderAfterClickBt","fireEvent","click","screen","getByTestId","describe","test","Set","jest","fn","Comp","_rerender","add"],"mappings":"AAAA;AACA;AACA;AACA;;;;AACA;;AAKA;;;;AAEA,MAAMA,WAAW,GAAG,CAClBC,SADkB,EAElBC,GAFkB,EAGlBC,WAHkB,KAIf;AACHC,EAAAA,MAAM,CAACH,SAAD,CAAN,CAAkBI,eAAlB,CAAkCF,WAAlC;AACAC,EAAAA,MAAM,CAACF,GAAG,CAACI,IAAL,CAAN,CAAiBC,IAAjB,CAAsB,CAAtB;AACAH,EAAAA,MAAM,CAAC,OAAQI,KAAK,CAACC,IAAN,CAAWP,GAAX,CAAD,CAAkB,CAAlB,CAAR,CAAN,CAAoCK,IAApC,CAAyC,UAAzC;AACD,CARD;;AASA,MAAMG,uBAAuB,GAAG,CAC9BT,SAD8B,EAE9BC,GAF8B,EAG9BC,WAH8B,KAI3B;AACHQ,mBAAUC,KAAV,CAAgBC,cAAOC,WAAP,CAAmB,IAAnB,CAAhB;;AACAd,EAAAA,WAAW,CAACC,SAAD,EAAYC,GAAZ,EAAiBC,WAAjB,CAAX;AACD,CAPD;;AASAY,QAAQ,CAAC,gBAAD,EAAmB,MAAI;AAC7BC,EAAAA,IAAI,CAAC,gEAAD,EAAmE,MAAI;AACzE,UAAMd,GAAG,GAAG,IAAIe,GAAJ,EAAZ;AAAA,UACEhB,SAAS,GAAGiB,IAAI,CAACC,EAAL,EADd;;AAGA,aAASC,IAAT,GAAgB;AACd;AACA,YAAMC,SAAS,GAAG,2BAAlB;AACA;;;AACAnB,MAAAA,GAAG,CAACoB,GAAJ,CAAQD,SAAR;AACApB,MAAAA,SAAS;AACT,0BACE;AACE,uBAAY,IADd;AAEE,QAAA,OAAO,EAAEoB,SAFX;AAAA;AAAA,QADF;AAQD;;AAED,qCAAO,qBAAC,IAAD,KAAP;;AACArB,IAAAA,WAAW,CAACC,SAAD,EAAYC,GAAZ,EAAiB,CAAjB,CAAX;;AAEAQ,IAAAA,uBAAuB,CAACT,SAAD,EAAYC,GAAZ,EAAiB,CAAjB,CAAvB;;AACAQ,IAAAA,uBAAuB,CAACT,SAAD,EAAYC,GAAZ,EAAiB,CAAjB,CAAvB;AACD,GAzBG,CAAJ;AA0BD,CA3BO,CAAR","sourcesContent":["/**\r\n * @jest-environment jsdom\r\n */\r\n\"use strict\";\r\nimport {\r\n  render,\r\n  screen,\r\n  fireEvent\r\n} from '@testing-library/react';\r\nimport useRerender from '../useRerender';\r\n\r\nconst _testRender = (\r\n  renderSpy,\r\n  fns,\r\n  calledTimes\r\n) => {\r\n  expect(renderSpy).toBeCalledTimes(calledTimes)\r\n  expect(fns.size).toBe(1)\r\n  expect(typeof (Array.from(fns))[0]).toBe('function')\r\n};\r\nconst _testRenderAfterClickBt = (\r\n  renderSpy,\r\n  fns,\r\n  calledTimes\r\n) => {\r\n  fireEvent.click(screen.getByTestId(\"bt\"))\r\n  _testRender(renderSpy, fns, calledTimes)\r\n};\r\n\r\ndescribe('useForceUpdate', ()=>{\r\n  test('should return same function and rerender component when called', ()=>{\r\n    const fns = new Set()\r\n    , renderSpy = jest.fn();\r\n\r\n    function Comp() {\r\n      /*eslint-disable testing-library/render-result-naming-convention*/\r\n      const _rerender = useRerender();\r\n      /*eslint-enable testing-library/render-result-naming-convention*/\r\n      fns.add(_rerender)\r\n      renderSpy()\r\n      return (\r\n        <button\r\n          data-testid=\"bt\"\r\n          onClick={_rerender}\r\n        >\r\n          Rerender\r\n        </button>\r\n      );\r\n    }\r\n\r\n    render(<Comp />)\r\n    _testRender(renderSpy, fns, 1)\r\n\r\n    _testRenderAfterClickBt(renderSpy, fns, 2)\r\n    _testRenderAfterClickBt(renderSpy, fns, 3)\r\n  })\r\n})\r\n"],"file":"useRerender.test.js"}