{"version":3,"sources":["../../../src/components/header/ProgressLoading.jsx"],"names":["C","LOADING","FAILED","COMPLETE_TIMEOUT_MLS","ProgressLoading","state","completed","color","_onStore","actionType","ACTIONS","props","setState","LOADING_COMPLETE","setTimeout","LOADING_FAILED","componentDidMount","unsubscribe","store","listenLoadingProgress","componentWillUnmount","shouldComponentUpdate","nextProps","nextState","render","Component"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;AAEA,IAAMA,CAAC,GAAG;AACRC,EAAAA,OAAO,EAAG,SADF;AAERC,EAAAA,MAAM,EAAG;AAFD,CAAV;AAKA,IAAMC,oBAAoB,GAAG,GAA7B;;IAEMC,e;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,SAAS,EAAE,CADL;AAENC,MAAAA,KAAK,EAAEP,CAAC,CAACC;AAFH,K;;UAYRO,Q,GAAW,UAACC,UAAD,EAAgB;AAAA,UACfC,OADe,GACH,MAAKC,KADF,CACfD,OADe;;AAEvB,UAAID,UAAU,KAAKC,OAAO,CAACT,OAA3B,EAAmC;AACjC,cAAKW,QAAL,CAAc;AAAEN,UAAAA,SAAS,EAAE,EAAb;AAAiBC,UAAAA,KAAK,EAAEP,CAAC,CAACC;AAA1B,SAAd;AACD,OAFD,MAEO,IAAIQ,UAAU,KAAKC,OAAO,CAACG,gBAA3B,EAA4C;AACjDC,QAAAA,UAAU,CACR;AAAA,iBAAM,MAAKF,QAAL,CAAc;AAAEN,YAAAA,SAAS,EAAE,GAAb;AAAkBC,YAAAA,KAAK,EAAEP,CAAC,CAACC;AAA3B,WAAd,CAAN;AAAA,SADQ,EAERE,oBAFQ,CAAV;AAGD,OAJM,MAIA,IAAIM,UAAU,KAAKC,OAAO,CAACK,cAA3B,EAA0C;AAC/C,cAAKH,QAAL,CAAc;AAAEN,UAAAA,SAAS,EAAE,GAAb;AAAkBC,UAAAA,KAAK,EAAEP,CAAC,CAACE;AAA3B,SAAd;AACD;AACJ,K;;;;;;;SAlBDc,iB,GAAA,6BAAmB;AACjB,SAAKC,WAAL,GAAmB,KAAKN,KAAL,CAAWO,KAAX,CAChBC,qBADgB,CACM,KAAKX,QADX,CAAnB;AAED,G;;SACDY,oB,GAAA,gCAAsB;AACpB,SAAKH,WAAL;AACD,G;;SAcDI,qB,GAAA,+BAAsBC,SAAtB,EAAiCC,SAAjC,EAA2C;AACzC,QAAI,KAAKlB,KAAL,CAAWC,SAAX,KAAyBiB,SAAS,CAACjB,SAAvC,EAAkD;AAChD,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD,G;;SAEDkB,M,GAAA,kBAAQ;AAAA,sBACuB,KAAKnB,KAD5B;AAAA,QACEC,SADF,eACEA,SADF;AAAA,QACaC,KADb,eACaA,KADb;AAEN,wBACE,gCAAC,wBAAD;AACG,MAAA,MAAM,EAAE,CADX;AAEG,MAAA,KAAK,EAAEA,KAFV;AAGG,MAAA,SAAS,EAAED;AAHd,MADF;AAOD,G;;;EA1C2BmB,gB;;eA6CfrB,e","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport ProgressLine from '../zhn/ProgressLine';\r\n\r\nconst C = {\r\n  LOADING : '#2f7ed8',\r\n  FAILED : '#ed5813'\r\n};\r\n\r\nconst COMPLETE_TIMEOUT_MLS = 450;\r\n\r\nclass ProgressLoading extends Component {\r\n  state = {\r\n    completed: 0,\r\n    color: C.LOADING\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store\r\n      .listenLoadingProgress(this._onStore);\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType) => {\r\n      const { ACTIONS } = this.props;\r\n      if (actionType === ACTIONS.LOADING){\r\n        this.setState({ completed: 35, color: C.LOADING })\r\n      } else if (actionType === ACTIONS.LOADING_COMPLETE){\r\n        setTimeout(\r\n          () => this.setState({ completed: 100, color: C.LOADING })\r\n        , COMPLETE_TIMEOUT_MLS)\r\n      } else if (actionType === ACTIONS.LOADING_FAILED){\r\n        this.setState({ completed: 100, color: C.FAILED })\r\n      }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.state.completed === nextState.completed) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render(){\r\n    const { completed, color } = this.state;\r\n    return (\r\n      <ProgressLine\r\n         height={3}\r\n         color={color}\r\n         completed={completed}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProgressLoading\r\n"],"file":"ProgressLoading.js"}