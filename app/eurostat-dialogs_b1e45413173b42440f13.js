webpackJsonp([2],{559:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(601),i=a(n),l=o(602),r=a(l),s=o(603),u=a(s),d=o(604),c=a(d),f=o(606),h=a(f),p={Eurostat:i.default,Eurostat2:r.default,Eurostat3A:u.default,SelectN:c.default,StatN:h.default};t.default=p},568:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={DF_PLACEHOLDER:"Before Select Metric",YEAR_MAX:12,BI_YEAR_MAX:24,Q_YEAR_MAX:4,M_YEAR_MAX:3},n=function(e,t){return(e[t]||{}).value},i=function(e,t){var o=(new Date).getUTCMonth(),a=void 0,n=void 0,i=void 0;for(i=0;i<12;i++)o-=1,o>-1?(a=o+1>9?o+1:"0"+(o+1),n=t+"M"+a):(o=11,t-=1,n=t+"M12"),e.push({caption:n,value:n})},l=function(e,t,o){var a=(new Date).getUTCMonth(),n=Math.floor((a+1)/3),i=4===n?3:n,l=void 0;for(l=0;l<4;l++)i<1&&(t-=1,i=4),e.push({caption:""+t+o+i,value:""+t+o+i}),i-=1},r=function(e,t){return{dateOptions:e,dateDefault:n(e,t)}},s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=[],o=(new Date).getUTCFullYear(),n=0;n<a.M_YEAR_MAX;n++)i(t,o-n);return r(t,e)},u=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Q",o=[],n=(new Date).getUTCFullYear(),i=0;i<a.Q_YEAR_MAX;i++)l(o,n-i,t);return r(o,e)},d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[],o=(new Date).getUTCFullYear(),n=0;n<a.BI_YEAR_MAX;n++)t.push({caption:o+"S2",value:o+"S2"},{caption:o+"S1",value:o+"S1"}),o-=1;return r(t,e)},c=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],o=(new Date).getUTCFullYear(),n=0;n<a.YEAR_MAX;n++)t.push({caption:""+o,value:""+o}),o-=1;return r(t,e)},f=function(){return{dateDefault:a.DF_PLACEHOLDER,dateOptions:[]}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"M",t=arguments[1];switch(e){case"M":return s(t);case"Q":case"K":return u(t,e);case"S":return d();case"Y":return c(t);case"EMPTY":return f();default:return c(t)}};t.default=h},569:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(30),i=a(n),l=o(20),r=a(l),s=o(8),u={A:"AREA",A_Y:"AREA_YEARLY",S:"SPLINE",S_C:"COLUMN",M:"MAP",C:"COLUMN_SET",C_C:"COLUMN_CLUSTER",C_2:"COLUMN_BY_2",B:"BAR_SET",B_C:"BAR_CLUSTER",B_2:"BAR_BY_2",B_L:"BAR_WITH_LABELS",D:"DOT_SET",TM:"TREE_MAP",TM_C:"TREE_MAP_CLUSTER",TM_2:"TREE_MAP_2",TM_2_C:"TREE_MAP_2_CLUSTER"},d=[u.M,u.C,u.C_C,u.C_2,u.B,u.B_C,u.B_2,u.B_L,u.D,u.TM,u.TM_C,u.TM_2,u.TM_2_C],c={EMPTY:""},f=function(e){return{caption:e[0],value:e[1],dim:e[2],compType:e[3]}},h=function(e){return e.map(f)},p=function(){return h([["Default: Spline",u.S],["Area",u.A],["Column",u.S_C],["Bar: All Countries",u.B],["Bar+Labels: All Countries",u.B_L],["Column: All Countries",u.C],["Dots: All Countries",u.D],["Map: All Countries",u.M,void 0,s.CompItemType.EUROSTAT_MAP]])},_=function(){return h([["Default: Spline",u.S],["Column",u.S_C],["Bar: All Countries",u.B],["Column: All Countries",u.C],["Dots: All Countries",u.D]])},S=function(){return[f(["Default: Spline",u.S])]},g=function(){return[f(["Default: Spline",u.S]),f(["Column",u.S_C])]},m=function(){return[].concat((0,r.default)(g()),[f(["Yearly by Months",u.A_Y])])},C=function(e){return h([["Column: By "+e,u.C,e],["Column: By "+e+": Cluster",u.C_C,e],["Bar: By "+e,u.B,e],["Bar: By "+e+": Cluster",u.B_C,e]])},w=function(e){var t=(0,i.default)(e,1),o=t[0];return[f(["Default: Spline",u.A])].concat((0,r.default)(C(o)))},v=function(e){var t=(0,i.default)(e,1),o=t[0];return[f(["Default: Spline",u.A]),f(["Yearly by Months",u.A_Y])].concat((0,r.default)(C(o)))},T=function(e){var t=(0,i.default)(e,1),o=t[0];return[].concat((0,r.default)(w([o])),[f(["TreeMap: By "+o,u.TM,o]),f(["TreeMap: By "+o+": Cluster",u.TM_C,o])])},M=function(e){var t=(0,i.default)(e,1),o=t[0];return[].concat((0,r.default)(T([o])),[f(["TreeMap: By "+o+": Depth 2",u.TM_2,o]),f(["TreeMap: By "+o+": Depth 2: Cluster",u.TM_2_C,o])])},b=function(e){var t=(0,i.default)(e,2),o=t[0],a=t[1];return[].concat((0,r.default)(w([o])),[f(["Column: By "+a,u.C_2,a]),f(["Bar: By "+a,u.B_2,a])])},y={DF:p,t1:S,t2:g,t2a:m,t3:w,t3b:v,t3a:T,t3a2:M,t4:b,df3:_},D=function(e){var t=e.dims,o=e.oneCaption,a=void 0===o?c.EMPTY:o,n=e.twoCaption,i=void 0===n?c.EMPTY:n;return Array.isArray(t)?t.map(function(e){return e.c||c.EMPTY}):[a,i]},O={crOptions:function(e){var t=e.chartsType,o=D(e);return(y[t]||y.DF)(o)},isCategory:function(e){return!!e&&-1!==d.indexOf(e.value)}};t.default=O},570:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){if(this.date&&this.date.value)return this.date.value;var e=this.state,t=e.dateOptions,o=e.dateDefault;return Array.isArray(t)&&0!==t.length?o:""},n=function(e){Object.assign(e.prototype,{_getDateWithForDate:a})};t.default=n},571:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=a(n),l=o(0),r=a(l),s=o(36),u=a(s),d=o(16),c=a(d),f=o(578),h=a(f),p=function(e){var t=e.isShow,o=e.style,a=e.className,n=void 0===a?h.default.CL:a,l=e.toggleOption,s=e.onClose,d=l.bind(null,"isNotZoomToMinMax"),f=l.bind(null,"isFilterZero");return r.default.createElement(u.default,{isShow:t,style:(0,i.default)({},h.default.ROOT,o),className:n,onClose:s},r.default.createElement(c.default.RowCheckBox,{initValue:!1,rootStyle:h.default.ROW_CB,caption:"Not Zoom to Min-Max",onToggle:d}),r.default.createElement(c.default.RowCheckBox,{initValue:!1,rootStyle:h.default.ROW_CB,caption:"Filter Zero Values",onToggle:f}))};t.default=p},578:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={CL:"popup-menu",ROOT:{left:8,zIndex:100,padding:"8px 12px",lineHeight:1.7},ROW_CB:{paddingLeft:0}};t.default=a},601:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u,d=o(2),c=a(d),f=o(3),h=a(f),p=o(4),_=a(p),S=o(5),g=a(S),m=o(0),C=a(m),w=o(16),v=a(w),T=o(39),M=a(T),b=o(40),y=a(b),D=(n=y.default.withToolbar,i=y.default.withValidationLoad,l=y.default.withLoad,n(r=i(r=l((u=s=function(e){function t(e){(0,c.default)(this,t);var o=(0,_.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._handleSelectOne=function(e){o.one=e},o._handleSelectTwo=function(e){o.two=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props,t=e.oneCaption,a=e.twoCaption,n=[];return o.one||n.push(o.props.msgOnNotSelected(t)),o.two||n.push(o.props.msgOnNotSelected(a)),n.isValid=0===n.length,n},o._createLoadOption=function(){return o.props.loadFn(o.props,{one:o.one,two:o.two})},o._handleClose=function(){o._handleWithValidationClose()},o.one=void 0,o.two=void 0,o._menuMore=(0,M.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e,{noDate:!0}),o._commandButtons=o._crCommandsWithLoad(o),o.state={isToolbar:!0,isShowLabels:!0,validationMessages:[]},o}return(0,g.default)(t,e),(0,h.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=e.oneCaption,l=e.oneURI,r=e.oneJsonProp,s=e.twoCaption,u=e.twoURI,d=e.twoJsonProp,c=this.state,f=c.isToolbar,h=c.isShowLabels,p=c.validationMessages;return C.default.createElement(v.default.DraggableDialog,{caption:t,isShow:o,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._handleClose},C.default.createElement(v.default.Toolbar,{isShow:f,buttons:this.toolbarButtons}),C.default.createElement(v.default.SelectWithLoad,{isShow:o,isShowLabels:h,uri:l,jsonProp:r,caption:i,optionNames:"Items",onSelect:this._handleSelectOne}),C.default.createElement(v.default.SelectWithLoad,{isShow:o,isShowLabels:h,uri:u,jsonProp:d,caption:s,optionNames:"Items",onSelect:this._handleSelectTwo}),C.default.createElement(v.default.ValidationMessages,{validationMessages:p}))}}]),t}(m.Component),s.defaultProps={oneCaption:"Item",oneJsonProp:"items",twoCaption:"Metric",twoJsonProp:"metrics"},r=u))||r)||r)||r);t.default=D},602:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u,d=o(1),c=a(d),f=o(2),h=a(f),p=o(3),_=a(p),S=o(4),g=a(S),m=o(5),C=a(m),w=o(0),v=a(w),T=o(568),M=a(T),b=o(16),y=a(b),D=o(39),O=a(D),L=o(40),E=a(L),B=o(570),P=a(B),R=o(569),A=a(R),F=o(571),I=a(F),W="M",N=(n=E.default.withToolbar,i=E.default.withValidationLoad,l=E.default.withLoad,n(r=i(r=l(r=(0,P.default)((u=s=function(e){function t(e){(0,h.default)(this,t);var o=(0,g.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._isCategory=function(){return A.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=null;var e=o.two?o.props.mapFrequency?o.props.mapFrequency:o.two.mapFrequency?o.two.mapFrequency:W:null,t=o.props.mapDateDf,a=e?(0,M.default)(e,t):(0,M.default)("EMPTY");o.setState((0,c.default)({isShowDate:!0},a))},o._handleSelectOne=function(e){o.one=e},o._handleSelectTwo=function(e){o.two=e,o._isCategory()&&o._updateForDate()},o._handleSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._handleSelectDate=function(e){o.date=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props,t=e.oneCaption,a=e.twoCaption,n=[];return o._isCategory()||o.one||n.push(o.props.msgOnNotSelected(t)),o.two||n.push(o.props.msgOnNotSelected(a)),n.isValid=0===n.length,n},o._createLoadOption=function(){var e=o.one,t=o.two,a=o.dialogOptions,n=o.chartType,i=o.colorComp,l=o.compSelect1,r=o.compSelect2,s=i?i.getColor():void 0,u=o._getDateWithForDate();return o.props.loadFn(o.props,{one:e,two:t,dialogOptions:a,chartType:n,seriaColor:s,date:u,selectOptions:[l.getOptions(),r.getOptions()]})},o._handleClose=function(){o._handleWithValidationClose()},o._refSelect1=function(e){o.compSelect1=e},o._refSelect2=function(e){o.compSelect2=e},o.one=void 0,o.two=void 0,o.date=void 0,o.chartType=void 0,o._menuMore=(0,O.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e,{isOptions:!0}),o._commandButtons=o._crCommandsWithLoad(o),o._chartOptions=A.default.crOptions(e),o.state=(0,c.default)({isToolbar:!0,isOptions:!1,isShowLabels:!0,isShowDate:!1},(0,M.default)("EMPTY"),{validationMessages:[]}),o}return(0,C.default)(t,e),(0,_.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.noDate,o=e.caption,a=e.isShow,n=e.onShow,i=e.onFront,l=e.oneCaption,r=e.oneURI,s=e.oneJsonProp,u=e.twoCaption,d=e.twoURI,c=e.twoJsonProp,f=this.state,h=f.isToolbar,p=f.isOptions,_=f.isShowLabels,S=f.isShowDate,g=f.dateDefault,m=f.dateOptions,C=f.validationMessages;return v.default.createElement(y.default.DraggableDialog,{isShow:a,caption:o,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:n,onFront:i,onClose:this._handleClose},v.default.createElement(y.default.Toolbar,{isShow:h,buttons:this.toolbarButtons}),v.default.createElement(I.default,{isShow:p,toggleOption:this._toggleOptionWithToolbar,onClose:this._hideOptionsWithToolbar}),v.default.createElement(y.default.SelectWithLoad,{ref:this._refSelect1,isShow:a,isShowLabels:_,uri:r,jsonProp:s,caption:l,optionNames:"Items",onSelect:this._handleSelectOne}),v.default.createElement(y.default.SelectWithLoad,{ref:this._refSelect2,isShow:a,isShowLabels:_,uri:d,jsonProp:c,caption:u,optionNames:"Metrics",onSelect:this._handleSelectTwo}),v.default.createElement(y.default.RowChart,{isShowLabels:_,options:this._chartOptions,onSelectChart:this._handleSelectChartType,onRegColor:this._onRegColor}),!t&&v.default.createElement(y.default.ShowHide,{isShow:S},v.default.createElement(y.default.RowInputSelect,{isShowLabels:_,caption:"For Date",placeholder:g,options:m,onSelect:this._handleSelectDate})),v.default.createElement(y.default.ValidationMessages,{validationMessages:C}))}}]),t}(w.Component),s.defaultProps={oneCaption:"Item",oneJsonProp:"items",twoCaption:"Metric",twoJsonProp:"metrics"},r=u))||r)||r)||r)||r);t.default=N},603:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u,d=o(1),c=a(d),f=o(2),h=a(f),p=o(3),_=a(p),S=o(4),g=a(S),m=o(5),C=a(m),w=o(0),v=a(w),T=o(568),M=a(T),b=o(16),y=a(b),D=o(39),O=a(D),L=o(40),E=a(L),B=o(570),P=a(B),R=o(569),A=a(R),F=o(571),I=a(F),W="M",N=(n=E.default.withToolbar,i=E.default.withValidationLoad,l=E.default.withLoad,n(r=i(r=l(r=(0,P.default)((u=s=function(e){function t(e){(0,h.default)(this,t);var o=(0,g.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._isCategory=function(){return A.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=void 0;var e=o.props.dfProps,t=void 0===e?{}:e,a=t.mapFrequency,n=t.mapDateDf,i=o.two?a:W,l=i?(0,M.default)(i,n):(0,M.default)("EMPTY");o.setState((0,c.default)({isShowDate:!0},l))},o._handleSelectOne=function(e){o.one=e},o._handleSelectTwo=function(e){o.two=e,o._isCategory()&&o._updateForDate()},o._handleSelectThree=function(e){o.three=e},o._handleSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._handleSelectDate=function(e){o.date=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props,t=e.oneCaption,a=e.twoCaption,n=e.threeCaption,i=e.msgOnNotSelected,l=[];return o._isCategory()||o.one||l.push(i(t)),o.two||l.push(i(a)),o.three||l.push(i(n)),l.isValid=0===l.length,l},o._createLoadOption=function(){var e=o.one,t=o.two,a=o.three,n=o.dialogOptions,i=o.chartType,l=o.colorComp,r=o.compSelect1,s=o.compSelect2,u=l?l.getColor():void 0,d=o._getDateWithForDate();return o.props.loadFn(o.props,{one:e,group:t,metric:a,dialogOptions:n,chartType:i,seriaColor:u,date:d,selectOptions:[r.getOptions(),s.getOptions()]})},o._handleClose=function(){o._handleWithValidationClose()},o._refSelect1=function(e){o.compSelect1=e},o._refSelect2=function(e){o.compSelect2=e},o.one=void 0,o.two=void 0,o.three=void 0,o.date=void 0,o.chartType=void 0,o._menuMore=(0,O.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e,{isOptions:!0}),o._commandButtons=o._crCommandsWithLoad(o),o._chartOptions=A.default.crOptions(e),o.state=(0,c.default)({isToolbar:!0,isOptions:!1,isShowLabels:!0,isShowDate:!1},(0,M.default)("EMPTY"),{validationMessages:[]}),o}return(0,C.default)(t,e),(0,_.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=e.oneCaption,l=e.oneURI,r=e.oneJsonProp,s=e.twoCaption,u=e.twoURI,d=e.twoJsonProp,c=e.threeCaption,f=e.threeURI,h=e.threeJsonProp,p=e.noDate,_=this.state,S=_.isToolbar,g=_.isOptions,m=_.isShowLabels,C=_.isShowDate,w=_.dateDefault,T=_.dateOptions,M=_.validationMessages;return v.default.createElement(y.default.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._handleClose},v.default.createElement(y.default.Toolbar,{isShow:S,buttons:this.toolbarButtons}),v.default.createElement(I.default,{isShow:g,toggleOption:this._toggleOptionWithToolbar,onClose:this._hideOptionsWithToolbar}),v.default.createElement(y.default.SelectWithLoad,{ref:this._refSelect1,isShow:o,isShowLabels:m,uri:l,jsonProp:r,caption:i,optionNames:"Countries",onSelect:this._handleSelectOne}),v.default.createElement(y.default.SelectWithLoad,{ref:this._refSelect2,isShow:o,isShowLabels:m,uri:u,jsonProp:d,caption:s,optionNames:"Items",onSelect:this._handleSelectTwo}),v.default.createElement(y.default.SelectWithLoad,{isShow:o,isShowLabels:m,uri:f,jsonProp:h,caption:c,optionNames:"Metrics",onSelect:this._handleSelectThree}),v.default.createElement(y.default.RowChart,{isShowLabels:m,options:this._chartOptions,onSelectChart:this._handleSelectChartType,onRegColor:this._onRegColor}),!p&&v.default.createElement(y.default.ShowHide,{isShow:C},v.default.createElement(y.default.RowInputSelect,{isShowLabels:m,caption:"For Date",placeholder:w,options:T,onSelect:this._handleSelectDate})),v.default.createElement(y.default.ValidationMessages,{validationMessages:M}))}}]),t}(w.Component),s.defaultProps={oneCaption:"Country",oneJsonProp:"countries",twoCaption:"Item",twoJsonProp:"items",threeCaption:"Metric",threeJsonProp:"items"},r=u))||r)||r)||r)||r);t.default=N},604:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u,d=o(22),c=a(d),f=o(1),h=a(f),p=o(9),_=a(p),S=o(2),g=a(S),m=o(3),C=a(m),w=o(4),v=a(w),T=o(5),M=a(T),b=o(0),y=a(b),D=o(568),O=a(D),L=o(16),E=a(L),B=o(39),P=a(B),R=o(40),A=a(R),F=o(570),I=a(F),W=o(569),N=a(W),V=o(571),Y=a(V),k=o(605),j=a(k),U="M",x=function(e){return"is"+e+"Select"},J=function(e){var t={};return e.forEach(function(e){t[x(e.id)]=!0}),t},q=(n=A.default.withToolbar,i=A.default.withValidationLoad,l=A.default.withLoad,n(r=i(r=l(r=(0,I.default)((u=s=function(e){function t(e){(0,g.default)(this,t);var o=(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._toggleStateBy=function(e){o.setState(function(t){return(0,_.default)({},e,!t[e])})},o._isCategory=function(){return N.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=void 0;var e=o.props.dfProps,t=void 0===e?{}:e,a=t.mapFrequency,n=t.mapDateDf,i=a||U,l=(0,O.default)(i,n);o.setState((0,h.default)({isShowDate:!0},l))},o._hSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._hSelectDate=function(e){o.date=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){for(var e=o.props,t=e.msgOnNotSelected,a=e.selectProps,n=a.length,i=[],l=o._isCategory()?1:0;l<n;l++)o._items[l]||i.push(t(a[l].caption));return i.isValid=0===i.length,i},o._createLoadOption=function(){var e=o.chartType,t=o.colorComp,a=o.dialogOptions,n=t?t.getColor():void 0,i=o._getDateWithForDate(),l=N.default.isCategory(e),r=l?o._items.slice(1):o._items;return o.props.loadFn(o.props,{items:r,dialogOptions:a,chartType:e,seriaColor:n,isCategory:l,date:i})},o._hClose=function(){o._handleWithValidationClose()},o._hSelect=function(e,t,a){a&&(a.id=e),o._items[t]=a},o._refSelect=function(e,t){o._compSelect[e]=t},o._renderSelects=function(e,t,a){return e.map(function(e,n){var i=e.id,l=(0,c.default)(e,["id"]),r=o.state[x(i)];return y.default.createElement(E.default.ShowHide,{key:i,isShow:r},y.default.createElement(E.default.SelectWithLoad,(0,h.default)({},l,{ref:o._refSelect.bind(null,i),isShow:t,isShowLabels:a,onSelect:o._hSelect.bind(null,i,n)})))})},o._items=[],o._compSelect={},o.date=void 0,o.chartType=void 0,o._menuMore=(0,P.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o._toggleChart=o._toggleStateBy.bind(o,"isShowChart"),o._toggleDate=o._toggleStateBy.bind(o,"isShowDate"),o.toolbarButtons=o._createType2WithToolbar(e,{noDate:!0,isOptions:!0,isToggle:!0}),o._commandButtons=o._crCommandsWithLoad(o),o._chartOptions=N.default.crOptions(e),o.state=(0,h.default)({isToolbar:!0,isOptions:!1,isToggle:!1,isShowLabels:!0,isShowChart:!0,isShowDate:!1},(0,O.default)("EMPTY"),{validationMessages:[]},J(e.selectProps)),o}return(0,M.default)(t,e),(0,C.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=e.selectProps,l=e.noDate,r=e.noForDate,s=this.state,u=s.isToolbar,d=s.isOptions,c=s.isToggle,f=s.isShowLabels,h=s.isShowChart,p=s.isShowDate,_=s.dateDefault,S=s.dateOptions,g=s.validationMessages;return y.default.createElement(E.default.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._hClose},y.default.createElement(E.default.Toolbar,{isShow:u,buttons:this.toolbarButtons}),y.default.createElement(Y.default,{isShow:d,toggleOption:this._toggleOptionWithToolbar,onClose:this._hideOptionsWithToolbar}),y.default.createElement(j.default,{isShow:c,noForDate:r,selectProps:i,isShowChart:h,isShowDate:p,crIsId:x,onToggle:this._toggleStateBy,toggleChart:this._toggleChart,toggleDate:this._toggleDate,onClose:this._hideToggleWithToolbar}),this._renderSelects(i,o,f),y.default.createElement(E.default.ShowHide,{isShow:h},y.default.createElement(E.default.RowChart,{isShowLabels:f,options:this._chartOptions,onSelectChart:this._hSelectChartType,onRegColor:this._onRegColor})),!l&&y.default.createElement(E.default.ShowHide,{isShow:p},y.default.createElement(E.default.RowInputSelect,{isShowLabels:f,caption:"For Date",placeholder:_,options:S,onSelect:this._hSelectDate})),y.default.createElement(E.default.ValidationMessages,{validationMessages:g}))}}]),t}(b.Component),s.defaultProps={selectProps:[]},r=u))||r)||r)||r)||r);t.default=q},605:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=a(n),l=o(0),r=a(l),s=o(36),u=a(s),d=o(16),c=a(d),f=o(578),h=a(f),p=function(e){var t=e.selectProps,o=e.crIsId,a=e.onToggle;return t.map(function(e){return r.default.createElement(c.default.RowCheckBox,{key:e.id,initValue:!0,rootStyle:h.default.ROW_CB,checkedColor:"#1b75bb",caption:e.caption,onToggle:function(){return a(o(e.id))}})})},_=function(e){var t=e.isShow,o=e.style,a=e.className,n=void 0===a?h.default.CL:a,l=e.selectProps,s=void 0===l?[]:l,d=e.isShowDate,f=e.isShowChart,_=e.noForDate,S=e.crIsId,g=e.onToggle,m=e.toggleChart,C=e.toggleDate,w=e.onClose;return r.default.createElement(u.default,{isShow:t,style:(0,i.default)({},h.default.ROOT,o),className:n,onClose:w},r.default.createElement(p,{selectProps:s,crIsId:S,onToggle:g}),r.default.createElement(c.default.RowCheckBox,{key:"isShowChart",value:f,rootStyle:h.default.ROW_CB,checkedColor:"#1b75bb",caption:"Chart",onToggle:m}),!_&&r.default.createElement(c.default.RowCheckBox,{key:"isForDate",value:d,rootStyle:h.default.ROW_CB,checkedColor:"#1b75bb",caption:"For Date",onToggle:C}))};t.default=_},606:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s=o(1),u=a(s),d=o(2),c=a(d),f=o(3),h=a(f),p=o(4),_=a(p),S=o(5),g=a(S),m=o(0),C=a(m),w=o(568),v=a(w),T=o(16),M=a(T),b=o(39),y=a(b),D=o(40),O=a(D),L=o(97),E=a(L),B=o(569),P=a(B),R=o(607),A=a(R),F="M",I="Dims for request haven't been loaded.\nClose, open dialog for trying load again.",W={SPINNER_LOADING:{position:"relative",display:"block",textAlign:"middle",margin:"16px auto 32px",width:"32px",height:"32px"},SPINNER_FAILED:{borderColor:"#f44336",animation:"none"}},N=function(e,t,o){return t!==e&&!e.isShow&&t.isShow&&o.isLoadFailed},V=function(e){return function(t){return t.id!==e}},Y=(n=O.default.withToolbar,i=O.default.withValidationLoad,l=O.default.withLoad,n(r=i(r=l(r=function(e){function t(e){(0,c.default)(this,t);var o=(0,_.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._loadDims=function(){var e=o.props,t=e.proxy,a=e.baseMeta,n=e.dims,i=e.timeId,l=e.dfProps,r=void 0===l?{}:l,s=e.noTime,u=r.dfId;(0,A.default)({id:u,proxy:t,baseMeta:a,dims:n,noTime:s,timeId:i}).then(function(e){var t=e.configs,a=e.errMsg;if(t){var n=t.filter(V(i));o._selectOptions=n.map(function(e){return e.options}),o.setState({isLoading:!1,isLoadFailed:!1,configs:n})}else o.setState({isLoading:!1,isLoadFailed:!0,validationMessages:[a]})})},o._isCategory=function(){return P.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=null;var e=o._items[1]?o.props.mapFrequency?o.props.mapFrequency:o.two.mapFrequency?o.two.mapFrequency:F:null,t=o.props.mapDateDf,a=e?(0,v.default)(e,t):(0,v.default)("Y",t);o.setState((0,u.default)({isShowDate:!0},a))},o._handleLoad=function(){var e=o._crValidationMessages();if(0===e.length){var t=o._items,a=o.chartType,n=o.colorComp,i=o.date,l=n?n.getColor():void 0,r=o.state.dateDefault,s=o.props.loadFn(o.props,{chartType:a,seriaColor:l,date:i,dateDefault:r,items:t,selectOptions:o._selectOptions});o.props.onLoad(s)}o.setState({validationMessages:e})},o._crValidationMessages=function(){var e=[],t=o.state,a=t.configs;return t.isLoadFailed?e.push(I):a.forEach(function(t,a){var n=t.caption;o._items[a]||e.push(o.props.msgOnNotSelected(n))}),e},o._handleClose=function(){o._handleWithValidationClose()},o._hSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._fSelect=function(e){return function(t){this._items[e]=t}},o._hSelectDate=function(e){o.date=e},o._renderSelectInputs=function(){var e=o.state,t=e.isShowLabels;return e.configs.map(function(e,a){var n=e.id,i=e.caption,l=e.options,r={isShowLabels:t,caption:i,options:l};return C.default.createElement(M.default.RowInputSelect,(0,u.default)({key:n},r,{onSelect:o._fSelect(a).bind(o)}))})},o._menuMore=(0,y.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e),o._commandButtons=o._crCommandsWithLoad(o),o._chartOptions=P.default.crOptions(e),o._items=[],o._selectOptions=[],o.state=(0,u.default)({isToolbar:!0,isShowLabels:!0,isLoading:!0,isLoadFailed:!1,isShowDate:!1},(0,v.default)("EMPTY"),{validationMessages:[]}),o}return(0,g.default)(t,e),(0,h.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"componentDidMount",value:function(){this._loadDims()}},{key:"componentDidUpdate",value:function(e){N(e,this.props,this.state)&&(this.setState({isLoading:!0,isLoadFailed:!1}),this._loadDims())}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=this.state,l=i.isToolbar,r=i.isShowLabels,s=i.isLoading,d=i.isLoadFailed,c=i.isShowDate,f=i.dateDefault,h=i.dateOptions,p=i.validationMessages,_=d?(0,u.default)({},W.SPINNER_LOADING,W.SPINNER_FAILED):W.SPINNER_LOADING;return C.default.createElement(M.default.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._handleClose},C.default.createElement(M.default.Toolbar,{isShow:l,buttons:this.toolbarButtons}),(s||d)&&C.default.createElement(E.default,{style:_}),!s&&!d&&this._renderSelectInputs(),C.default.createElement(M.default.RowChart,{isShowLabels:r,options:this._chartOptions,onSelectChart:this._hSelectChartType,onRegColor:this._onRegColor}),C.default.createElement(M.default.ShowHide,{isShow:c},C.default.createElement(M.default.RowInputSelect,{isShowLabels:r,caption:"For Date",placeholder:f,options:h,onSelect:this._hSelectDate})),C.default.createElement(M.default.ValidationMessages,{validationMessages:p}))}}]),t}(m.Component))||r)||r)||r);t.default=Y},607:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(9),i=a(n),l=o(1),r=a(l),s=o(50),u=a(s),d={SELECTION_ALL:{selection:{filter:"all",values:["*"]}},TID_DIM:{code:"Tid",selection:{filter:"top",values:["1"]}}},c=function(e,t,o){return e?""+e+t+"/"+o:t+"/"+o},f=function(e){return(0,r.default)({code:e},d.SELECTION_ALL)},h=function(e,t){var o=e.map(function(e){return f(e.v)});return t||o.push(d.TID_DIM),{method:"POST",body:JSON.stringify({query:o,response:{format:"json-stat"}})}},p=function(e,t){for(var o=[],a=t.v,n=e.Dimension(a),l=n.length,r=0;r<l;r++)o.push({caption:n.Category(r).label,slice:(0,i.default)({},a,n.id[r])});return o},_=!1,S=void 0,g=void 0,m=function(e){return function(){e===S&&(_=!1)}},C=function(e){S=e,g=setTimeout(m(e),5e3),_=!0},w=function(){_=!1,clearTimeout(g)},v=function(e){var t=e.proxy,o=e.baseMeta,a=e.id,n=e.dims,i=e.noTime;if(_)return Promise.resolve({errMsg:"Another dims are still loading"});var l=c(t,o,a),r=h(n,i);return C(l),fetch(l,r).then(function(e){var t=e.status;if(t>=200&&t<400)return e.json();if(403===t)throw Error("HTTP Code 403: Forbitten.\nMaybe, require API key.");throw Error("HTTP Code: "+t)}).then(function(e){var t=(0,u.default)(e).Dataset(0),o=n.map(function(e){return{id:e.v,caption:e.c,options:p(t,e)}});return w(),{configs:o}}).catch(function(e){return w(),{errMsg:e.message}})};t.default=v}});