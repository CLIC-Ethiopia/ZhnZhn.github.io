(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[57],{8661:(o,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>J});var n,i=e(7154),r=e.n(i),a=e(1506),s=e.n(a),l=e(5354),h=e.n(l),c=e(5893),u=e(9679),d=e(82),p=d.Z.Decor,_=d.Z.crMenuMore,S="SMA",f=30,m=501,T="hasSecondYAxis",b=function(o){return""!==String(o).trim()},w=function(o,t){return function(e){if(""===String(e).trim())return!0;var n=parseInt(String(e).trim(),10);return!Number.isNaN(n)&&n>o&&n<t}},g=w(0,201),D=w(250,2500),C=function(o,t){switch(o){case"MACD":return"MACD(12, 24, 9)";case"STOCH":return"STOCH(5, 3, 3, SMA)";default:return o+" ("+t+")"}};const v=(0,p.withToolbar)(n=(0,p.withLoad)(n=(0,p.withInitialState)(n=function(o){function t(t){var e;return(e=o.call(this,t)||this)._handleSelectOne=function(o){e.indicator=o},e._handleLoad=function(){var o=e.periodComp.isValid()&&""!==e.periodComp.getValue()?e.periodComp.getValue():f,t=e.forDaysComp.isValid()&&""!==e.forDaysComp.getValue()?e.forDaysComp.getValue():m,n=e.ticketComp.isValid()?e.ticketComp.getValue():void 0,i=e.indicator?e.indicator.value:S,r={loadId:"AL",indicator:i,ticket:n,period:o,forDays:t,value:C(i,o),hasSecondYAxis:e.hasSecondYAxis};e.props.onLoad(r)},e._handleClose=function(){e.props.onClose()},e._refTicket=function(o){e.ticketComp=o},e._refPeriod=function(o){e.periodComp=o},e._refForDays=function(o){e.forDaysComp=o},e._handleMode=function(o,t){e[o]=t},e._menuMore=_(s()(e),{toggleToolBar:e._toggleWithToolbar,onAbout:e._clickInfoWithToolbar}),e.toolbarButtons=e._createType2WithToolbar(t,{noDate:!0,isShowOptions:!0}),e._commandButtons=e._crCommandsWithLoad(s()(e)),e.state=r()({},e._isWithInitialState(),{isShowOptions:!1}),e}h()(t,o);var e=t.prototype;return e.shouldComponentUpdate=function(o,t){return this.props===o||this.props.isShow!==o.isShow},e.render=function(){var o=this.props,t=o.isShow,e=o.caption,n=o.oneURI,i=o.oneJsonProp,r=o.oneCaption,a=o.onShow,s=o.onFront,l=this.state,h=l.isToolbar,u=l.isShowLabels,p=l.isShowOptions;return(0,c.jsxs)(d.Z.DraggableDialog,{isShow:t,caption:e,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:s,onClose:this._handleClose,children:[(0,c.jsx)(d.Z.Toolbar,{isShow:h,buttons:this.toolbarButtons}),(0,c.jsx)(d.Z.SelectWithLoad,{isShow:t,isShowLabels:u,uri:n,jsonProp:i,caption:r,optionNames:"Items",onSelect:this._handleSelectOne}),(0,c.jsx)(d.Z.RowPattern,{ref:this._refTicket,isShowLabels:u,caption:"Ticket",placeholder:"Nyse or Nasdaq Ticket",onTest:b,errorMsg:"Not Empty"}),(0,c.jsxs)(d.Z.ShowHide,{isShow:p,children:[(0,c.jsx)(d.Z.RowPattern,{ref:this._refPeriod,isShowLabels:u,caption:"Period",placeholder:"Default: "+f,onTest:g,errorMsg:"Number in range 1-200"}),(0,c.jsx)(d.Z.RowPattern,{ref:this._refForDays,isShowLabels:u,caption:"For Days",placeholder:"Default: "+m+" (2 Years)",onTest:D,errorMsg:"Number in range 250-2500"})]}),(0,c.jsx)(d.Z.RowCheckBox,{initValue:!1,caption:"Add Seria with Second YAxis",onCheck:this._handleMode.bind(null,T,!0),onUnCheck:this._handleMode.bind(null,T,!1)})]})},t}(u.Component))||n)||n)||n;var I,A=d.Z.Decor,Z=d.Z.crMenuMore,y="15min",M="compact",L=function(o){return Boolean((""+o).trim())},k={INTRADAY:{caption:"Interval",placeholder:"Default: 15min",options:[{caption:"1 min",value:"1min"},{caption:"5 min",value:"5min"},{caption:"15 min",value:"15min"},{caption:"30 min",value:"30min"},{caption:"60 min",value:"60min"}]},DAILY:{caption:"Period",placeholder:"Default: Compact",options:[{caption:"Compact (100 days)",value:"compact"},{caption:"Full (of 20+ years, about 1MB)",value:"full"}]}},x={DAILY:{indicator:"TIME_SERIES_DAILY",interval:"Daily"},DAILY_ADJUSTED:{indicator:"TIME_SERIES_DAILY_ADJUSTED",interval:"Daily"}},B=function(o,t){return o?o.value:t};const j=(0,A.withToolbar)(I=(0,A.withLoad)(I=(0,A.withInitialState)(I=function(o){function t(t){var e;(e=o.call(this,t)||this)._handleSelectInterval=function(o){e.interval=o},e._handleLoad=function(){var o=e.props,t=o.dfT,n=o.dataSource,i=o.loadId,a=o.dfSubId,s=e.ticketComp.isValid()?e.ticketComp.getValue():void 0,l=function(o,t){if("INTRADAY"===o)return{indicator:"TIME_SERIES_INTRADAY",interval:B(t,y),dfT:o};var e=x[o]||x.DAILY;return r()({},e,{outputsize:B(t,M),dfT:o})}(t,e.interval),h=(s||"")+" ("+l.interval+")";e.props.onLoad(r()({loadId:i,dfSubId:a},l,{ticket:s,value:h,hasDividend:e._hasDividend,hasFilterZero:e._hasFilterZero,dataSource:n}))},e._toggleDividend=function(){e._hasDividend=!e._hasDividend},e._toggleFilterZero=function(){e._hasFilterZero=!e._hasFilterZero},e._handleClose=function(){e.props.onClose()},e._refTicket=function(o){e.ticketComp=o};var n=t.dfT;return e._isDaily=-1!==n.indexOf("DAILY"),e._isDailyAdj=function(o){return"DAILY_ADJUSTED"===o}(n),e._hasDividend=!1,e._hasFilterZero=!1,e._menuMore=Z(s()(e),{toggleToolBar:e._toggleWithToolbar,onAbout:e._clickInfoWithToolbar}),e.toolbarButtons=e._createType2WithToolbar(t,{noDate:!0,isToggleOptions:e._isDaily}),e._commandButtons=e._crCommandsWithLoad(s()(e)),e.state=r()({},e._isWithInitialState(),{isToggleOptions:!1}),e}h()(t,o);var e=t.prototype;return e.shouldComponentUpdate=function(o,t){return this.props===o||this.props.isShow!==o.isShow},e.render=function(){var o,t=this.props,e=t.isShow,n=t.caption,i=t.onShow,a=t.onFront,s=t.dfT,l=this.state,h=l.isToolbar,u=l.isShowLabels,p=l.isToggleOptions;return(0,c.jsxs)(d.Z.DraggableDialog,{isShow:e,caption:n,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:i,onFront:a,onClose:this._handleClose,children:[(0,c.jsx)(d.Z.Toolbar,{isShow:h,buttons:this.toolbarButtons}),(0,c.jsx)(d.Z.RowPattern,{ref:this._refTicket,isShowLabels:u,caption:"Ticket",placeholder:"Nyse or Nasdaq Ticket",onTest:L,errorMsg:"Not Empty"}),(0,c.jsx)(d.Z.RowInputSelect,r()({isShowLabels:u},(o=s,k[o]||k.DAILY),{onSelect:this._handleSelectInterval})),this._isDaily&&(0,c.jsxs)(d.Z.ShowHide,{isShow:p,children:[this._isDailyAdj&&(0,c.jsx)(d.Z.RowCheckBox,{initValue:!1,caption:"With Dividend History",onToggle:this._toggleDividend}),(0,c.jsx)(d.Z.RowCheckBox,{initValue:!1,caption:"Filter Zero Values",onToggle:this._toggleFilterZero})]})]})},t}(u.Component))||I)||I)||I;var W,R=d.Z.Decor,E=d.Z.crMenuMore,F={ROW_TEXT:{paddingRight:16}};const O=(0,R.withToolbar)(W=(0,R.withLoad)(W=function(o){function t(t){var e;return(e=o.call(this,t)||this)._handleLoad=function(){var o=e.props,t=o.loadId,n=o.dfSubId;(0,o.onLoad)({loadId:t,dfSubId:n,indicator:"SECTOR"})},e._handleClose=function(){e.props.onClose()},e._menuMore=E(s()(e),{toggleToolBar:e._toggleWithToolbar,onAbout:e._clickInfoWithToolbar}),e.toolbarButtons=e._createType2WithToolbar(t,{noDate:!0,noLabels:!0}),e._commandButtons=e._crCommandsWithLoad(s()(e)),e.state={isToolbar:!0},e}h()(t,o);var e=t.prototype;return e.shouldComponentUpdate=function(o,t){return this.props===o||this.props.isShow!==o.isShow},e.render=function(){var o=this.props,t=o.isShow,e=o.caption,n=o.onShow,i=o.onFront,r=this.state.isToolbar;return(0,c.jsxs)(d.Z.DraggableDialog,{isShow:t,caption:e,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:n,onFront:i,onClose:this._handleClose,children:[(0,c.jsx)(d.Z.Toolbar,{isShow:r,buttons:this.toolbarButtons}),(0,c.jsx)(d.Z.Row.Text,{styleRoot:F.ROW_TEXT,caption:"AV:",text:"Sector Performances"})]})},t}(u.Component))||W)||W;var Y,V=e(1291),N=d.Z.Decor,P=d.Z.crMenuMore,U="API key from Alpha Vantage is required",H="Without API Key";const J={Indicator:v,Intraday:j,Sector:O,Search:(0,N.withToolbar)(Y=(0,N.withInitialState)(Y=function(o){function t(t){var e;return(e=o.call(this,t)||this)._crUrlOptions=function(){var o=e.props,t=o.getKey,n=o.loadId,i=o.onError,r=t(n);if(r)return{apiKey:r};i(U,H)},e._handleClose=function(){e.props.onClose()},e._menuMore=P(s()(e),{toggleToolBar:e._toggleWithToolbar,onAbout:e._clickInfoWithToolbar}),e.toolbarButtons=e._createType2WithToolbar(t,{noDate:!0}),e._searchApi=r()({},V.Z,{crUrlOptions:e._crUrlOptions,onError:e.props.onError}),e.state=r()({},e._isWithInitialState()),e}h()(t,o);var e=t.prototype;return e.shouldComponentUpdate=function(o,t){return this.props===o||this.props.isShow!==o.isShow},e.render=function(){var o=this.props,t=o.isShow,e=o.caption,n=o.onFront,i=this.state,r=i.isToolbar,a=i.isShowLabels;return(0,c.jsxs)(d.Z.DraggableDialog,{isShow:t,caption:e,menuModel:this._menuMore,onFront:n,onClose:this._handleClose,children:[(0,c.jsx)(d.Z.Toolbar,{isShow:r,buttons:this.toolbarButtons}),(0,c.jsx)(d.Z.RowInputSearch,{isShowLabels:a,caption:"Token",searchApi:this._searchApi})]})},t}(u.Component))||Y)||Y}}}]);