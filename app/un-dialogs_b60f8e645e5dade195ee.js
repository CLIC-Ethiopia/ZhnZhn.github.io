"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[673],{5780:(e,o,t)=>{t.r(o),t.d(o,{default:()=>T});var a=t(9999),l=t(6016),r=t(1926),s=t(5868),n=t(7286);const i=()=>{const[e,o]=(0,r.Z)(!1),t=(0,a.I4)((()=>{o(!1)}),[o]);return[e,o,t]};var c=t(4868),p=t(8190),h=t(1818),u=t(1312),d=t(5893);const S=e=>{let{isShow:o,configs:t,onClose:a}=e;return(0,d.jsx)(p.Z,{isShow:o,className:u.xx,style:u.oc,onClose:a,children:(t||[]).map((e=>(0,d.jsx)(h.Z,{style:u.VK,color:u.MR,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},g=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],w=g[0],Z={c:"All",v:"all"},v=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],x=v[0],m=(0,l.Z)((e=>{const{isShow:o,caption:t,oneURI:l,twoURI:p,tpURI:h,msgOnNotSelected:u,toTopLayer:m,onAbout:j,loadFn:A,onLoad:b,onShow:L,onClose:f}=e,[y,C,I]=i(),[M,T,V,P,R,D,W]=(0,n.Z)({onAbout:j,onClose:f,toggleInputs:C}),[H,E]=(0,r.Z)(!0),[F,Q]=(0,r.Z)(!1),[O,U]=(0,r.Z)(!0),X=(0,a.sO)(),q=(0,a.sO)(),[_,k]=(0,s.Z)(),[N,B]=(0,s.Z)(),[G,K]=(0,s.Z)(),[z,J]=(0,s.Z)(),Y=(0,a.I4)((()=>{const o=(0,a.eA)(q),{msg:t=[]}=o.getValidation(),l=k()||Z,r=l.v,s=K(),n=s&&s.v,i=J()||x;if("all"===r&&"all"===n&&t.push("Query All to All is too complex"),"all"===r&&"M"===i.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:r}=o.getValues();b(A(e,{one:l,two:t,three:r,tradeFlow:B()||w,tradePartner:s,freq:i,tradePartners:(0,a.CL)(X)}))}D(t)}),[]);return(0,d.jsxs)(c.Z.DraggableDialog,{isShow:o,caption:t,menuModel:V,toTopLayer:m,onLoad:Y,onShow:L,onClose:W,children:[(0,d.jsx)(c.Z.Toolbar,{isShow:M,buttons:P}),(0,d.jsx)(S,{isShow:y,configs:[["Partner",F,Q],["Heading",H,E],["Trade Flow",O,U]],onClose:I}),(0,d.jsx)(c.Z.SelectWithLoad,{isShow:o,isShowLabels:T,uri:l,caption:"Reporter",placeholder:"Default: All",onSelect:_}),(0,d.jsx)(c.Z.ShowHide,{isShow:F,children:(0,d.jsx)(c.Z.SelectWithLoad,{ref:X,isShowLabels:T,uri:h,caption:"Partner",placeholder:"Default: World",onSelect:G})}),(0,d.jsx)(c.Z.ShowHide,{isShow:H,children:(0,d.jsx)(c.Z.SelectOneTwo,{ref:q,isShow:o,isShowLabels:T,uri:p,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:u})}),(0,d.jsx)(c.Z.ShowHide,{isShow:O,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:T,caption:"Trade Flow",placeholder:"Default: Export Value",propCaption:"c",options:g,onSelect:N})}),(0,d.jsx)(c.Z.ShowHide,{isShow:!1,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:T,caption:"Frequency",placeholder:"Default: Annual",propCaption:"c",options:v})}),(0,d.jsx)(c.Z.ValidationMessages,{validationMessages:R})]})})),j=[{c:"Total of trade partners",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],A=j[0],b=(()=>{const e=[];for(let o=0;o<22;o++){const t=""+(2022-o);e.push({c:t,v:t})}return e})(),L=b[1],f=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}}],y=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],C=f[0],I={c:"World",v:"0"},M={c:"Annual",v:"A"},T={UnDialog5:m,UnDialogAgg:(0,l.Z)((e=>{const{isShow:o,caption:t,oneURI:l,tpURI:p,msgOnNotSelected:h,toTopLayer:u,onAbout:g,loadFn:w,onLoad:Z,onShow:v,onClose:x}=e,m=(0,a.sO)(),[T,V,P]=i(),[R,D,W,H,E,F,Q]=(0,n.Z)({onAbout:g,onClose:x,toggleInputs:V}),[O,U]=(0,r.Z)(!0),[X,q]=(0,r.Z)(!1),[_,k]=(0,s.Z)(),[N,B]=(0,s.Z)(),[G,K]=(0,s.Z)(),[z,J]=(0,s.Z)(),[Y,$]=(0,s.Z)(),[ee,oe]=(0,s.Z)(),te=(0,a.I4)((e=>{var o,t;G(e),q((o=B()||I,t=e||A,!("all"!==o.v&&"total"===t.v)))}),[]),ae=(0,a.I4)((()=>{const o=k(),t=B()||I,l=K()||A,r=[];var s;o||r.push(h("Reporter")),(o&&"all"===o.v||(s=l,"all"===t.v&&"total"!==s.v))&&r.push("Query All is too complex"),0===r.length&&Z(w(e,{one:o,three:l,tradeFlow:J()||C,tradePartner:t,period:oe()||L,chart:$(),freq:M,tradePartners:(0,a.CL)(m)})),F(r)}),[]);return(0,d.jsxs)(c.Z.DraggableDialog,{isShow:o,caption:t,menuModel:W,toTopLayer:u,onLoad:ae,onShow:v,onClose:Q,children:[(0,d.jsx)(c.Z.Toolbar,{isShow:R,buttons:H}),(0,d.jsx)(S,{isShow:T,configs:[["Trade Flow",O,U]],onClose:P}),(0,d.jsx)(c.Z.SelectWithLoad,{isShow:o,isShowLabels:D,uri:l,caption:"Reporter",onSelect:_}),(0,d.jsx)(c.Z.ShowHide,{isShow:O,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:D,caption:"Trade Flow",placeholder:"Default: Export Value",propCaption:"c",options:f,onSelect:z})}),(0,d.jsx)(c.Z.ShowHide,{isShow:!1,children:(0,d.jsx)(c.Z.SelectWithLoad,{ref:m,isShowLabels:D,uri:p,caption:"Partner",placeholder:"Default: World"})}),(0,d.jsxs)(c.Z.ShowHide,{isShow:!0,children:[(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:D,caption:"Aggregation",placeholder:"Default: Total of trade partners",propCaption:"c",options:j,onSelect:te}),(0,d.jsxs)(c.Z.ShowHide,{isShow:!0,children:[(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:D,caption:"Chart",placeholder:"Default: TreeMap (60,90)",propCaption:"c",options:y,onSelect:Y}),(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:D,caption:"Period",placeholder:"Default: 2021",propCaption:"c",options:b,onSelect:ee})]})]}),(0,d.jsx)(c.Z.ValidationMessages,{validationMessages:E})]})}))}}}]);