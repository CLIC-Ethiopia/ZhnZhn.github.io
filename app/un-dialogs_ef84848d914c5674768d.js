"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[673],{9637:(e,o,t)=>{t.r(o),t.d(o,{default:()=>q});var r=t(1768),a=t(6016),l=t(1926),s=t(5868),n=t(7286);const i=()=>{const[e,o]=(0,l.Z)(!1),t=(0,r.I4)((()=>{o(!1)}),[o]);return[e,o,t]};var c=t(4868),p=t(8190),h=t(1818),u=t(1312),d=t(5893);const S=e=>{let{isShow:o,configs:t,onClose:r}=e;return(0,d.jsx)(p.Z,{isShow:o,className:u.xx,style:u.oc,onClose:r,children:(t||[]).map((e=>(0,d.jsx)(h.Z,{style:u.VK,color:u.MR,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},g=function(e,o){void 0===o&&(o=0);const t=e[o];return[t,(r=t,`Default: ${r.c}`)];var r},w=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],[v,Z]=g(w),[x={c:"All",v:"all"},m]=g([{c:"All",v:"all"}]),y=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],[I,L]=g(y),j=(0,a.Z)((e=>{const{isShow:o,caption:t,oneURI:a,twoURI:p,tpURI:h,msgOnNotSelected:u,toTopLayer:g,onAbout:j,loadFn:A,onLoad:b,onShow:C,onClose:T}=e,[f,M,P]=i(),[V,R,W,E,H,Q,O]=(0,n.Z)({onAbout:j,onClose:T,toggleInputs:M}),[F,D]=(0,l.Z)(!0),[N,U]=(0,l.Z)(!1),[X,q]=(0,l.Z)(!0),_=(0,r.sO)(),k=(0,r.sO)(),[G,J]=(0,s.Z)(),[B,K]=(0,s.Z)(),[$,z]=(0,s.Z)(),[Y,ee]=(0,s.Z)(),oe=(0,r.I4)((()=>{const o=(0,r.eA)(k),{msg:t=[]}=o.getValidation(),a=J()||x,l=a.v,s=z(),n=s&&s.v,i=ee()||I;if("all"===l&&"all"===n&&t.push("Query All to All is too complex"),"all"===l&&"M"===i.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:l}=o.getValues();b(A(e,{one:a,two:t,three:l,tradeFlow:K()||v,tradePartner:s,freq:i,tradePartners:(0,r.CL)(_)}))}Q(t)}),[]);return(0,d.jsxs)(c.Z.DraggableDialog,{isShow:o,caption:t,menuModel:W,toTopLayer:g,onLoad:oe,onShow:C,onClose:O,children:[(0,d.jsx)(c.Z.Toolbar,{isShow:V,buttons:E}),(0,d.jsx)(S,{isShow:f,configs:[["Partner",N,U],["Heading",F,D],["Trade Flow",X,q]],onClose:P}),(0,d.jsx)(c.Z.SelectWithLoad,{isShow:o,isShowLabels:R,uri:a,caption:"Reporter",placeholder:m,onSelect:G}),(0,d.jsx)(c.Z.ShowHide,{isShow:N,children:(0,d.jsx)(c.Z.SelectWithLoad,{ref:_,isShowLabels:R,uri:h,caption:"Partner",placeholder:"Default: World",onSelect:$})}),(0,d.jsx)(c.Z.ShowHide,{isShow:F,children:(0,d.jsx)(c.Z.SelectOneTwo,{ref:k,isShow:o,isShowLabels:R,uri:p,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:u})}),(0,d.jsx)(c.Z.ShowHide,{isShow:X,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:R,caption:"Trade Flow",placeholder:Z,propCaption:"c",options:w,onSelect:B})}),(0,d.jsx)(c.Z.ShowHide,{isShow:!1,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:R,caption:"Frequency",placeholder:L,propCaption:"c",options:y})}),(0,d.jsx)(c.Z.ValidationMessages,{validationMessages:H})]})})),A=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],b=[...A,{c:"Spline",v:"SPLINE"}],[C,T]=g(A),f=(e,o)=>"0"===e.v&&"TOTAL"===o.v?b:A,M=(e,o)=>{const[t,a]=(0,s.Z)(C,C),[l,n]=(0,r.eJ)(!0),i=(0,r.I4)((e=>{t(e),n((()=>(e=>!(e&&"SPLINE"===e.v))(e)))}),[]),[c,p]=(0,r.eJ)(!0),[h,u]=(0,r.eJ)((()=>f(e(),o()))),d=(0,r.I4)((()=>{const r=e(),a=o();var l;p((l=a,!("0"!==r.v&&"TOTAL"===l.v))),u((e=>{const o=f(r,a);return o!==e&&(t(C),n(!0)),o}))}),[]);return[T,c,l,d,i,a,h]},P=[{c:"Total of trade partner",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],[V,R]=g(P),W=(()=>{const e=[];for(let o=0;o<22;o++){const t=""+(2022-o);e.push({c:t,v:t})}return e})(),[E,H]=g(W,1),Q=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Calculated Export Value by Reporter Imports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Calculated Import Value by Reporter Exports",v:{rg:"M",measure:"primaryValue",tfType:"t1"}}],[O,F]=g(Q),[D={c:"World",v:"0"},N]=g([{c:"World",v:"0"}]),U={c:"Annual",v:"A"},X=(0,a.Z)((e=>{const{isShow:o,caption:t,oneURI:a,tpURI:p,msgOnNotSelected:h,toTopLayer:u,onAbout:g,loadFn:w,onLoad:v,onShow:Z,onClose:x}=e,m=(0,r.sO)(),[y,I,L]=i(),[j,A,b,C,T,f,X]=(0,n.Z)({onAbout:g,onClose:x,toggleInputs:I}),[q,_]=(0,l.Z)(!0),[k,G]=(0,l.Z)(),[J,B]=(0,s.Z)(),[K,$]=(0,s.Z)(D,D),[z,Y]=(0,s.Z)(V,V),[ee,oe,te,re,ae,le,se]=M($,Y),[ne,ie]=(0,s.Z)(O,O),[ce,pe]=(0,s.Z)(E,E),he=(0,r.I4)((e=>{K(e),re()}),[]),ue=(0,r.I4)((e=>{z(e),re()}),[]),de=(0,r.I4)((()=>{const o=B(),t=$(),a=ie(),l=Y(),s=le(),n=[];var i;o||n.push(h("Reporter")),(o&&"all"===o.v||(i=l,"all"===t.v&&"total"!==i.v))&&n.push("Query All is too complex"),o&&"0"===o.v&&"AG2"===l.v&&n.push("Query World by AG2 is too complex"),"t1"!==a.v.tfType||"0"===t.v&&"SPLINE"!==s.v||n.push("Query trade flow calculated values is only for category charts of trade partner World"),0===n.length&&v(w(e,{one:o,three:l,tradeFlow:a,tradePartner:t,period:pe(),chart:s,freq:U,tradePartners:(0,r.CL)(m)})),f(n)}),[]);return(0,d.jsxs)(c.Z.DraggableDialog,{isShow:o,caption:t,menuModel:b,toTopLayer:u,onLoad:de,onShow:Z,onClose:X,children:[(0,d.jsx)(c.Z.Toolbar,{isShow:j,buttons:C}),(0,d.jsx)(S,{isShow:y,configs:[["Trade Flow",q,_],["Partner",k,G]],onClose:L}),(0,d.jsx)(c.Z.SelectWithLoad,{isShow:o,isShowLabels:A,uri:a,caption:"Reporter",onSelect:J}),(0,d.jsx)(c.Z.ShowHide,{isShow:q,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:A,caption:"Trade Flow",placeholder:F,propCaption:"c",options:Q,onSelect:ne})}),(0,d.jsx)(c.Z.ShowHide,{isShow:k,children:(0,d.jsx)(c.Z.SelectWithLoad,{ref:m,isShowLabels:A,uri:p,caption:"Partner",placeholder:N,onSelect:he})}),(0,d.jsxs)(c.Z.ShowHide,{isShow:!0,children:[(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:A,caption:"Aggregation",placeholder:R,propCaption:"c",options:P,onSelect:ue}),(0,d.jsxs)(c.Z.ShowHide,{isShow:oe,children:[(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:A,caption:"Chart",placeholder:ee,propCaption:"c",options:se,onSelect:ae}),(0,d.jsx)(c.Z.ShowHide,{isShow:te,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:A,caption:"Period",placeholder:H,propCaption:"c",options:W,onSelect:ce})})]})]}),(0,d.jsx)(c.Z.ValidationMessages,{validationMessages:T})]})})),q={UnDialog5:j,UnDialogAgg:X}}}]);