"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[256],{5941:(t,e,o)=>{o.r(e),o.d(e,{default:()=>u});var i,s=o(9679),a=o(3322),n=o(5893);const{Decor:h,crMenuMore:r}=a.Z,l={TIP:{margin:10,marginTop:16,fontWeight:"bold"}},d=t=>t&&"Z"===t.value,p=/^\d{5}$/,c=t=>p.test(t.trim());const u={Zillow:(0,h.dialog)(i=class extends s.Component{constructor(t){super(t),this._hSelectMetric=t=>{this.metric=t},this._handleSelectType=t=>{d(t)?this.setState({isShowPattern:!0}):this.setState({isShowPattern:!1})},this._handleLoad=()=>{this._handleWithValidationLoad(this._createValidationMessages(),this._createLoadOption)},this._createValidationMessages=()=>{const{oneCaption:t}=this.props;let e=[];this.metric||e.push(this.props.msgOnNotSelected(t));const{one:o}=this.inputTypeCode.getValues();if(d(o))this.inputZipCode.isValid()||(e=e.concat("Zip Code is not valid"));else{const{isValid:t,msg:o}=this.inputTypeCode.getValidation();t||(e=e.concat(o))}const{isValid:i,datesMsg:s}=this.datesFragment.getValidation();return i||(e=e.concat(s)),e.isValid=0===e.length,e},this._createLoadOption=()=>{const{one:t,two:e}=this.inputTypeCode.getValues(),{fromDate:o,toDate:i}=this.datesFragment.getValues(),s=this.inputZipCode.getValue();return((t,e)=>{const{fnValue:o,dataColumn:i,loadId:s,dataSource:a}=t,{one:n,two:h,three:r,fromDate:l,toDate:p,zipCode:c}=e,u=d(h),m=u?{value:c,caption:c}:r;return{value:"function"==typeof o?o(n.value,h.value,m.value):void 0,fromDate:l,toDate:p,dataColumn:i,loadId:s,title:h.caption+": "+m.caption,subtitle:n.caption,dataSource:a,isKeyFeature:u}})(this.props,{one:this.metric,two:t,three:e,fromDate:o,toDate:i,zipCode:s})},this._handleClose=()=>{this._handleWithValidationClose()},this._refTypeCode=t=>this.inputTypeCode=t,this._refZip=t=>this.inputZipCode=t,this._refDates=t=>this.datesFragment=t,this._menuMore=r(this,{toggleToolBar:this._toggleWithToolbar,onAbout:this._clickInfoWithToolbar}),this.toolbarButtons=this._createType2WithToolbar(t),this._commandButtons=this._crCommandsWithLoad(this),this.state={...this._isWithInitialState(),isShowPattern:!1}}shouldComponentUpdate(t,e){return this.props===t||this.props.isShow!==t.isShow}render(){const{caption:t,isShow:e,onShow:o,onFront:i,oneCaption:s,oneURI:h,oneJsonProp:r,twoCaption:d,twoURI:p,twoJsonProp:u,threeCaption:m,msgOnNotSelected:S,initFromDate:w,initToDate:g,msgOnNotValidFormat:C,onTestDate:_}=this.props,{isToolbar:T,isShowLabels:f,isShowDate:D,isShowPattern:b,validationMessages:Z}=this.state;return(0,n.jsxs)(a.Z.DraggableDialog,{isShow:e,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:o,onFront:i,onClose:this._handleClose,children:[(0,n.jsx)(a.Z.Toolbar,{isShow:T,buttons:this.toolbarButtons}),(0,n.jsx)(a.Z.SelectWithLoad,{isShow:e,isShowLabels:f,uri:h,jsonProp:r,caption:s,optionNames:"Items",onSelect:this._hSelectMetric}),(0,n.jsx)(a.Z.SelectOneTwo,{ref:this._refTypeCode,isShow:e,isShowLabels:f,isHideTwo:b,uri:p,oneCaption:d,oneJsonProp:u,twoCaption:m,msgOnNotSelected:S,onSelectOne:this._handleSelectType}),(0,n.jsx)(a.Z.ShowHide,{isShow:b,children:(0,n.jsx)(a.Z.RowPattern,{ref:this._refZip,isShowLabels:f,caption:"*Zip Code",placeholder:"Zip Code, 5 Digits",onTest:c,errorMsg:"5 digits format is required"})}),(0,n.jsx)(a.Z.ShowHide,{isShow:D,children:(0,n.jsx)(a.Z.DatesFragment,{ref:this._refDates,isShowLabels:f,initFromDate:w,initToDate:g,msgOnNotValidFormat:C,onTestDate:_})}),(0,n.jsx)(a.Z.ShowHide,{isShow:b,children:(0,n.jsx)("div",{style:l.TIP,children:"*Data present not for all zip codes"})}),(0,n.jsx)(a.Z.ValidationMessages,{validationMessages:Z})]})}})||i}}}]);