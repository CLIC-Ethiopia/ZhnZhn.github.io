"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[341],{5100:(e,t,r)=>{r.r(t),r.d(t,{default:()=>be});var o=r(9999),a=r(4887),n=r(1926),i=r(2564),s=r(795),l=r(8345),p=r(3218),d=r(3513);const c=()=>(0,l.lU)(d.Tz),g=()=>(0,l.lU)(d.pQ),u=e=>(0,l.lU)(d.LA,e),C=(e,t)=>{t.stopPropagation(),p.e4.removeItem(e)},f=()=>{p.e4.saveWatch()};var I=r(4599),y=r(4832),T=r(5893);const m="bt__watch__bar",x={marginBottom:10},D={marginLeft:20},v=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,T.jsxs)("div",{style:x,children:[(0,T.jsx)(y.Z,{caption:"GROUP",className:m,onClick:r}),(0,T.jsx)(y.Z,{caption:"LIST",className:m,style:D,onClick:o})]}):null},h=e=>JSON.parse(e.dataTransfer.getData("text")),E={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},L="border-bottom",S="border-left";let b,j,O,P;const _=e=>e.currentTarget.style,k=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==b.indexOf(e))(e)?t||"green":"red"),w=e=>{const t=j.style;_(e).removeProperty(S),t.removeProperty("border"),t.setProperty(L,O)},R=Object.assign,N=e=>{let{event:t,dragId:r,xType:o}=e;R(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},M=(e,t)=>(r,o)=>{((e,t)=>{j=e.currentTarget,b=t,O=_(e).getPropertyValue(L)})(o,e),N({event:o,dragId:t(r),xType:e[0]})},U=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=_(e);P=o.getPropertyValue(S),o.setProperty(S,k(t,r))})(r,e,t)},G=e=>{e.preventDefault()},A=e=>{e.preventDefault(),(e=>{const t=_(e);t.removeProperty(S),t.setProperty(S,P)})(e)},Z=e=>{let{caption:t}=e;return`${t};`},$=M([E.GROUP],Z),B=(e,t)=>{w(t);const{xType:r,dragId:o}=h(t),a=Z(e);if(r===E.GROUP){if(o===a)return;t.preventDefault(),p.e4.dragDropGroup({dragId:o,dropId:a})}else r===E.LIST&&(t.preventDefault(),p.e4.dragDropList({dragId:o,dropId:a}))},J=U(E.GROUP,E.C_GROUP_ENTER),V=G,W=A,H=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},z=M([E.LIST,E.GROUP],H),F=(e,t)=>{w(t);const{xType:r,dragId:o}=h(t),a=H(e);if(r===E.LIST){if(o===a)return;t.preventDefault(),p.e4.dragDropList({dragId:o,dropId:a})}else r===E.ITEM&&(t.preventDefault(),p.e4.dragDropItem({dragId:o,dropId:a}))},K=U(E.LIST,E.C_LIST_ENTER),Q=G,Y=A,q=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},X=M([E.ITEM,E.LIST],q),ee=(e,t)=>{w(t);const{xType:r,dragId:o}=h(t),a=q(e);if(r===E.ITEM){if(o===a)return;t.preventDefault(),p.e4.dragDropItem({dragId:o,dropId:a})}},te=U(E.ITEM,E.C_LIST_ENTER),re=G,oe=A;var ae=r(2306),ne=r(803),ie=r(6908),se=r(773);const le={position:"relative",padding:"5px 40px 5px 0"},pe={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},de={top:8},ce="Not Found",ge=e=>{const{item:t,className:r,onClick:a,onClose:n,isDraggable:i,option:s}=e,{caption:l=ce}=t||{},p=i?(0,T.jsx)(ie.g,{style:de,onClick:(0,o.YO)(n,s)}):null,d=(0,o.I4)((()=>a(t)),[t]),c=(0,o.I4)((e=>{(0,ae.Z)(e)&&d()}),[d]),g=(0,ne.Z)(e);return(0,T.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:le,onClick:d,...g,onKeyUp:c,children:[(0,T.jsx)(se.Z,{style:pe,text:l}),p]})},ue=Array.isArray,Ce=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return ue(r)?r.map((e=>{const{caption:r}=e;return(0,T.jsx)(ge,{className:a.Zl,isDraggable:t,item:e,option:{groupCaption:o,listCaption:n,caption:r},onClick:u,onClose:C,onDragStart:X,onDragOver:re,onDragEnter:te,onDragLeave:oe,onDrop:ee},r)})):null},{OpenClose2:fe}=I.default,Ie=Array.isArray,ye={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},Te={marginRight:10},me=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return Ie(o)?o.map((e=>{let{caption:o,items:a}=e;return(0,T.jsx)(fe,{style:ye,notSelectedStyle:Te,openColor:"#80c040",caption:o,isDraggable:t,option:{groupCaption:r,caption:o},onDragStart:z,onDragEnter:K,onDragOver:Q,onDragLeave:Y,onDrop:F,children:(0,T.jsx)(Ce,{isModeEdit:t,items:a,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:xe}=I.default,De=Array.isArray,ve={lineHeight:2},he=e=>{let{isModeEdit:t,groups:r}=e;return De(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,T.jsx)(xe,{style:ve,caption:r,isDraggable:t,option:{caption:r},onDragStart:$,onDragEnter:J,onDragOver:V,onDragLeave:W,onDrop:B,children:(0,T.jsx)(me,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},Ee=(0,a.vJ)("scroll-watch"),Le={paddingRight:0},Se={position:"relative",top:-6,marginLeft:20},be=e=>{let{isInitShow:t,caption:r,store:a,browserType:l,showAction:p,updateAction:d}=e;const[u,C]=(0,n.Z)(),[y,m,x]=(0,i.Z)(t),[D,h]=(0,o.eJ)((()=>a.getWatchList()));(0,s.Z)(((e,t)=>{e===p&&t===l?m():e===d&&h({...t})}));const E=u?"V":"E",{groups:L}=D||{};return(0,T.jsxs)(I.default.Browser,{isShow:y,style:Le,children:[(0,T.jsxs)(I.default.BrowserCaption,{caption:r,onClose:x,children:[(0,T.jsx)(I.default.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:Se,onClick:f}),(0,T.jsx)(I.default.ButtonCircle,{caption:E,title:"Toggle Edit Mode: E/V",style:Se,onClick:C})]}),(0,T.jsx)(v,{isShow:u,onClickGroup:c,onClickList:g}),(0,T.jsx)(I.default.ScrollPane,{className:Ee,children:(0,T.jsx)(he,{isModeEdit:u,groups:L})})]})}}}]);