(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[256],{5941:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var n,i=o(7154),a=o.n(i),s=o(1506),r=o.n(s),l=o(5354),d=o.n(l),p=o(5893),c=o(9679),h=o(82),u=h.Z.Decor,m=h.Z.crMenuMore,S={TIP:{margin:10,marginTop:16,fontWeight:"bold"}},f=function(e){return e&&"Z"===e.value},w=/^\d{5}$/,g=function(e){return w.test(e.trim())};const C={Zillow:(0,u.dialog)(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._hSelectMetric=function(e){o.metric=e},o._handleSelectType=function(e){f(e)?o.setState({isShowPattern:!0}):o.setState({isShowPattern:!1})},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props.oneCaption,t=[];o.metric||t.push(o.props.msgOnNotSelected(e));var n=o.inputTypeCode.getValues().one;if(f(n))o.inputZipCode.isValid()||(t=t.concat("Zip Code is not valid"));else{var i=o.inputTypeCode.getValidation(),a=i.isValid,s=i.msg;a||(t=t.concat(s))}var r=o.datesFragment.getValidation(),l=r.isValid,d=r.datesMsg;return l||(t=t.concat(d)),t.isValid=0===t.length,t},o._createLoadOption=function(){var e=o.inputTypeCode.getValues(),t=e.one,n=e.two,i=o.datesFragment.getValues(),a=i.fromDate,s=i.toDate,r=o.inputZipCode.getValue();return function(e,t){var o=e.fnValue,n=e.dataColumn,i=e.loadId,a=e.dataSource,s=t.one,r=t.two,l=t.three,d=t.fromDate,p=t.toDate,c=t.zipCode,h=f(r),u=h?{value:c,caption:c}:l;return{value:"function"==typeof o?o(s.value,r.value,u.value):void 0,fromDate:d,toDate:p,dataColumn:n,loadId:i,title:r.caption+": "+u.caption,subtitle:s.caption,dataSource:a,isKeyFeature:h}}(o.props,{one:o.metric,two:t,three:n,fromDate:a,toDate:s,zipCode:r})},o._handleClose=function(){o._handleWithValidationClose()},o._refTypeCode=function(e){return o.inputTypeCode=e},o._refZip=function(e){return o.inputZipCode=e},o._refDates=function(e){return o.datesFragment=e},o._menuMore=m(r()(o),{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(t),o._commandButtons=o._crCommandsWithLoad(r()(o)),o.state=a()({},o._isWithInitialState(),{isShowPattern:!1}),o}d()(t,e);var o=t.prototype;return o.shouldComponentUpdate=function(e,t){return this.props===e||this.props.isShow!==e.isShow},o.render=function(){var e=this.props,t=e.caption,o=e.isShow,n=e.onShow,i=e.onFront,a=e.oneCaption,s=e.oneURI,r=e.oneJsonProp,l=e.twoCaption,d=e.twoURI,c=e.twoJsonProp,u=e.threeCaption,m=e.msgOnNotSelected,f=e.initFromDate,w=e.initToDate,C=e.msgOnNotValidFormat,_=e.onTestDate,T=this.state,D=T.isToolbar,Z=T.isShowLabels,b=T.isShowDate,v=T.isShowPattern,V=T.validationMessages;return(0,p.jsxs)(h.Z.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:n,onFront:i,onClose:this._handleClose,children:[(0,p.jsx)(h.Z.Toolbar,{isShow:D,buttons:this.toolbarButtons}),(0,p.jsx)(h.Z.SelectWithLoad,{isShow:o,isShowLabels:Z,uri:s,jsonProp:r,caption:a,optionNames:"Items",onSelect:this._hSelectMetric}),(0,p.jsx)(h.Z.SelectOneTwo,{ref:this._refTypeCode,isShow:o,isShowLabels:Z,isHideTwo:v,uri:d,oneCaption:l,oneJsonProp:c,twoCaption:u,msgOnNotSelected:m,onSelectOne:this._handleSelectType}),(0,p.jsx)(h.Z.ShowHide,{isShow:v,children:(0,p.jsx)(h.Z.RowPattern,{ref:this._refZip,isShowLabels:Z,caption:"*Zip Code",placeholder:"Zip Code, 5 Digits",onTest:g,errorMsg:"5 digits format is required"})}),(0,p.jsx)(h.Z.ShowHide,{isShow:b,children:(0,p.jsx)(h.Z.DatesFragment,{ref:this._refDates,isShowLabels:Z,initFromDate:f,initToDate:w,msgOnNotValidFormat:C,onTestDate:_})}),(0,p.jsx)(h.Z.ShowHide,{isShow:v,children:(0,p.jsx)("div",{style:S.TIP,children:"*Data present not for all zip codes"})}),(0,p.jsx)(h.Z.ValidationMessages,{validationMessages:V})]})},t}(c.Component))||n}}}]);