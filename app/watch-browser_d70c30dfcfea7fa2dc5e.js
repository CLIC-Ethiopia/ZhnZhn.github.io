"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[341],{5100:(e,t,r)=>{r.r(t),r.d(t,{default:()=>be});var o=r(1768),a=r(4887),n=r(1926),i=r(2564),s=r(795),l=r(2038),p=r(3218),d=r(3513);const c=()=>l.Ck.showModalDialog(d.Tz),g=()=>l.Ck.showModalDialog(d.pQ),u=e=>l.Ck.showModalDialog(d.LA,e),C=(e,t)=>{t.stopPropagation(),p.e4.removeItem(e)},f=()=>{p.e4.saveWatch()};var I=r(4599),y=r(4832),D=r(5893);const T="bt__watch__bar",m={marginBottom:10},x={marginLeft:20},v=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,D.jsxs)("div",{style:m,children:[(0,D.jsx)(y.Z,{caption:"GROUP",className:T,onClick:r}),(0,D.jsx)(y.Z,{caption:"LIST",className:T,style:x,onClick:o})]}):null},h=e=>JSON.parse(e.dataTransfer.getData("text")),E={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},L="border-bottom",S="border-left";let b,j,k,w;const O=e=>e.currentTarget.style,P=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==b.indexOf(e))(e)?t||"green":"red"),_=e=>{const t=j.style;O(e).removeProperty(S),t.removeProperty("border"),t.setProperty(L,k)},M=Object.assign,R=e=>{let{event:t,dragId:r,xType:o}=e;M(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},N=(e,t)=>(r,o)=>{((e,t)=>{j=e.currentTarget,b=t,k=O(e).getPropertyValue(L)})(o,e),R({event:o,dragId:t(r),xType:e[0]})},G=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=O(e);w=o.getPropertyValue(S),o.setProperty(S,P(t,r))})(r,e,t)},A=e=>{e.preventDefault()},U=e=>{e.preventDefault(),(e=>{const t=O(e);t.removeProperty(S),t.setProperty(S,w)})(e)},Z=e=>{let{caption:t}=e;return`${t};`},$=N([E.GROUP],Z),B=(e,t)=>{_(t);const{xType:r,dragId:o}=h(t),a=Z(e);if(r===E.GROUP){if(o===a)return;t.preventDefault(),p.e4.dragDropGroup({dragId:o,dropId:a})}else r===E.LIST&&(t.preventDefault(),p.e4.dragDropList({dragId:o,dropId:a}))},J=G(E.GROUP,E.C_GROUP_ENTER),V=A,W=U,H=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},z=N([E.LIST,E.GROUP],H),F=(e,t)=>{_(t);const{xType:r,dragId:o}=h(t),a=H(e);if(r===E.LIST){if(o===a)return;t.preventDefault(),p.e4.dragDropList({dragId:o,dropId:a})}else r===E.ITEM&&(t.preventDefault(),p.e4.dragDropItem({dragId:o,dropId:a}))},K=G(E.LIST,E.C_LIST_ENTER),Q=A,Y=U,q=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},X=N([E.ITEM,E.LIST],q),ee=(e,t)=>{_(t);const{xType:r,dragId:o}=h(t),a=q(e);if(r===E.ITEM){if(o===a)return;t.preventDefault(),p.e4.dragDropItem({dragId:o,dropId:a})}},te=G(E.ITEM,E.C_LIST_ENTER),re=A,oe=U;var ae=r(2306),ne=r(803),ie=r(6908),se=r(773);const le={position:"relative",padding:"5px 40px 5px 0"},pe={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},de={top:8},ce="Not Found",ge=e=>{const{item:t,className:r,onClick:a,onClose:n,isDraggable:i,option:s}=e,{caption:l=ce}=t||{},p=i?(0,D.jsx)(ie.g,{style:de,onClick:(0,o.YO)(n,s)}):null,d=(0,o.I4)((()=>a(t)),[t]),c=(0,o.I4)((e=>{(0,ae.Z)(e)&&d()}),[d]),g=(0,ne.Z)(e);return(0,D.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:le,onClick:d,...g,onKeyUp:c,children:[(0,D.jsx)(se.Z,{style:pe,text:l}),p]})},ue=Array.isArray,Ce=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return ue(r)?r.map((e=>{const{caption:r}=e;return(0,D.jsx)(ge,{className:a.Zl,isDraggable:t,item:e,option:{groupCaption:o,listCaption:n,caption:r},onClick:u,onClose:C,onDragStart:X,onDragOver:re,onDragEnter:te,onDragLeave:oe,onDrop:ee},r)})):null},{OpenClose2:fe}=I.default,Ie=Array.isArray,ye={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},De={marginRight:10},Te=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return Ie(o)?o.map((e=>{let{caption:o,items:a}=e;return(0,D.jsx)(fe,{style:ye,notSelectedStyle:De,openColor:"#80c040",caption:o,isDraggable:t,option:{groupCaption:r,caption:o},onDragStart:z,onDragEnter:K,onDragOver:Q,onDragLeave:Y,onDrop:F,children:(0,D.jsx)(Ce,{isModeEdit:t,items:a,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:me}=I.default,xe=Array.isArray,ve={lineHeight:2},he=e=>{let{isModeEdit:t,groups:r}=e;return xe(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,D.jsx)(me,{style:ve,caption:r,isDraggable:t,option:{caption:r},onDragStart:$,onDragEnter:J,onDragOver:V,onDragLeave:W,onDrop:B,children:(0,D.jsx)(Te,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},Ee=(0,a.vJ)("scroll-watch"),Le={paddingRight:0},Se={position:"relative",top:-6,marginLeft:20},be=e=>{let{isInitShow:t,caption:r,store:a,browserType:l,showAction:p,updateAction:d}=e;const[u,C]=(0,n.Z)(),[y,T,m]=(0,i.Z)(t),[x,h]=(0,o.eJ)((()=>a.getWatchList()));(0,s.Z)(((e,t)=>{e===p&&t===l?T():e===d&&h({...t})}));const E=u?"V":"E",{groups:L}=x||{};return(0,D.jsxs)(I.default.Browser,{isShow:y,style:Le,children:[(0,D.jsxs)(I.default.BrowserCaption,{caption:r,onClose:m,children:[(0,D.jsx)(I.default.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:Se,onClick:f}),(0,D.jsx)(I.default.ButtonCircle,{caption:E,title:"Toggle Edit Mode: E/V",style:Se,onClick:C})]}),(0,D.jsx)(v,{isShow:u,onClickGroup:c,onClickList:g}),(0,D.jsx)(I.default.ScrollPane,{className:Ee,children:(0,D.jsx)(he,{isModeEdit:u,groups:L})})]})}}}]);