"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[341],{5100:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Le});var o=r(9999),n=r(1926),a=r(2564),i=r(795),s=r(2038),l=r(3218),p=r(3513);const d=()=>s.Ck.showModalDialog(p.Tz),c=()=>s.Ck.showModalDialog(p.pQ),g=e=>s.Ck.showModalDialog(p.LA,e),u=(e,t)=>{t.stopPropagation(),l.e4.removeItem(e)},C=()=>{l.e4.saveWatch()};var I=r(9626),y=r(4832),D=r(5893);const T="bt__watch__bar",m={marginBottom:10},x={marginLeft:20},f=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,D.jsxs)("div",{style:m,children:[(0,D.jsx)(y.Z,{caption:"GROUP",className:T,onClick:r}),(0,D.jsx)(y.Z,{caption:"LIST",className:T,style:x,onClick:o})]}):null},h=e=>JSON.parse(e.dataTransfer.getData("text")),v={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},E="border-bottom",L="border-left";let S,b,w,_;const j=e=>e.currentTarget.style,P=(e,t)=>(e=>"4px solid "+e)((e=>-1!==S.indexOf(e))(e)?t||"green":"red"),k=e=>{const t=b.style;j(e).removeProperty(L),t.removeProperty("border"),t.setProperty(E,w)},O=Object.assign,M=e=>{let{event:t,dragId:r,xType:o}=e;O(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},R=(e,t)=>(r,o)=>{((e,t)=>{b=e.currentTarget,S=t,w=j(e).getPropertyValue(E)})(o,e),M({event:o,dragId:t(r),xType:e[0]})},Z=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=j(e);_=o.getPropertyValue(L),o.setProperty(L,P(t,r))})(r,e,t)},N=e=>{e.preventDefault()},G=e=>{e.preventDefault(),(e=>{const t=j(e);t.removeProperty(L),t.setProperty(L,_)})(e)},A=e=>{let{caption:t}=e;return t+";"},U=R([v.GROUP],A),B=(e,t)=>{k(t);const{xType:r,dragId:o}=h(t),n=A(e);if(r===v.GROUP){if(o===n)return;t.preventDefault(),l.e4.dragDropGroup({dragId:o,dropId:n})}else r===v.LIST&&(t.preventDefault(),l.e4.dragDropList({dragId:o,dropId:n}))},V=Z(v.GROUP,v.C_GROUP_ENTER),W=N,J=G,H=e=>{let{groupCaption:t,caption:r}=e;return t+";"+r+";"},z=R([v.LIST,v.GROUP],H),F=(e,t)=>{k(t);const{xType:r,dragId:o}=h(t),n=H(e);if(r===v.LIST){if(o===n)return;t.preventDefault(),l.e4.dragDropList({dragId:o,dropId:n})}else r===v.ITEM&&(t.preventDefault(),l.e4.dragDropItem({dragId:o,dropId:n}))},K=Z(v.LIST,v.C_LIST_ENTER),Q=N,q=G,X=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return t+";"+r+";"+o},Y=R([v.ITEM,v.LIST],X),$=(e,t)=>{k(t);const{xType:r,dragId:o}=h(t),n=X(e);if(r===v.ITEM){if(o===n)return;t.preventDefault(),l.e4.dragDropItem({dragId:o,dropId:n})}},ee=Z(v.ITEM,v.C_LIST_ENTER),te=N,re=G;var oe=r(2306),ne=r(803),ae=r(8636),ie=r(773);const se={position:"relative",padding:"5px 40px 5px 0"},le={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},pe={position:"absolute",top:10,right:0},de="Not Found",ce=e=>{const{item:t,className:r,onClick:n,onClose:a,isDraggable:i,option:s}=e,{caption:l=de}=t||{},p=i?(0,D.jsx)(ae.Z,{style:pe,onClose:a.bind(null,s)}):null,d=(0,o.I4)((()=>n(t)),[t]),c=(0,o.I4)((e=>{(0,oe.Z)(e)&&d()}),[d]),g=(0,ne.Z)(e);return(0,D.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:se,onClick:d,...g,onKeyUp:c,children:[(0,D.jsx)(ie.Z,{style:le,text:l}),p]})},ge=Array.isArray,ue=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:n}=e;return ge(r)?r.map((e=>{const{caption:r}=e;return(0,D.jsx)(ce,{className:"row__type2-topic not-selected",isDraggable:t,item:e,option:{groupCaption:o,listCaption:n,caption:r},onClick:g,onClose:u,onDragStart:Y,onDragOver:te,onDragEnter:ee,onDragLeave:re,onDrop:$},r)})):null},{OpenClose2:Ce}=I.Z,Ie=Array.isArray,ye={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},De={marginRight:10},Te=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return Ie(o)?o.map((e=>{let{caption:o,items:n}=e;return(0,D.jsx)(Ce,{style:ye,notSelectedStyle:De,openColor:"#80c040",caption:o,isDraggable:t,option:{groupCaption:r,caption:o},onDragStart:z,onDragEnter:K,onDragOver:Q,onDragLeave:q,onDrop:F,children:(0,D.jsx)(ue,{isModeEdit:t,items:n,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:me}=I.Z,xe=Array.isArray,fe={lineHeight:2},he=e=>{let{isModeEdit:t,groups:r}=e;return xe(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,D.jsx)(me,{style:fe,caption:r,isDraggable:t,option:{caption:r},onDragStart:U,onDragEnter:V,onDragOver:W,onDragLeave:J,onDrop:B,children:(0,D.jsx)(Te,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},ve={paddingRight:0},Ee={position:"relative",top:-6,marginLeft:20},Le=e=>{let{isInitShow:t,caption:r,store:s,browserType:l,showAction:p,updateAction:g}=e;const[u,y]=(0,n.Z)(),[T,m,x]=(0,a.Z)(t),[h,v]=(0,o.eJ)((()=>s.getWatchList()));(0,i.Z)(((e,t)=>{e===p&&t===l?m():e===g&&v({...t})}));const E=u?"V":"E",{groups:L}=h||{};return(0,D.jsxs)(I.Z.Browser,{isShow:T,style:ve,children:[(0,D.jsxs)(I.Z.BrowserCaption,{caption:r,onClose:x,children:[(0,D.jsx)(I.Z.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:Ee,onClick:C}),(0,D.jsx)(I.Z.ButtonCircle,{caption:E,title:"Toggle Edit Mode: E/V",style:Ee,onClick:y})]}),(0,D.jsx)(f,{isShow:u,onClickGroup:d,onClickList:c}),(0,D.jsx)(I.Z.ScrollPane,{className:"scroll-container-y scroll-watch",children:(0,D.jsx)(he,{isModeEdit:u,groups:L})})]})}}}]);