(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{126:function(t,e,a){"use strict";a.r(e);var o,n,i,r,s=a(1),l=a.n(s),c=a(9),d=a.n(c),u=a(3),p=a.n(u),h=a(0),m=a.n(h),S=a(2),T=a(7),g=a(45),_=a(42),f={BT_ROOT:{color:"rgb(35, 47, 59)"}},C={TRADE:{INIT:"First Load Meta",SELECT:"Select..."}},w={DEFAULT:"Default Empty",IMPORT:"Import - Trade (USD)",EXPORT:"Export - Trade (USD)",REIMPORT:"Re-Import - Trade (USD)",REEXPORT:"Re-Export - Trade (USD)"},D=[{caption:"Default : Empty Filter",value:w.DEFAULT},{caption:"Import - Trade (USD)",value:"Import - Trade (USD)"},{caption:"Import - Weight (Kg)",value:"Import - Weight (Kg)"},{caption:"Export - Trade (USD)",value:"Export - Trade (USD)"},{caption:"Export - Weight (Kg)",value:"Export - Weight (Kg)"},{caption:"Re-Import - Trade (USD)",value:"Re-Import - Trade (USD)"},{caption:"Re-Export - Trade (USD)",value:"Re-Export - Trade (USD)"}],v=[{caption:"Default : Area",value:S.b.AREA},{caption:"Semi Donut : Total Top90, On Every Year : Recent 2 Years",value:S.b.SEMI_DONUT},{caption:"Stacked Area : Total Top90, On Recent Year",value:S.b.STACKED_AREA},{caption:"Stacked Area Percent : Total Top90, On Recent Year",value:S.b.STACKED_AREA_PERCENT},{caption:"Stacked Column : Total Top90, On Recent Year",value:S.b.STACKED_COLUMN},{caption:"Stacked Column Percent : Total Top90, On Recent Year",value:S.b.STACKED_COLUMN_PERCENT},{caption:"Tree Map : On Recent Year",value:S.b.TREE_MAP}],b=(0,_.a.withToolbar)(o=(0,_.a.withValidationLoad)(o=(0,_.a.withInitialState)(o=function(t){function e(e){var a;return(a=t.call(this,e)||this)._initTrade=function(){a.subheading=void 0,a.optionTrades=void 0,a.setState({optionTrades:[],placeholderTrade:C.TRADE.INIT,isLoadingTradeFailed:!1})},a._filterTrade=function(){var t;if(a.tradeFilter&&a.optionTrades){var e=a.tradeFilter.value;e!==w.DEFAULT?(t=a.optionTrades.filter((function(t,a){return-1!==t.caption.indexOf(e)})),e===w.IMPORT&&(t=t.filter((function(t,e){return-1===t.caption.indexOf(w.REIMPORT)}))),e===w.EXPORT&&(t=t.filter((function(t,e){return-1===t.caption.indexOf(w.REEXPORT)})))):t=a.optionTrades}else t=a.optionTrades;return t},a._handlerClickAll=function(){var t=a.state,e=t.isShowFilter,o=t.isShowDate,n=t.isShowChartType,i=!(e||o||n);a.setState({isShowFilter:i,isShowDate:i,isShowChartType:i})},a._handlerClickFilter=function(){a.setState({isShowFilter:!a.state.isShowFilter})},a._handlerClickDate=function(){a.setState({isShowDate:!a.state.isShowDate})},a._handlerClickChartType=function(){a.setState({isShowChartType:!a.state.isShowChartType})},a._handlerSelectCountry=function(t){a.country=t,a._initTrade()},a._handlerSelectChapter=function(t){a.chapter=t,a._initTrade()},a._handlerSelectTradeFilter=function(t){a.tradeFilter=t,a.setState({optionTrades:a._filterTrade()})},a._handlerSelectTrade=function(t){a.subheading=t},a._handlerSelectChartType=function(t){a.chartType=t},a._handlerLoadMeta=function(){a._handleWithValidationLoad(a._createMetaValidationMessages(),a._createLoadMetaOption,a._loadMeta)},a._loadMeta=function(t){a.props.onLoad(t),a.setState({isLoadingTrade:!0})},a._createMetaValidationMessages=function(){var t=[];a.country||t.push(a.props.msgOnNotSelected("Country")),a.chapter||t.push(a.props.msgOnNotSelected("Subheading"));var e=a.datesFragment.getValidation(),o=e.isValid,n=e.datesMsg;return o||(t=t.concat(n)),t.isValid=0===t.length,t},a._createLoadMetaOption=function(){var t=a.datesFragment.getValues(),e=t.fromDate,o=t.toDate,n=a.props,i=n.loadId;return{value:(0,n.fnValue)(a.chapter.value,a.country.value),fromDate:e,toDate:o,isLoadMeta:!0,onLoad:a._setOptionTrades,onCancel:a._loadMetaOptionCancel,onFailed:a._loadMetaOptionFailed,loadId:i}},a._setOptionTrades=function(t){a.optionTrades=t,a.setState({optionTrades:a._filterTrade(),isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:C.TRADE.SELECT})},a._loadMetaOptionCancel=function(){a.setState({isLoadingTrade:!1,isLoadingTradeFailed:!1,placeholderTrade:C.TRADE.SELECT})},a._loadMetaOptionFailed=function(){a.setState({isLoadingTrade:!1,isLoadingTradeFailed:!0})},a._handlerLoadData=function(){a._handleWithValidationLoad(a._createDataValidationMessages(),a._createLoadDataOption)},a._createDataValidationMessages=function(){var t=[];a.chartType&&a.chartType.value!==S.b.AREA?(a.state.placeholderTrade===C.TRADE.INIT&&t.push(C.TRADE.INIT),a.tradeFilter||t.push(a.props.msgOnNotSelected("Trade Filter"))):a.subheading||t.push(a.props.msgOnNotSelected("Subheading"));return t.isValid=0===t.length,t},a._createLoadDataOption=function(){var t=a.datesFragment.getValues(),e=t.fromDate,o=t.toDate,n=a.subheading?a.subheading.value:a.props.dataColumn,i=a.props,r=i.loadId,s=i.fnValue,l=i.dataSource,c=a.chartType?a.chartType.value:S.b.AREA,d=a.tradeFilter?a.country.caption+":"+a.tradeFilter.caption:""+a.country.caption,u=a.chartType&&a.chartType.value!==S.b.AREA?a._createSpliceItems():void 0;return{value:s(a.chapter.value,a.country.value),fromDate:e,toDate:o,dataColumn:n,seriaType:c,sliceItems:u,title:d,subtitle:a.chapter.caption,loadId:r,dataSource:l}},a._createSpliceItems=function(){var t=a.tradeFilter.value.length+2;return a.state.optionTrades.map((function(e,a){var o=e.value,n=e.caption;return{caption:n=n.substring(0,n.length-t),value:o}}))},a._handlerClose=function(){a._handleWithValidationClose()},a._refDates=function(t){return a.datesFragment=t},a._menuMore=Object(g.a)(d()(a),{toggleToolBar:a._toggleWithToolbar,onAbout:a._clickInfoWithToolbar}),a.toolbarButtons=a._createType2WithToolbar(e,{noDate:!0}),a.toolbarButtons.push({caption:"A",title:"Toggle All Input",onClick:a._handlerClickAll},{caption:"F",title:"Toggle Filter Input",onClick:a._handlerClickFilter},{caption:"D",title:"Toggle Date Input",onClick:a._handlerClickDate},{caption:"C",title:"Toggle ChartType Input",onClick:a._handlerClickChartType}),a._commandButtons=[m.a.createElement(T.a.Button.Flat,{key:"meta",rootStyle:f.BT_ROOT,caption:"Load Meta",title:"First Load Meta, then Load Item",onClick:a._handlerLoadMeta}),m.a.createElement(T.a.Button.Load,{key:"load",onClick:a._handlerLoadData})],a.state=l()({},a._isWithInitialState(),{isShowFilter:!1,isShowChartType:!1,isLoadingTrade:!1,isLoadingTradeFailed:!1,optionTrades:[],placeholderTrade:C.TRADE.INIT}),a}p()(e,t);var a=e.prototype;return a.shouldComponentUpdate=function(t,e){return this.props===t||this.props.isShow!==t.isShow},a.render=function(){var t=this.props,e=t.isShow,a=t.onShow,o=t.onFront,n=t.countryURI,i=t.countryJsonProp,r=t.commodityURI,s=t.commodityJsonProp,l=t.initFromDate,c=t.initToDate,d=t.msgOnNotValidFormat,u=t.onTestDate,p=this.state,h=p.isToolbar,S=p.isShowLabels,g=p.isShowFilter,_=p.isShowDate,f=p.isShowChartType,C=p.isLoadingTrade,w=p.isLoadingTradeFailed,b=p.optionTrades,E=p.placeholderTrade,F=p.validationMessages;return m.a.createElement(T.a.DraggableDialog,{isShow:e,caption:"United Nations Commodity Trade",menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:o,onClose:this._handlerClose},m.a.createElement(T.a.Toolbar,{isShow:h,buttons:this.toolbarButtons}),m.a.createElement(T.a.SelectWithLoad,{isShow:e,isShowLabels:S,uri:n,jsonProp:i,caption:"Country:",optionNames:"Countries",onSelect:this._handlerSelectCountry}),m.a.createElement(T.a.SelectWithLoad,{isShow:e,isShowLabels:S,uri:r,jsonProp:s,caption:"Chapter:",optionNames:"Chapters",onSelect:this._handlerSelectChapter}),m.a.createElement(T.a.ShowHide,{isShow:g},m.a.createElement(T.a.RowInputSelect,{isShowLabels:S,caption:"Filter Trade:",options:D,placeholder:"Filter...",onSelect:this._handlerSelectTradeFilter})),m.a.createElement(T.a.RowInputSelect,{isShowLabels:S,caption:"Subheading:",options:b,optionNames:"Meta",isLoading:C,isLoadingFailed:w,placeholder:E,onLoadOption:this._handlerLoadMeta,onSelect:this._handlerSelectTrade}),m.a.createElement(T.a.ShowHide,{isShow:_},m.a.createElement(T.a.DatesFragment,{ref:this._refDates,isShowLabels:S,initFromDate:l,initToDate:c,msgOnNotValidFormat:d,onTestDate:u})),m.a.createElement(T.a.ShowHide,{isShow:f},m.a.createElement(T.a.RowInputSelect,{isShowLabels:S,caption:"Chart Type:",options:v,onSelect:this._handlerSelectChartType})),m.a.createElement(T.a.ValidationMessages,{validationMessages:F}))},e}(h.Component))||o)||o)||o,E=[{caption:"2020",value:2020},{caption:"2019",value:2019},{caption:"2018",value:2018},{caption:"2017",value:2017},{caption:"2016",value:2016},{caption:"2015",value:2015},{caption:"2014",value:2014},{caption:"2013",value:2013},{caption:"2012",value:2012}],F=(0,_.a.dialog)(n=function(t){function e(e){var a;return(a=t.call(this,e)||this)._handleSelectYear=function(t){a.year=t},a._handleLoad=function(){a._handleWithValidationLoad(a._createValidationMessages(),a._createLoadOption)},a._createValidationMessages=function(){var t=a.props,e=t.msgOnNotSelected,o=t.msgOnNotValidFormat,n=t.isContinious,i=[],r=a.itemMonth.getValidation(),s=r.isValid,l=r.msg;return s||(i=i.concat(l)),a.year||i.push(e("Year")),n&&!a.fromDate.isValid()&&i.push(o("From Date")),i.isValid=0===i.length,i},a._createLoadOption=function(){var t=a.itemMonth.getValues(),e=t.one,o=t.two,n=a.props.isContinious?a.fromDate.getValue():void 0;return a.props.loadFn(a.props,{item:e,month:o,year:a.year,fromDate:n})},a._handleClose=function(){a._handleWithValidationClose()},a._refItemMonth=function(t){return a.itemMonth=t},a._refFromDate=function(t){return a.fromDate=t},a._menuMore=Object(g.a)(d()(a),{toggleToolBar:a._toggleWithToolbar,onAbout:a._clickInfoWithToolbar}),a.toolbarButtons=a._createType2WithToolbar(e,{noDate:!0}),a._commandButtons=a._crCommandsWithLoad(d()(a)),a.state=l()({},a._isWithInitialState()),a}p()(e,t);var a=e.prototype;return a.shouldComponentUpdate=function(t,e){return this.props===t||this.props.isShow!==t.isShow},a.render=function(){var t=this.props,e=t.isShow,a=t.caption,o=t.onShow,n=t.onFront,i=t.futuresURI,r=t.msgOnNotSelected,s=t.isContinious,l=t.initFromDate,c=t.onTestDateOrEmpty,d=t.msgTestDateOrEmpty,u=this.state,p=u.isToolbar,h=u.isShowLabels,S=u.validationMessages;return m.a.createElement(T.a.DraggableDialog,{isShow:e,caption:a,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:o,onFront:n,onClose:this._handleClose},m.a.createElement(T.a.Toolbar,{isShow:p,buttons:this.toolbarButtons}),m.a.createElement(T.a.SelectOneTwo,{ref:this._refItemMonth,isShow:e,isShowLabels:h,uri:i,oneCaption:"Futures",oneOptionNames:"Futures",oneJsonProp:"futures",twoCaption:"Month",msgOnNotSelected:r}),m.a.createElement(T.a.RowInputSelect,{isShowLabels:h,caption:"Year",options:E,onSelect:this._handleSelectYear}),s&&m.a.createElement(T.a.RowDate,{ref:this._refFromDate,isShowLabels:h,labelTitle:"From Date:",initValue:l,errorMsg:d,onTestDate:c}),m.a.createElement(T.a.ValidationMessages,{validationMessages:S}))},e}(h.Component))||n,L=[{caption:"Continuous Contract #1",value:1},{caption:"Continuous Contract #2",value:2},{caption:"Continuous Contract #3",value:3},{caption:"Continuous Contract #4",value:4},{caption:"Continuous Contract #5",value:5}],y=(0,_.a.dialog)(i=function(t){function e(e){var a;return(a=t.call(this,e)||this)._handleSelectType=function(t){a.type=t},a._handleLoad=function(){a._handleWithValidationLoad(a._createValidationMessages(),a._createLoadOption)},a._createValidationMessages=function(){var t=a.props,e=t.msgOnNotSelected,o=t.msgOnNotValidFormat,n=t.isContinious,i=[],r=a.exchangeItem.getValidation(),s=r.isValid,l=r.msg;return s||(i=i.concat(l)),a.type||i.push(e("Type")),n&&!a.fromDate.isValid()&&i.push(o("From Date")),i.isValid=0===i.length,i},a._createLoadOption=function(){var t=a.exchangeItem.getValues(),e=t.one,o=t.two,n=a.props.isContinious?a.fromDate.getValue():void 0;return a.props.loadFn(a.props,{exchange:e,item:o,type:a.type,fromDate:n})},a._handleClose=function(){a._handleWithValidationClose()},a._refExchangeItem=function(t){return a.exchangeItem=t},a._refFromDate=function(t){return a.fromDate=t},a._menuMore=Object(g.a)(d()(a),{toggleToolBar:a._toggleWithToolbar,onAbout:a._clickInfoWithToolbar}),a.toolbarButtons=a._createType2WithToolbar(e,{noDate:!0}),a._commandButtons=a._crCommandsWithLoad(d()(a)),a.state=l()({},a._isWithInitialState()),a}p()(e,t);var a=e.prototype;return a.shouldComponentUpdate=function(t,e){return this.props===t||this.props.isShow!==t.isShow},a.render=function(){var t=this.props,e=t.isShow,a=t.caption,o=t.onShow,n=t.onFront,i=t.futuresURI,r=t.msgOnNotSelected,s=t.isContinious,l=t.initFromDate,c=t.onTestDateOrEmpty,d=t.msgTestDateOrEmpty,u=this.state,p=u.isToolbar,h=u.isShowLabels,S=u.validationMessages;return m.a.createElement(T.a.DraggableDialog,{isShow:e,caption:a,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:o,onFront:n,onClose:this._handleClose},m.a.createElement(T.a.Toolbar,{isShow:p,buttons:this.toolbarButtons}),m.a.createElement(T.a.SelectOneTwo,{ref:this._refExchangeItem,isShow:e,isShowLabels:h,uri:i,oneCaption:"Exchange",oneOptionNames:"Exchanges",oneJsonProp:"futures",twoCaption:"Asset",msgOnNotSelected:r}),m.a.createElement(T.a.RowInputSelect,{isShowLabels:h,caption:"Type",options:L,onSelect:this._handleSelectType}),s&&m.a.createElement(T.a.RowDate,{ref:this._refFromDate,isShowLabels:h,labelTitle:"From Date:",initValue:l,errorMsg:d,onTestDate:c}),m.a.createElement(T.a.ValidationMessages,{validationMessages:S}))},e}(h.Component))||i,O=[{caption:"Thousand Barrels per day (kb/d)",value:"KD"},{caption:"Thousand Barrels (kbbl)",value:"KB"},{caption:"Thousand Kilolitres (kl)",value:"KL"},{caption:"Thousand Metric Tons (kmt)",value:"KT"},{caption:"Conversion factor barrels/ktons",value:"BK"}],M=[{caption:"AreaSpline",value:"AREA"},{caption:"Yearly by Month",value:"YEARLY"}],I={UNCommodityTrade:b,Futures3:F,FuturesWiki:y,JodiWorldOil:(0,_.a.dialog)(r=function(t){function e(e){var a;return(a=t.call(this,e)||this)._hClickOptions=function(){a.setState((function(t){return{isShowOptions:!t.isShowOptions}}))},a._hSelectCountry=function(t){a.country=t},a._hSelectUnits=function(t){a.units=t},a._hSelectChartType=function(t){a.chartType=t},a._handleLoad=function(){a._handleWithValidationLoad(a._createValidationMessages(),a._createLoadOption)},a._createValidationMessages=function(){var t=a.props.msgOnNotSelected,e=[];a.country||e.push(t("Country"));var o=a.productFlow.getValidation(),n=o.isValid,i=o.msg;n||(e=e.concat(i)),a.units||(a.units=O[0]);var r=a.datesFragment.getValidation(),s=r.isValid,l=r.datesMsg;return s||(e=e.concat(l)),e.isValid=0===e.length,e},a._createLoadOption=function(){var t=a.productFlow.getValues(),e=t.one,o=t.two,n=a.datesFragment.getValues(),i=n.fromDate,r=n.toDate,s=a.chartType?a.chartType.value:void 0,l=a.props,c=l.fnValue,d=l.dataColumn,u=l.loadId,p=l.dataSource;return{value:c(a.country.value,e.value,o.value,a.units.value),title:a.country.caption+": "+e.caption,subtitle:o.caption+": "+a.units.caption,fromDate:i,toDate:r,dataColumn:d,seriaType:s,loadId:u,dataSource:p}},a._handleClose=function(){a._handleWithValidationClose()},a._refProductFlow=function(t){return a.productFlow=t},a._refDates=function(t){return a.datesFragment=t},a._menuMore=Object(g.a)(d()(a),{toggleToolBar:a._toggleWithToolbar,onAbout:a._clickInfoWithToolbar}),a.toolbarButtons=a._createType2WithToolbar(e),a.toolbarButtons.push({caption:"O",title:"Toggle Options Input",onClick:a._hClickOptions}),a._commandButtons=a._crCommandsWithLoad(d()(a)),a.state=l()({},a._isWithInitialState(),{isShowDate:!1,isShowOptions:!1}),a}p()(e,t);var a=e.prototype;return a.shouldComponentUpdate=function(t,e){return this.props===t||this.props.isShow!==t.isShow},a.render=function(){var t=this.props,e=t.caption,a=t.isShow,o=t.onShow,n=t.onFront,i=t.oneCaption,r=t.oneURI,s=t.oneJsonProp,l=t.parentCaption,c=t.parentChildURI,d=t.parentJsonProp,u=t.childCaption,p=t.msgOnNotSelected,h=t.initFromDate,S=t.initToDate,g=t.msgOnNotValidFormat,_=t.onTestDate,f=this.state,C=f.isToolbar,w=f.isShowLabels,D=f.isShowDate,v=f.isShowOptions,b=f.validationMessages;return m.a.createElement(T.a.DraggableDialog,{isShow:a,caption:e,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:o,onFront:n,onClose:this._handleClose},m.a.createElement(T.a.Toolbar,{isShow:C,buttons:this.toolbarButtons}),m.a.createElement(T.a.SelectWithLoad,{isShow:a,isShowLabels:w,uri:r,jsonProp:s,caption:i,optionNames:"Items",onSelect:this._hSelectCountry}),m.a.createElement(T.a.SelectOneTwo,{ref:this._refProductFlow,isShow:a,isShowLabels:w,uri:c,oneCaption:l,oneJsonProp:d,twoCaption:u,msgOnNotSelected:p}),m.a.createElement(T.a.RowInputSelect,{isShowLabels:w,caption:"Units",options:O,onSelect:this._hSelectUnits}),m.a.createElement(T.a.ShowHide,{isShow:D},m.a.createElement(T.a.DatesFragment,{ref:this._refDates,isShowLabels:w,initFromDate:h,initToDate:S,msgOnNotValidFormat:g,onTestDate:_})),m.a.createElement(T.a.ShowHide,{isShow:v},m.a.createElement(T.a.RowInputSelect,{isShowLabels:w,caption:"Chart Type",placeholder:"Default: AreaSpline",options:M,onSelect:this._hSelectChartType})),m.a.createElement(T.a.ValidationMessages,{validationMessages:b}))},e}(h.Component))||r};e.default=I}}]);