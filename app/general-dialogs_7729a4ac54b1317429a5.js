"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[146],{7317:(t,o,s)=>{s.r(o),s.d(o,{default:()=>f});var e,i=s(9679),n=s(9620),a=s(4827),h=s(5893);const{Decor:r,crMenuMore:l}=a.Z,c={width:85},d={width:270},p=t=>"string"==typeof t&&t.trim(),S=t=>!(!p(t)||!p(t.split("/")[2]));const w=(0,r.withToolbar)(e=(0,r.withLoad)(e=class extends i.Component{constructor(t){super(t),this._hSelectChartType=t=>{this.setState({chartType:t})},this._onRegColor=t=>{this.colorComp=t},this._handleLoad=()=>{if(this._idInput)if(this._idInput.isValid()){const t=this._idInput.getValue(),{props:o,state:s,colorComp:e,dialogOptions:i}=this,{onLoad:n,loadFn:a}=o,{chartType:h}=s,{seriaColor:r,seriaWidth:l}=e?e.getConf():{};n(a(this.props,{items:[{c:t,v:t}],chartType:h,seriaColor:r,seriaWidth:l,dialogOptions:i}))}else this._idInput.showErrMsg()},this._refIdInput=t=>this._idInput=t,this._refDates=t=>this.datesFragment=t,this._menuMore=l(this,{toggleToolBar:this._toggleWithToolbar,onAbout:this._clickInfoWithToolbar});const{noDate:o}=t;this.toolbarButtons=this._createType2WithToolbar(t,{noDate:o,isOptions:!0}),this._chartOptions=(0,n.kK)({chartsType:"t2"}),this._commandButtons=this._crCommandsWithLoad(this),this.state={isToolbar:!0,isShowLabels:!0,isShowDate:!0,isOptions:!1,chartType:"SPLINE"}}shouldComponentUpdate(t,o){return this.props===t||this.props.isShow!==t.isShow}render(){const{caption:t,isShow:o,onShow:s,onFront:e,onClose:i,oneCaption:n,onePlaceholder:r,noDate:l,initFromDate:p,initToDate:w,msgOnNotValidFormat:m,onTestDate:_}=this.props,{isToolbar:u,isShowLabels:g,isShowDate:T,isOptions:C,chartType:D}=this.state;return(0,h.jsxs)(a.Z.DraggableDialog,{isShow:o,menuModel:this._menuMore,caption:t,commandButtons:this._commandButtons,onShowChart:s,onFront:e,onClose:i,children:[(0,h.jsx)(a.Z.Toolbar,{isShow:u,buttons:this.toolbarButtons}),(0,h.jsx)(a.Z.ModalOptions,{isShow:C,toggleOption:this._toggleOptionWithToolbar,onClose:this._hideOptionsWithToolbar}),(0,h.jsx)(a.Z.RowPattern,{ref:this._refIdInput,isShow:o,isShowLabels:g,captionStyle:c,rootStyle:d,placeholder:r,caption:n,onTest:S,errorMsg:"Empty or Id format is not valid"}),(0,h.jsx)(a.Z.RowChartDate,{chartType:D,isShowLabels:g,isShowChart:!0,labelStyle:c,selectWidth:d.width,chartOptions:this._chartOptions,onSelectChart:this._hSelectChartType,onRegColor:this._onRegColor,noDate:l}),!l&&(0,h.jsx)(a.Z.ShowHide,{isShow:T,children:(0,h.jsx)(a.Z.DatesFragment,{ref:this._refDates,isShowLabels:g,initFromDate:p,initToDate:w,msgOnNotValidFormat:m,onTestDate:_})})]})}})||e)||e;var m;const{Decor:_,crMenuMore:u}=a.Z;const g=(0,_.dialog)(m=class extends i.Component{constructor(t){super(t),this._handleSelectOne=t=>{this.one=t},this._handleSelectTwo=t=>{this.two=t},this._handleSelectThree=t=>{this.three=t},this._handleLoad=()=>{this._handleWithValidationLoad(this._createValidationMessages(),this._createLoadOption)},this._createValidationMessages=()=>{const{oneCaption:t,twoCaption:o,threeURI:s,threeCaption:e,msgOnNotSelected:i}=this.props;let n=[];if(this.one||n.push(i(t)),this.two||n.push(i(o)),s&&!this.three&&n.push(i(e)),this.datesFragment){const{isValid:t,datesMsg:o}=this.datesFragment.getValidation();t||(n=n.concat(o))}return n.isValid=0===n.length,n},this._createLoadOption=()=>{const{fromDate:t,toDate:o}=this.datesFragment?this.datesFragment.getValues():{};return this.props.loadFn(this.props,{one:this.one,two:this.two,three:this.three,fromDate:t,toDate:o,hasSecondYAxis:this.hasSecondYAxis})},this._handleClose=()=>{this._handleWithValidationClose()},this._hCheckSecondYAxis=()=>{this.hasSecondYAxis=!0},this._hUnCheckSecondYAxis=()=>{this.hasSecondYAxis=!1},this._refDates=t=>this.datesFragment=t,this._menuMore=u(this,{toggleToolBar:this._toggleWithToolbar,onAbout:this._clickInfoWithToolbar});const{noDate:o,noOptions:s}=t;this.toolbarButtons=this._createType2WithToolbar(t,{noDate:o,isShowOptions:!s}),this._commandButtons=this._crCommandsWithLoad(this),this.state={...this._isWithInitialState(),isShowOptions:!1}}shouldComponentUpdate(t,o){return this.props===t||this.props.isShow!==t.isShow}render(){const{caption:t,isShow:o,onShow:s,onFront:e,oneCaption:i,oneNames:n,oneURI:r,oneJsonProp:l,isWithOneInput:c,twoCaption:d,twoNames:p,twoURI:S,twoJsonProp:w,isWithInputTwo:m,threeCaption:_,threeNames:u,threeURI:g,threeJsonProp:T,isWithInputThree:C,initFromDate:D,initToDate:b,msgOnNotValidFormat:x,onTestDate:O,noDate:V,noOptions:F}=this.props,{isToolbar:L,isShowLabels:f,isShowDate:M,isShowOptions:W,validationMessages:j}=this.state;return(0,h.jsxs)(a.Z.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:s,onFront:e,onClose:this._handleClose,children:[(0,h.jsx)(a.Z.Toolbar,{isShow:L,buttons:this.toolbarButtons}),(0,h.jsx)(a.Z.SelectWithLoad,{isShow:o,isShowLabels:f,uri:r,jsonProp:l,caption:i,optionNames:n,isWithInput:c,onSelect:this._handleSelectOne}),(0,h.jsx)(a.Z.SelectWithLoad,{isShow:o,isShowLabels:f,uri:S,jsonProp:w,caption:d,optionNames:p,isWithInput:m,onSelect:this._handleSelectTwo}),g&&(0,h.jsx)(a.Z.SelectWithLoad,{isShow:o,isShowLabels:f,uri:g,jsonProp:T,caption:_,optionNames:u,isWithInput:C,onSelect:this._handleSelectThree}),!0!==V&&(0,h.jsx)(a.Z.ShowHide,{isShow:M,children:(0,h.jsx)(a.Z.DatesFragment,{ref:this._refDates,isShowLabels:f,initFromDate:D,initToDate:b,msgOnNotValidFormat:x,onTestDate:O})}),!0!==F&&(0,h.jsx)(a.Z.ShowHide,{isShow:W,children:(0,h.jsx)(a.Z.RowCheckBox,{initValue:!1,caption:"Add Seria with Second YAxis",onCheck:this._hCheckSecondYAxis,onUnCheck:this._hUnCheckSecondYAxis})}),(0,h.jsx)(a.Z.ValidationMessages,{validationMessages:j})]})}})||m;var T;const{Decor:C,crMenuMore:D}=a.Z;const b=(0,C.dialog)(T=class extends i.Component{constructor(t){super(t),this._handleLoad=()=>{this._handleWithValidationLoad(this._createValidationMessages(),this._createLoadOption)},this._createValidationMessages=()=>{let t=[];const{isValid:o,msg:s}=this.oneTwo.getValidation();o||(t=t.concat(s));const{isValid:e,datesMsg:i}=this.datesFragment.getValidation();return e||(t=t.concat(i)),t.isValid=0===t.length,t},this._createLoadOption=()=>{const{one:t,two:o}=this.oneTwo.getValues(),{fromDate:s,toDate:e}=this.datesFragment.getValues();return this.props.loadFn(this.props,{one:t,two:o,fromDate:s,toDate:e,hasSecondYAxis:this.hasSecondYAxis})},this._handleClose=()=>{this._handleWithValidationClose()},this._hCheckSecondYAxis=()=>{this.hasSecondYAxis=!0},this._hUnCheckSecondYAxis=()=>{this.hasSecondYAxis=!1},this._refOneTwo=t=>this.oneTwo=t,this._refDates=t=>this.datesFragment=t,this._menuMore=D(this,{toggleToolBar:this._toggleWithToolbar,onAbout:this._clickInfoWithToolbar}),this.toolbarButtons=this._createType2WithToolbar(t,{isShowOptions:!0}),this.hasSecondYAxis=!1,this._commandButtons=this._crCommandsWithLoad(this),this.state={...this._isWithInitialState(),isShowOptions:!1}}shouldComponentUpdate(t,o){return this.props===t||this.props.isShow!==t.isShow}render(){const{caption:t,oneCaption:o,oneURI:s,oneJsonProp:e,twoCaption:i,msgOnNotSelected:n,isShow:r,onShow:l,onFront:c,initFromDate:d,initToDate:p,msgOnNotValidFormat:S,onTestDate:w}=this.props,{isToolbar:m,isShowLabels:_,isShowDate:u,isShowOptions:g,validationMessages:T}=this.state;return(0,h.jsxs)(a.Z.DraggableDialog,{isShow:r,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:l,onFront:c,onClose:this._handleClose,children:[(0,h.jsx)(a.Z.Toolbar,{isShow:m,buttons:this.toolbarButtons}),(0,h.jsx)(a.Z.SelectOneTwo,{ref:this._refOneTwo,isShow:r,isShowLabels:_,uri:s,oneCaption:o,oneJsonProp:e,twoCaption:i,msgOnNotSelected:n}),(0,h.jsx)(a.Z.ShowHide,{isShow:u,children:(0,h.jsx)(a.Z.DatesFragment,{ref:this._refDates,isShowLabels:_,initFromDate:d,initToDate:p,msgOnNotValidFormat:S,onTestDate:w})}),(0,h.jsx)(a.Z.ShowHide,{isShow:g,children:(0,h.jsx)(a.Z.RowCheckBox,{initValue:!1,caption:"Add Seria with Second YAxis",onCheck:this._hCheckSecondYAxis,onUnCheck:this._hUnCheckSecondYAxis})}),(0,h.jsx)(a.Z.ValidationMessages,{validationMessages:T})]})}})||T;var x,O=s(6485);const{Decor:V,crMenuMore:F}=a.Z,L=[{caption:"Default: Area",value:O.rb},{caption:"Scatter: Label Up",value:O.JK},{caption:"Scatter: Label Down",value:O.oD}];const f={Query:w,Type4:g,Type4A:b,Type5:(0,V.dialog)(x=class extends i.Component{constructor(t){super(t),this._handleSelectOne=t=>{this.one=t},this._handleLoad=()=>{this._handleWithValidationLoad(this._createValidationMessages(),this._createLoadOption)},this._createValidationMessages=()=>{const{oneCaption:t}=this.props;let o=[];this.one||o.push(this.props.msgOnNotSelected(t));const{isValid:s,msg:e}=this.twoThree.getValidation();s||(o=o.concat(e));const{isValid:i,datesMsg:n}=this.datesFragment.getValidation();return i||(o=o.concat(n)),o.isValid=0===o.length,o},this._createLoadOption=()=>{const{one:t,two:o}=this.twoThree.getValues(),{fromDate:s,toDate:e}=this.datesFragment.getValues(),i=this.chartType?this.chartType.value:void 0;return this.props.loadFn(this.props,{one:this.one,two:t,three:o,fromDate:s,toDate:e,hasSecondYAxis:this.hasSecondYAxis,seriaType:i})},this._handleClose=()=>{this._handleWithValidationClose()},this._hCheckSecondYAxis=()=>{this.hasSecondYAxis=!0},this._hUnCheckSecondYAxis=()=>{this.hasSecondYAxis=!1},this._handlerSelectChartType=t=>{this.chartType=t},this._refTwoThree=t=>this.twoThree=t,this._refDates=t=>this.datesFragment=t,this._menuMore=F(this,{toggleToolBar:this._toggleWithToolbar,onAbout:this._clickInfoWithToolbar}),this.toolbarButtons=this._createType2WithToolbar(t,{isShowOptions:!0}),this._commandButtons=this._crCommandsWithLoad(this),this.state={...this._isWithInitialState(),isShowDate:!1,isShowOptions:!1}}shouldComponentUpdate(t,o){return this.props===t||this.props.isShow!==t.isShow}render(){const{caption:t,isShow:o,onShow:s,onFront:e,oneCaption:i,oneURI:n,oneJsonProp:r,twoCaption:l,twoURI:c,twoJsonProp:d,threeCaption:p,msgOnNotSelected:S,initFromDate:w,initToDate:m,msgOnNotValidFormat:_,onTestDate:u,isChartType:g}=this.props,{isToolbar:T,isShowLabels:C,isShowDate:D,isShowOptions:b,validationMessages:x}=this.state;return(0,h.jsxs)(a.Z.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:s,onFront:e,onClose:this._handleClose,children:[(0,h.jsx)(a.Z.Toolbar,{isShow:T,buttons:this.toolbarButtons}),(0,h.jsx)(a.Z.SelectWithLoad,{isShow:o,isShowLabels:C,uri:n,jsonProp:r,caption:i,optionNames:"Items",onSelect:this._handleSelectOne}),(0,h.jsx)(a.Z.SelectOneTwo,{ref:this._refTwoThree,isShow:o,isShowLabels:C,uri:c,oneCaption:l,oneJsonProp:d,twoCaption:p,msgOnNotSelected:S}),(0,h.jsx)(a.Z.ShowHide,{isShow:D,children:(0,h.jsx)(a.Z.DatesFragment,{ref:this._refDates,isShowLabels:C,initFromDate:w,initToDate:m,msgOnNotValidFormat:_,onTestDate:u})}),(0,h.jsxs)(a.Z.ShowHide,{isShow:b,children:[g&&(0,h.jsx)(a.Z.RowInputSelect,{isShowLabels:C,caption:"Chart Type:",options:L,onSelect:this._handlerSelectChartType}),(0,h.jsx)(a.Z.RowCheckBox,{initValue:!1,caption:"Add Seria with Second YAxis",onCheck:this._hCheckSecondYAxis,onUnCheck:this._hUnCheckSecondYAxis})]}),(0,h.jsx)(a.Z.ValidationMessages,{validationMessages:x})]})}})||x}}}]);