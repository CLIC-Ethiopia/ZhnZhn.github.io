(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dZ8H:function(t,e,r){"use strict";r.r(e);var n,a,i,o,s,d=r("VbXa"),l=r.n(d),p=r("q1tI"),c=r.n(p),u=r("0TwO"),h=r("+xHe"),D=r("kp4x"),g=r("jXBw"),f=r("QLp3"),_={ROOT:{marginBottom:"10px"},BT_LIST:{marginLeft:"20px"}},v=function(t){var e=t.isShow,r=t.onClickGroup,n=t.onClickList;return e?c.a.createElement("div",{style:_.ROOT},c.a.createElement(f.a,{caption:"GROUP",isWithoutDefault:!0,className:"bt__watch__bar",onClick:r}),c.a.createElement(f.a,{caption:"LIST",isWithoutDefault:!0,className:"bt__watch__bar",style:_.BT_LIST,onClick:n})):null},E=r("/7pf"),S={ITEM_DIV:{position:"relative",paddingRight:40,paddingTop:5,paddingBottom:5},ITEM_SPAN:{display:"inline-block",width:"100%",maxWidth:250,height:28,verticalAlign:"middle",textOverflow:"ellipsis",overflow:"hidden"},SVG_CLOSE:{position:"absolute",right:0}},I=function(t){var e=t.item,r=t.className,n=t.isModeEdit,a=t.option,i=t.onClick,o=t.onClose,s=t.onDragStart,d=t.onDragEnter,l=t.onDragOver,p=t.onDragLeave,u=t.onDrop,h=e.caption,D=n?c.a.createElement(E.a,{style:S.SVG_CLOSE,onClose:o.bind(null,a)}):null;return c.a.createElement("div",{className:r,style:S.ITEM_DIV,onClick:i.bind(null,e),draggable:n,onDragStart:n?s.bind(null,a):void 0,onDrop:n?u.bind(null,a):void 0,onDragOver:n?l:void 0,onDragEnter:n?d:void 0,onDragLeave:n?p:void 0},c.a.createElement("span",{style:S.ITEM_SPAN},h),D)},T=function(t,e){t.persist(),a=t.currentTarget;var r=t.currentTarget.style;i=r.getPropertyValue("border-bottom"),n=e},L=function(t){var e=a.style;t.currentTarget.style.removeProperty("border-left"),e.removeProperty("border"),e.setProperty("border-bottom",i)},b=function(t,e,r){var a=t.currentTarget.style;o=a.getPropertyValue("border-left"),-1!==n.indexOf(e)?a.setProperty("border-left",function(t){return void 0===t&&(t="green"),"4px solid "+t}(r)):a.setProperty("border-left","4px solid red")},m=function(t){var e=t.currentTarget.style;e.removeProperty("border-left"),e.setProperty("border-left",o)},y=function(t){Object.assign(t.prototype,{dragStartWithDnDStyle:T,dropWithDnDStyle:L,dragEnterWithDnDStyle:b,dragLeaveWithDnDStyle:m})},O={setTransferTo:function(t){var e=t.event,r=t.dragId,n=t.xType;Object.assign(e.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:n}))}},C=function(t){return function(e,r){var n=e.caption;this.dragStartWithDnDStyle(r,[t.GROUP]),O.setTransferTo({event:r,dragId:n+";",xType:t.GROUP})}},w=function(t,e){return function(r,n){var a=r.caption;this.dropWithDnDStyle(n);var i=JSON.parse(n.dataTransfer.getData("text")),o=i.xType,s=i.dragId,d=a+";";if(o===t.GROUP){if(s===d)return;n.preventDefault(),e.dragDropGroup({dragId:s,dropId:d})}else o===t.LIST&&(n.preventDefault(),e.dragDropList({dragId:s,dropId:d}))}},G=function(t){return function(e){e.preventDefault(),this.dragEnterWithDnDStyle(e,t.GROUP,t.C_GROUP_ENTER)}},R=function(t){t.preventDefault()},M=function(t){t.preventDefault(),this.dragLeaveWithDnDStyle(t)},W=function(t,e){Object.assign(this,{_hDragStartGroup:C(t).bind(this),_hDropGroup:w(t,e).bind(this),_hDragEnterGroup:G(t).bind(this),_hDragOverGroup:R,_hDragLeaveGroup:M.bind(this)})},P=function(t){Object.assign(t.prototype,{_bindDnDGroup:W})},x=function(t){return function(e,r){var n=e.groupCaption,a=e.caption;this.dragStartWithDnDStyle(r,[t.GROUP,t.LIST]),O.setTransferTo({event:r,dragId:n+";"+a,xType:t.LIST})}},k=function(t,e){return function(r,n){var a=r.groupCaption,i=r.caption;this.dropWithDnDStyle(n);var o=JSON.parse(n.dataTransfer.getData("text")),s=o.xType,d=o.dragId,l=a+";"+i+";";if(s===t.LIST){if(d===l)return;n.preventDefault(),e.dragDropList({dragId:d,dropId:l})}else s===t.ITEM&&(n.preventDefault(),e.dragDropItem({dragId:d,dropId:l}))}},N=function(t){return function(e){e.preventDefault(),this.dragEnterWithDnDStyle(e,t.LIST,t.C_LIST_ENTER)}},B=function(t){t.preventDefault()},U=function(t){t.preventDefault(),this.dragLeaveWithDnDStyle(t)},V=function(t,e){Object.assign(this,{_hDragStartList:x(t).bind(this),_hDropList:k(t,e).bind(this),_hDragEnterList:N(t).bind(this),_hDragOverList:B,_hDragLeaveList:U.bind(this)})},j=function(t){Object.assign(t.prototype,{_bindDnDList:V})},A=function(t){return function(e,r){var n=e.groupCaption,a=e.listCaption,i=e.caption;this.dragStartWithDnDStyle(r,[t.LIST,t.ITEM]),O.setTransferTo({event:r,dragId:n+";"+a+";"+i,xType:t.ITEM})}},H=function(t,e){return function(r,n){var a=r.groupCaption,i=r.listCaption,o=r.caption;this.dropWithDnDStyle(n);var s=JSON.parse(n.dataTransfer.getData("text")),d=s.xType,l=s.dragId,p=a+";"+i+";"+o;if(d===t.ITEM){if(l===p)return;n.preventDefault(),e.dragDropItem({dragId:l,dropId:p})}}},J=function(t){return function(e){e.preventDefault(),this.dragEnterWithDnDStyle(e,t.ITEM,t.C_LIST_ENTER)}},X=function(t){t.preventDefault()},q=function(t){t.preventDefault(),this.dragLeaveWithDnDStyle(t)},Q=function(t,e){Object.assign(this,{_hDragStartItem:A(t).bind(this),_hDropItem:H(t,e).bind(this),_hDragEnterItem:J(t).bind(this),_hDragOverItem:X,_hDragLeaveItem:q.bind(this)})},Z=function(t){Object.assign(t.prototype,{_bindDnDItem:Q})},z="scroll-container-y scroll-watch",F="row__type2-topic not-selected",K={BROWSER:{paddingRight:"0px"},BT_CIRCLE:{position:"relative",top:-2,marginLeft:20},GROUP_DIV:{lineHeight:2},LIST_DIV:{marginLeft:8,paddingLeft:12,borderLeft:"2px solid #1b2836",lineHeight:2},ITEM_NOT_SELECTED:{marginRight:10,borderBottom:"1px solid rgba(128, 192, 64, 0.6)"}},Y={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},$=function(t){y(t),P(t),j(t),Z(t)}(s=function(t){function e(e){var r;return(r=t.call(this,e)||this)._onStore=function(t,e){var n=r.props,a=n.browserType,i=n.showAction,o=n.updateAction;t===i&&e===a?r._handlerShow():t===o&&r.setState({watchList:e})},r._handlerHide=function(){r.setState({isShow:!1})},r._handlerShow=function(){r.setState({isShow:!0})},r._handlerToggleEditMode=function(){r.setState({isModeEdit:!r.state.isModeEdit})},r._renderWatchList=function(t){var e=r.state.isModeEdit;return t.groups.map((function(t,n){var a=t.caption,i=t.lists;return c.a.createElement(g.a.OpenClose2,{key:n,style:K.GROUP_DIV,fillOpen:"#1b2836",caption:a,isDraggable:e,option:{caption:a},onDragStart:r._hDragStartGroup,onDragEnter:r._hDragEnterGroup,onDragOver:r._hDragOverGroup,onDragLeave:r._hDragLeaveGroup,onDrop:r._hDropGroup},i&&r._renderLists(i,a))}))},r._renderLists=function(t,e){var n=r.state.isModeEdit;return t.map((function(t,a){var i=t.caption,o=t.items;return c.a.createElement(g.a.OpenClose2,{key:a,fillOpen:"#80c040",style:K.LIST_DIV,styleNotSelected:K.ITEM_NOT_SELECTED,caption:i,isDraggable:n,option:{groupCaption:e,caption:i},onDragStart:r._hDragStartList,onDragEnter:r._hDragEnterList,onDragOver:r._hDragOverList,onDragLeave:r._hDragLeaveList,onDrop:r._hDropList},o&&r._renderItems(o,e,i))}))},r._renderItems=function(t,e,n){var a=r.state.isModeEdit;return t.map((function(t,i){var o=t.id,s=t.caption;return c.a.createElement(I,{key:o,className:F,isModeEdit:a,item:t,option:{groupCaption:e,listCaption:n,caption:s},onClick:r._handlerClickItem,onClose:r._handlerRemoveItem,onDragStart:r._hDragStartItem,onDragOver:r._hDragOverItem,onDragEnter:r._hDragEnterItem,onDragLeave:r._hDragLeaveItem,onDrop:r._hDropItem})}))},r._bindDnDGroup(Y,D.b),r._bindDnDList(Y,D.b),r._bindDnDItem(Y,D.b),r.state={isShow:!!e.isInitShow,isModeEdit:!1,watchList:e.store.getWatchList()},r}l()(e,t);var r=e.prototype;return r.componentDidMount=function(){this.unsubscribe=this.props.store.listen(this._onStore)},r.componentWillUnmount=function(){this.unsubscribe()},r._handlerSaveWatch=function(){D.b.saveWatch()},r._handlerEditGroup=function(){h.b.showModalDialog(u.f.EDIT_WATCH_GROUP)},r._handlerEditList=function(){h.b.showModalDialog(u.f.EDIT_WATCH_LIST)},r._handlerClickItem=function(t){h.b.showModalDialog(u.f.LOAD_ITEM,t)},r._handlerRemoveItem=function(t,e){e.stopPropagation(),D.b.removeItem(t)},r.render=function(){var t=this.props.caption,e=this.state,r=e.isShow,n=e.isModeEdit,a=e.watchList,i=n?"V":"E";return c.a.createElement(g.a.Browser,{isShow:r,style:K.BROWSER},c.a.createElement(g.a.BrowserCaption,{caption:t,onClose:this._handlerHide},c.a.createElement(g.a.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:K.BT_CIRCLE,onClick:this._handlerSaveWatch}),c.a.createElement(g.a.ButtonCircle,{caption:i,title:"Toggle Edit Mode: E/V",style:K.BT_CIRCLE,onClick:this._handlerToggleEditMode})),c.a.createElement(v,{isShow:n,onClickGroup:this._handlerEditGroup,onClickList:this._handlerEditList}),c.a.createElement(g.a.ScrollPane,{className:z},a&&this._renderWatchList(a)))},e}(p.Component))||s;e.default=$}}]);