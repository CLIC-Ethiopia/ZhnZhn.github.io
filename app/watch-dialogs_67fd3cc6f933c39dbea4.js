"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[437],{6235:(t,e,o)=>{o.d(e,{T:()=>r,V:()=>l});var s=o(9916),n=o(5893);const i={color:"#607d8b"},a={color:"#232f3b"},r=t=>{let{onClick:e}=t;return(0,n.jsx)(s.Z,{style:i,caption:"Load",title:"Load Item to Container",onClick:e})},l=t=>{let{onClick:e}=t;return(0,n.jsx)(s.Z,{style:a,caption:"Show",title:"Show Item Container",onClick:e})}},2146:(t,e,o)=>{o.r(e),o.d(e,{default:()=>dt});var s=o(1768),n=o(6016),i=o(1926),a=o(8240),r=o(7020),l=o(9468),c=o(8286),p=o(3115),u=o(4485),d=o(5138),m=o(4868),x=o(6235),C=o(2276),h=o(5893);const g={width:365},j={width:265},f={display:"inline-block",maxWidth:250,height:32,verticalAlign:"middle"},y=t=>"number"==typeof t&&t-t==0,w=(0,l.i2)(),T={},S=(0,a.QS)(2),Z=(0,a.TP)(),G=(0,n.Z)((t=>{let{isShow:e,data:o=T,onClose:n}=t;const l=(0,s.sO)(),{caption:G,fromDate:L,initToDate:I,onTestDate:R,itemConf:v}=o,{dataSource:A,x:B,y:O}=v||{},[k,b]=(0,i.Z)(w),[N,D]=(0,i.Z)(y(B)),[F,V]=(0,i.Z)(),W=(0,s.eA)((0,s.sO)([{caption:"L",title:"Click to toggle input labels",onClick:b},{caption:"V",title:"Click to toggle row value",onClick:D},{caption:"D",title:"Click to toggle date input",onClick:V}])),[E,M]=(0,s.eJ)([]),P=[(0,h.jsx)(x.T,{onClick:()=>{const t=(0,s.eA)(l),{isValid:e,datesMsg:i}=t.getValidation(),a=e?[]:i;if(0===a.length){const{id:e,title:s,subtitle:i,caption:a,columnName:r,dataColumn:l,seriaColumnNames:d,itemConf:m={}}=o,{fromDate:x,toDate:C}=t.getValues(),h={id:e,title:s,subtitle:i,value:a,item:a,fromDate:x,toDate:C,columnName:r,dataColumn:l,seriaColumnNames:d,loadId:m.loadId||p.O8,...m};c.LX[c.SX]({chartType:p.e9,browserType:u.lx},h),n(),M((t=>t.length>0?[]:t))}else M(a)}},"load")];(0,s.d4)((()=>{D(y(B))}),[B,D]);const J=L||S,Y=I||Z,_=R||a.RB,H=k?g:j,U=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),((0,r.Z)(e)+" "+(0,a.P9)(t)).trim()}(B,O);return(0,h.jsxs)(d.Z,{style:H,isShow:e,caption:"Load Item",commandButtons:P,onClose:()=>{n(),M([])},children:[(0,h.jsx)(m.Z.Toolbar,{isShow:!0,buttons:W}),(0,h.jsx)(m.Z.RowText,{isShowLabels:k,textStyle:f,caption:"Item:",text:G}),(0,h.jsx)(m.Z.ShowHide,{isShow:N,children:(0,h.jsx)(m.Z.RowText,{isShowLabels:k,textStyle:f,caption:"Value:",text:U})}),(0,h.jsx)(m.Z.ShowHide,{isShow:F,children:(0,h.jsx)(m.Z.DatesFragment,{ref:l,isShowLabels:k,initFromDate:J,initToDate:Y,onTestDate:_})}),(0,h.jsx)(m.Z.RowText,{isShowLabels:k,textStyle:f,caption:"Source:",text:A}),(0,h.jsx)(C.Z,{validationMessages:E})]})}));var L=o(2261),I=o(3218),R=o(2125),v=o(3943),A=o(3297),B=o(795),O=o(5313),k=o(7376);const b={...k.UR,lineHeight:2},N={...k.m9,width:120},D={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},F=(0,s.Gp)(((t,e)=>{let{caption:o}=t;return(0,h.jsxs)("div",{style:b,children:[(0,h.jsx)("span",{style:N,children:o}),(0,h.jsx)(O.Z,{ref:e,style:D})]})}));var V=o(6614);const W={...k.m9,width:120},E=t=>{let{caption:e,options:o,onSelect:s}=t;return(0,h.jsxs)("div",{style:k.UR,children:[(0,h.jsx)("span",{style:W,children:e}),(0,h.jsx)(V.Z,{width:"250",options:o,onSelect:s})]})};var M=o(5868);const P=()=>{const t=(0,s.sO)(),e=(0,s.I4)((e=>{(0,s.oe)(t,(e||{}).caption)}),[]);return[t,e]},J=(0,s.Gp)(((t,e)=>{const[o,n]=(0,M.Z)(t),{store:i,groupCaption:a,groupOptions:r,listCaption:l}=t,c=(0,s.sO)(),[p,u]=P(),[d,m]=(0,s.eJ)([]),x=(0,s.I4)((t=>{const{caption:e}=t||{};t&&e?((0,s.oe)(c,e),(0,s.oe)(p,null),m(t.lists||[])):(0,s.oe)(c,null)}),[]);return(0,s.d4)((()=>{const e=n();if(e!==t){if(e.groupOptions!==r)(0,s.oe)(c,null),(0,s.oe)(p,null),m([]);else if((0,s.eA)(c)){const t=i.getWatchListsByGroup(c.current);t!==d&&((0,s.oe)(p,null),m(t))}o(t)}}),[t]),(0,s.aP)(e,(()=>({getValue:()=>({captionGroup:(0,s.eA)(c),captionList:(0,s.eA)(p)})}))),(0,h.jsxs)("div",{children:[(0,h.jsx)(E,{caption:a,options:r,onSelect:x}),(0,h.jsx)(E,{caption:l,options:d,onSelect:u})]})}));var Y=o(481);const _={...o(390).xM,margin:"8px 4px 10px 0"},H=t=>{let{refBtClose:e,Primary:o,withoutClear:s,onClear:n,onClose:i}=t;return(0,h.jsxs)("div",{style:_,children:[o,!s&&(0,h.jsx)(Y.Z.Clear,{onClick:n}),(0,h.jsx)(Y.Z.Close,{refBt:e,onClick:i})]})},U={RowInputText:F,RowInputSelect:E,SelectGroupList:J,Button:Y.Z,RowButtons:H,ValidationMessages:C.Z},X=t=>t.isVisible?t.setRefFocusLast:void 0,$=t=>{const{actionCompleted:e,actionFailed:o,forActionType:n,onCreate:i,msgOnIsEmptyName:a,onClose:r}=t,l=(0,s.sO)(),[c,p]=(0,s.eJ)([]),u=((t,e,o,n)=>(0,h.jsx)(U.Button.Primary,{caption:"Create",title:"Create New Group",onClick:()=>{const i=(0,s.d9)(t);i?o({caption:i}):(t.current.setValue(""),e([n("Group")]))}}))(l,p,i,a),d=()=>{l.current.setValue(""),p([])};return(0,B.Z)(((t,s)=>{t===e&&s.forActionType===n?d():t===o&&s.forActionType===n&&p(s.messages)})),(0,h.jsxs)("div",{children:[(0,h.jsx)(U.RowInputText,{ref:l,caption:"Group:"}),(0,h.jsx)(U.ValidationMessages,{validationMessages:c}),(0,h.jsx)(U.RowButtons,{refBtClose:X(t),Primary:u,onClear:d,onClose:r})]})},Q=t=>{const e=(0,s.sO)(),o=(0,s.I4)((()=>{const o=(0,s.eA)(e);o&&(o.setValue(""),t([]))}),[]);return[e,o]},q=t=>{const{store:e,actionCompleted:o,actionFailed:n,forActionType:i,onRename:a,msgOnNotSelect:r,msgOnIsEmptyName:l,onClose:c}=t,[p,u]=(0,s.eJ)((()=>e.getWatchGroups())),[d,m]=(0,s.eJ)([]),[x,C]=Q(m),[g,j]=P(),f=(0,s.I4)((()=>{const t=(0,s.d9)(x),e=(0,s.eA)(g);if(t&&e)a({captionFrom:e,captionTo:t});else{const o=[];e||o.push(r("Group From")),t||o.push(l("Group To")),m(o)}}),[]),y=(0,s.Ye)((()=>(0,h.jsx)(U.Button.Primary,{caption:"Edit",title:"Edit Group Name",onClick:f})),[f]);return(0,B.Z)(((t,s)=>{t===o?(s.forActionType===i&&C(),u(e.getWatchGroups())):t===n&&s.forActionType===i&&m(s.messages)})),(0,h.jsxs)("div",{children:[(0,h.jsx)(U.RowInputSelect,{caption:"Group From:",options:p,onSelect:j}),(0,h.jsx)(U.RowInputText,{ref:x,caption:"Group To:"}),(0,h.jsx)(U.ValidationMessages,{validationMessages:d}),(0,h.jsx)(U.RowButtons,{refBtClose:X(t),Primary:y,onClear:C,onClose:c})]})},z=t=>({groups:t.getWatchGroups,errs:[]}),K=(t,e)=>({type:t,payload:e}),tt=(t,e)=>{let{type:o,payload:s}=e;switch(o){case"a":return{groups:s,errs:[]};case"b":return{...t,errs:s};default:return t}},et=t=>{const{store:e,actionCompleted:o,onDelete:n,msgOnNotSelect:i,onClose:a}=t,r=(0,s.sO)(null),[l,c,p,u]=((t,e)=>{const[{groups:o,errs:n},i]=(0,s._Y)(tt,t,z);return[o,n,t=>i(K("a",t)),()=>i(K("b",[e("Group")]))]})(e,i),d=((t,e,o)=>(0,h.jsx)(U.Button.Primary,{caption:"Delete",title:"Delete Group",onClick:()=>{const n=(0,s.eA)(t);n?(e({caption:n}),(0,s.oe)(t,null)):o()}}))(r,n,u);return(0,B.Z)(((t,s)=>{t===o&&p(e.getWatchGroups())})),(0,h.jsxs)("div",{children:[(0,h.jsx)(U.RowInputSelect,{caption:"Group:",options:l,onSelect:t=>{(0,s.oe)(r,t&&t.caption||null)}}),(0,h.jsx)(U.ValidationMessages,{validationMessages:c}),(0,h.jsx)(U.RowButtons,{refBtClose:X(t),Primary:d,withoutClear:!0,onClose:a})]})},ot=I.e4[I.R2],st=I.e4[I.Bv],nt=I.e4[I.E2],it=(0,n.Z)((t=>{let{isShow:e,store:o,onClose:s}=t;const[n,i]=(0,L.Z)();return(0,h.jsx)(d.Z,{refFocusLast:n,caption:"Watch Groups Edit",isShow:e,isWithButton:!1,onClose:s,children:(0,h.jsxs)(v.Z,{id:"egd",width:380,store:o,actionCompleted:I.$0,actionFailed:I.db,msgOnNotSelect:R.xW,msgOnIsEmptyName:R.eT,onClose:s,setRefFocusLast:i,children:[(0,h.jsx)(A.Z,{title:"Create",children:(0,h.jsx)($,{forActionType:I.R2,onCreate:ot})}),(0,h.jsx)(A.Z,{title:"Rename",children:(0,h.jsx)(q,{forActionType:I.Bv,onRename:st})}),(0,h.jsx)(A.Z,{title:"Delete",children:(0,h.jsx)(et,{forActionType:I.E2,onDelete:nt})})]})})})),at=t=>{const{store:e,onCreate:o,msgOnNotSelect:n,msgOnIsEmptyName:i,actionCompleted:a,actionFailed:r,forActionType:l,onClose:c}=t,[p,u]=(0,s.eJ)((()=>e.getWatchGroups())),[d,m]=(0,s.eJ)([]),[x,C]=Q(m),[g,j]=P(),f=(0,s.I4)((()=>{const t=(0,s.d9)(x),e=(0,s.eA)(g);if(e&&t)o({captionGroup:e,captionList:t});else{const o=[];e||o.push(n("In Group")),t||o.push(i("List")),m(o)}}),[]),y=(0,s.Ye)((()=>(0,h.jsx)(U.Button.Primary,{caption:"Create",title:"Create New List",onClick:f})),[f]);return(0,B.Z)(((t,o)=>{t===a?(o.forActionType===l&&C(),u(e.getWatchGroups())):t===r&&o.forActionType===l&&m(o.messages)})),(0,h.jsxs)("div",{children:[(0,h.jsx)(U.RowInputSelect,{caption:"In Group:",options:p,onSelect:j}),(0,h.jsx)(U.RowInputText,{ref:x,caption:"List:"}),(0,h.jsx)(U.ValidationMessages,{validationMessages:d}),(0,h.jsx)(U.RowButtons,{refBtClose:X(t),Primary:y,onClear:C,onClose:c})]})},rt=t=>{const{store:e,onRename:o,msgOnIsEmptyName:n,msgOnNotSelect:i,actionCompleted:a,actionFailed:r,forActionType:l,onClose:c}=t,[p,u]=(0,s.eJ)((()=>e.getWatchGroups())),[d,m]=(0,s.eJ)([]),x=(0,s.sO)(),[C,g]=Q(m),j=(0,s.I4)((()=>{const{captionGroup:t,captionList:e}=(0,s.d9)(x)||{},a=(0,s.d9)(C);if(t&&e&&a)o({captionGroup:t,captionListFrom:e,captionListTo:a});else{const o=[];t||o.push(i("Group")),e||o.push(i("List From")),a||o.push(n("List To")),m(o)}}),[]),f=(0,s.Ye)((()=>(0,h.jsx)(U.Button.Primary,{caption:"Edit",title:"Edit List Name",onClick:j})),[j]);return(0,B.Z)(((t,o)=>{t===a?(o.forActionType===l&&g(),u(e.getWatchGroups())):t===r&&o.forActionType===l&&m(o.messages)})),(0,h.jsxs)("div",{children:[(0,h.jsx)(U.SelectGroupList,{ref:x,store:e,groupCaption:"In Group:",groupOptions:p,listCaption:"List From:"}),(0,h.jsx)(U.RowInputText,{ref:C,caption:"List To:"}),(0,h.jsx)(U.ValidationMessages,{validationMessages:d}),(0,h.jsx)(U.RowButtons,{refBtClose:X(t),Primary:f,onClear:g,onClose:c})]})},lt=t=>{const{store:e,actionCompleted:o,forActionType:n,onDelete:i,msgOnNotSelect:a,onClose:r}=t,[l,c]=(0,s.eJ)((()=>e.getWatchGroups())),[p,u]=(0,s.eJ)([]),d=(0,s.sO)(),m=(0,s.I4)((()=>u([])),[]),x=(0,s.I4)((()=>{const{captionGroup:t,captionList:e}=(0,s.d9)(d)||{};if(t&&e)i({captionGroup:t,captionList:e});else{const o=[];t||o.push(a("Group")),e||o.push(a("List")),u(o)}}),[]),C=(0,s.Ye)((()=>(0,h.jsx)(U.Button.Primary,{caption:"Delete",title:"Delete List",onClick:x})),[x]);return(0,B.Z)(((t,s)=>{t===o&&(s.forActionType===n&&m(),c(e.getWatchGroups()))})),(0,h.jsxs)("div",{children:[(0,h.jsx)(U.SelectGroupList,{ref:d,store:e,groupCaption:"In Group:",groupOptions:l,listCaption:"List:"}),(0,h.jsx)(U.ValidationMessages,{validationMessages:p}),(0,h.jsx)(U.RowButtons,{refBtClose:X(t),Primary:C,onClear:m,onClose:r})]})},ct=I.e4[I.Nf],pt=I.e4[I.gm],ut=I.e4[I.of],dt={LoadItem:G,EditGroup:it,EditList:(0,n.Z)((t=>{let{isShow:e,store:o,onClose:s}=t;const[n,i]=(0,L.Z)();return(0,h.jsx)(d.Z,{refFocusLast:n,caption:"Watch Lists Edit",isShow:e,isWithButton:!1,onClose:s,children:(0,h.jsxs)(v.Z,{id:"eld",width:380,store:o,actionCompleted:I.$0,actionFailed:I.db,msgOnNotSelect:R.xW,msgOnIsEmptyName:R.eT,onClose:s,setRefFocusLast:i,children:[(0,h.jsx)(A.Z,{title:"Create",children:(0,h.jsx)(at,{forActionType:I.Nf,onCreate:ct})}),(0,h.jsx)(A.Z,{title:"Rename",children:(0,h.jsx)(rt,{forActionType:I.gm,onRename:pt})}),(0,h.jsx)(A.Z,{title:"Delete",children:(0,h.jsx)(lt,{forActionType:I.of,onDelete:ut})})]})})}))}}}]);