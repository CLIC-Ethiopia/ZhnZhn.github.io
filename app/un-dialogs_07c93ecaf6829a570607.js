"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[673],{7302:(e,o,t)=>{t.r(o),t.d(o,{default:()=>V});var a=t(9999),r=t(6016),l=t(1926),s=t(5868),n=t(7286);const i=()=>{const[e,o]=(0,l.Z)(!1),t=(0,a.I4)((()=>{o(!1)}),[o]);return[e,o,t]};var c=t(4868),p=t(8190),h=t(1818),u=t(1312),d=t(5893);const S=e=>{let{isShow:o,configs:t,onClose:a}=e;return(0,d.jsx)(p.Z,{isShow:o,className:u.xx,style:u.oc,onClose:a,children:(t||[]).map((e=>(0,d.jsx)(h.Z,{style:u.VK,color:u.MR,caption:e[0],value:e[1],onToggle:e[2]},e[0])))})},g=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Export Weight",v:{rg:"X",measure:"netWgt"}},{c:"Export Quantity",v:{rg:"X",measure:"qty"}},{c:"Export Average Value Per Weight",v:{rg:"X",measure:"avgPerWeight"}},{c:"Export Average Value Per Quantity",v:{rg:"X",measure:"avgPerQuantity"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}},{c:"Import Weight",v:{rg:"M",measure:"netWgt"}},{c:"Import Quantity",v:{rg:"M",measure:"qty"}},{c:"Import Average Value Per Weight",v:{rg:"M",measure:"avgPerWeight"}},{c:"Import Average Value Per Quantity",v:{rg:"M",measure:"avgPerQuantity"}}],w=g[0],Z={c:"All",v:"all"},v=[{c:"Annual",v:"A"},{c:"Monthly",v:"M"}],x=v[0],m=(0,r.Z)((e=>{const{isShow:o,caption:t,oneURI:r,twoURI:p,tpURI:h,msgOnNotSelected:u,toTopLayer:m,onAbout:j,loadFn:A,onLoad:L,onShow:b,onClose:I}=e,[f,y,C]=i(),[T,M,V,P,R,D,W]=(0,n.Z)({onAbout:j,onClose:I,toggleInputs:y}),[H,E]=(0,l.Z)(!0),[F,O]=(0,l.Z)(!1),[Q,U]=(0,l.Z)(!0),X=(0,a.sO)(),q=(0,a.sO)(),[_,k]=(0,s.Z)(),[N,B]=(0,s.Z)(),[G,J]=(0,s.Z)(),[K,z]=(0,s.Z)(),Y=(0,a.I4)((()=>{const o=(0,a.eA)(q),{msg:t=[]}=o.getValidation(),r=k()||Z,l=r.v,s=J(),n=s&&s.v,i=z()||x;if("all"===l&&"all"===n&&t.push("Query All to All is too complex"),"all"===l&&"M"===i.v&&t.push("Query All Monthly is too complex"),0===t.length){const{one:t,two:l}=o.getValues();L(A(e,{one:r,two:t,three:l,tradeFlow:B()||w,tradePartner:s,freq:i,tradePartners:(0,a.CL)(X)}))}D(t)}),[]);return(0,d.jsxs)(c.Z.DraggableDialog,{isShow:o,caption:t,menuModel:V,toTopLayer:m,onLoad:Y,onShow:b,onClose:W,children:[(0,d.jsx)(c.Z.Toolbar,{isShow:T,buttons:P}),(0,d.jsx)(S,{isShow:f,configs:[["Partner",F,O],["Heading",H,E],["Trade Flow",Q,U]],onClose:C}),(0,d.jsx)(c.Z.SelectWithLoad,{isShow:o,isShowLabels:M,uri:r,caption:"Reporter",placeholder:"Default: All",onSelect:_}),(0,d.jsx)(c.Z.ShowHide,{isShow:F,children:(0,d.jsx)(c.Z.SelectWithLoad,{ref:X,isShowLabels:M,uri:h,caption:"Partner",placeholder:"Default: World",onSelect:G})}),(0,d.jsx)(c.Z.ShowHide,{isShow:H,children:(0,d.jsx)(c.Z.SelectOneTwo,{ref:q,isShow:o,isShowLabels:M,uri:p,oneCaption:"Heading",twoCaption:"Subheading",msgOnNotSelected:u})}),(0,d.jsx)(c.Z.ShowHide,{isShow:Q,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:M,caption:"Trade Flow",placeholder:"Default: Export Value",propCaption:"c",options:g,onSelect:N})}),(0,d.jsx)(c.Z.ShowHide,{isShow:!1,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:M,caption:"Frequency",placeholder:"Default: Annual",propCaption:"c",options:v})}),(0,d.jsx)(c.Z.ValidationMessages,{validationMessages:R})]})})),j=(e,o)=>{const[t,r]=(0,a.eJ)(!0);return[t,(0,a.I4)((()=>{var t,a;r((t=e(),a=o(),!("0"!==t.v&&"TOTAL"===a.v)))}),[])]},A=[{c:"Total of trade partner",v:"TOTAL"},{c:"All 2-digit HS commodities",v:"AG2"}],L=A[0],b=(()=>{const e=[];for(let o=0;o<22;o++){const t=""+(2022-o);e.push({c:t,v:t})}return e})(),I=b[1],f=[{c:"Export Value",v:{rg:"X",measure:"primaryValue"}},{c:"Import Value",v:{rg:"M",measure:"primaryValue"}}],y=[{c:"TreeMap (60, 90)",v:"TREE_MAP"},{c:"Bar (60, 90)",v:"BAR"}],C=f[0],T={c:"World",v:"0"},M={c:"Annual",v:"A"},V={UnDialog5:m,UnDialogAgg:(0,r.Z)((e=>{const{isShow:o,caption:t,oneURI:r,tpURI:p,msgOnNotSelected:h,toTopLayer:u,onAbout:g,loadFn:w,onLoad:Z,onShow:v,onClose:x}=e,m=(0,a.sO)(),[V,P,R]=i(),[D,W,H,E,F,O,Q]=(0,n.Z)({onAbout:g,onClose:x,toggleInputs:P}),[U,X]=(0,l.Z)(!0),[q,_]=(0,l.Z)(),[k,N]=(0,s.Z)(),[B,G]=(0,s.Z)(T,T),[J,K]=(0,s.Z)(L,L),[z,Y]=j(G,K),[$,ee]=(0,s.Z)(C,C),[oe,te]=(0,s.Z)(),[ae,re]=(0,s.Z)(I,I),le=(0,a.I4)((e=>{B(e),Y()}),[]),se=(0,a.I4)((e=>{J(e),Y()}),[]),ne=(0,a.I4)((()=>{const o=N(),t=G(),r=K(),l=[];var s;o||l.push(h("Reporter")),(o&&"all"===o.v||(s=r,"all"===t.v&&"total"!==s.v))&&l.push("Query All is too complex"),0===l.length&&Z(w(e,{one:o,three:r,tradeFlow:ee(),tradePartner:t,period:re(),chart:te(),freq:M,tradePartners:(0,a.CL)(m)})),O(l)}),[]);return(0,d.jsxs)(c.Z.DraggableDialog,{isShow:o,caption:t,menuModel:H,toTopLayer:u,onLoad:ne,onShow:v,onClose:Q,children:[(0,d.jsx)(c.Z.Toolbar,{isShow:D,buttons:E}),(0,d.jsx)(S,{isShow:V,configs:[["Trade Flow",U,X],["Partner",q,_]],onClose:R}),(0,d.jsx)(c.Z.SelectWithLoad,{isShow:o,isShowLabels:W,uri:r,caption:"Reporter",onSelect:k}),(0,d.jsx)(c.Z.ShowHide,{isShow:U,children:(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:W,caption:"Trade Flow",placeholder:"Default: Export Value",propCaption:"c",options:f,onSelect:$})}),(0,d.jsx)(c.Z.ShowHide,{isShow:q,children:(0,d.jsx)(c.Z.SelectWithLoad,{ref:m,isShowLabels:W,uri:p,caption:"Partner",placeholder:"Default: World",onSelect:le})}),(0,d.jsxs)(c.Z.ShowHide,{isShow:!0,children:[(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:W,caption:"Aggregation",placeholder:"Default: Total of trade partner",propCaption:"c",options:A,onSelect:se}),(0,d.jsxs)(c.Z.ShowHide,{isShow:z,children:[(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:W,caption:"Chart",placeholder:"Default: TreeMap (60,90)",propCaption:"c",options:y,onSelect:oe}),(0,d.jsx)(c.Z.RowInputSelect,{isShowLabels:W,caption:"Period",placeholder:"Default: 2021",propCaption:"c",options:b,onSelect:ae})]})]}),(0,d.jsx)(c.Z.ValidationMessages,{validationMessages:F})]})}))}}}]);