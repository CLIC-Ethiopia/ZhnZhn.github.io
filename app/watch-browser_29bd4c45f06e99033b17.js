(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dZ8H:function(t,e,n){"use strict";n.r(e);var r,a,i,o,s,l=n("VbXa"),d=n.n(l),p=n("q1tI"),c=n.n(p),u=n("0TwO"),h=n("+xHe"),D=n("kp4x"),g=n("jXBw"),f=n("QLp3"),_={ROOT:{marginBottom:"10px"},BT_LIST:{marginLeft:"20px"}},v=function(t){var e=t.isShow,n=t.onClickGroup,r=t.onClickList;return e?c.a.createElement("div",{style:_.ROOT},c.a.createElement(f.a,{caption:"GROUP",isWithoutDefault:!0,className:"bt__watch__bar",onClick:n}),c.a.createElement(f.a,{caption:"LIST",isWithoutDefault:!0,className:"bt__watch__bar",style:_.BT_LIST,onClick:r})):null},E=n("pVnL"),S=n.n(E),I=n("JyE6"),T=n("/7pf"),b={ITEM_DIV:{position:"relative",paddingRight:40,paddingTop:5,paddingBottom:5},ITEM_SPAN:{display:"inline-block",width:"100%",maxWidth:250,height:28,verticalAlign:"middle",textOverflow:"ellipsis",overflow:"hidden"},SVG_CLOSE:{position:"absolute",right:0}},L=function(t){var e=t.item,n=t.className,r=t.isModeEdit,a=t.option,i=t.onClick,o=t.onClose,s=t.onDragStart,l=t.onDragEnter,d=t.onDragOver,u=t.onDragLeave,h=t.onDrop,D=e.caption,g=r?c.a.createElement(T.a,{style:b.SVG_CLOSE,onClose:o.bind(null,a)}):null,f=Object(p.useCallback)((function(){i(e)}),[e]),_=Object(p.useCallback)((function(t){Object(I.a)(t)&&i(e)}),[e]),v=r?{draggable:!0,onDragStart:s.bind(null,a),onDrop:h.bind(null,a),onDragOver:d,onDragEnter:l,onDragLeave:u}:void 0;return c.a.createElement("div",S()({role:"menuitem",tabindex:"0",className:n,style:b.ITEM_DIV,onClick:f},v,{onKeyUp:_}),c.a.createElement("span",{style:b.ITEM_SPAN},D),g)},m=function(t,e){t.persist(),a=t.currentTarget;var n=t.currentTarget.style;i=n.getPropertyValue("border-bottom"),r=e},y=function(t){var e=a.style;t.currentTarget.style.removeProperty("border-left"),e.removeProperty("border"),e.setProperty("border-bottom",i)},O=function(t,e,n){var a=t.currentTarget.style;o=a.getPropertyValue("border-left"),-1!==r.indexOf(e)?a.setProperty("border-left",function(t){return void 0===t&&(t="green"),"4px solid "+t}(n)):a.setProperty("border-left","4px solid red")},C=function(t){var e=t.currentTarget.style;e.removeProperty("border-left"),e.setProperty("border-left",o)},w=function(t){Object.assign(t.prototype,{dragStartWithDnDStyle:m,dropWithDnDStyle:y,dragEnterWithDnDStyle:O,dragLeaveWithDnDStyle:C})},G={setTransferTo:function(t){var e=t.event,n=t.dragId,r=t.xType;Object.assign(e.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:n,xType:r}))}},R=function(t){return function(e,n){var r=e.caption;this.dragStartWithDnDStyle(n,[t.GROUP]),G.setTransferTo({event:n,dragId:r+";",xType:t.GROUP})}},M=function(t,e){return function(n,r){var a=n.caption;this.dropWithDnDStyle(r);var i=JSON.parse(r.dataTransfer.getData("text")),o=i.xType,s=i.dragId,l=a+";";if(o===t.GROUP){if(s===l)return;r.preventDefault(),e.dragDropGroup({dragId:s,dropId:l})}else o===t.LIST&&(r.preventDefault(),e.dragDropList({dragId:s,dropId:l}))}},W=function(t){return function(e){e.preventDefault(),this.dragEnterWithDnDStyle(e,t.GROUP,t.C_GROUP_ENTER)}},P=function(t){t.preventDefault()},x=function(t){t.preventDefault(),this.dragLeaveWithDnDStyle(t)},k=function(t,e){Object.assign(this,{_hDragStartGroup:R(t).bind(this),_hDropGroup:M(t,e).bind(this),_hDragEnterGroup:W(t).bind(this),_hDragOverGroup:P,_hDragLeaveGroup:x.bind(this)})},N=function(t){Object.assign(t.prototype,{_bindDnDGroup:k})},U=function(t){return function(e,n){var r=e.groupCaption,a=e.caption;this.dragStartWithDnDStyle(n,[t.GROUP,t.LIST]),G.setTransferTo({event:n,dragId:r+";"+a,xType:t.LIST})}},B=function(t,e){return function(n,r){var a=n.groupCaption,i=n.caption;this.dropWithDnDStyle(r);var o=JSON.parse(r.dataTransfer.getData("text")),s=o.xType,l=o.dragId,d=a+";"+i+";";if(s===t.LIST){if(l===d)return;r.preventDefault(),e.dragDropList({dragId:l,dropId:d})}else s===t.ITEM&&(r.preventDefault(),e.dragDropItem({dragId:l,dropId:d}))}},V=function(t){return function(e){e.preventDefault(),this.dragEnterWithDnDStyle(e,t.LIST,t.C_LIST_ENTER)}},j=function(t){t.preventDefault()},A=function(t){t.preventDefault(),this.dragLeaveWithDnDStyle(t)},H=function(t,e){Object.assign(this,{_hDragStartList:U(t).bind(this),_hDropList:B(t,e).bind(this),_hDragEnterList:V(t).bind(this),_hDragOverList:j,_hDragLeaveList:A.bind(this)})},J=function(t){Object.assign(t.prototype,{_bindDnDList:H})},X=function(t){return function(e,n){var r=e.groupCaption,a=e.listCaption,i=e.caption;this.dragStartWithDnDStyle(n,[t.LIST,t.ITEM]),G.setTransferTo({event:n,dragId:r+";"+a+";"+i,xType:t.ITEM})}},q=function(t,e){return function(n,r){var a=n.groupCaption,i=n.listCaption,o=n.caption;this.dropWithDnDStyle(r);var s=JSON.parse(r.dataTransfer.getData("text")),l=s.xType,d=s.dragId,p=a+";"+i+";"+o;if(l===t.ITEM){if(d===p)return;r.preventDefault(),e.dragDropItem({dragId:d,dropId:p})}}},K=function(t){return function(e){e.preventDefault(),this.dragEnterWithDnDStyle(e,t.ITEM,t.C_LIST_ENTER)}},Q=function(t){t.preventDefault()},Z=function(t){t.preventDefault(),this.dragLeaveWithDnDStyle(t)},z=function(t,e){Object.assign(this,{_hDragStartItem:X(t).bind(this),_hDropItem:q(t,e).bind(this),_hDragEnterItem:K(t).bind(this),_hDragOverItem:Q,_hDragLeaveItem:Z.bind(this)})},F=function(t){Object.assign(t.prototype,{_bindDnDItem:z})},Y="scroll-container-y scroll-watch",$="row__type2-topic not-selected",tt={BROWSER:{paddingRight:"0px"},BT_CIRCLE:{position:"relative",top:-2,marginLeft:20},GROUP_DIV:{lineHeight:2},LIST_DIV:{marginLeft:8,paddingLeft:12,borderLeft:"2px solid #1b2836",lineHeight:2},ITEM_NOT_SELECTED:{marginRight:10}},et={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},nt=function(t){w(t),N(t),J(t),F(t)}(s=function(t){function e(e){var n;return(n=t.call(this,e)||this)._onStore=function(t,e){var r=n.props,a=r.browserType,i=r.showAction,o=r.updateAction;t===i&&e===a?n._handlerShow():t===o&&n.setState({watchList:e})},n._handlerHide=function(){n.setState({isShow:!1})},n._handlerShow=function(){n.setState({isShow:!0})},n._handlerToggleEditMode=function(){n.setState({isModeEdit:!n.state.isModeEdit})},n._renderWatchList=function(t){var e=n.state.isModeEdit;return t.groups.map((function(t,r){var a=t.caption,i=t.lists;return c.a.createElement(g.a.OpenClose2,{key:r,style:tt.GROUP_DIV,fillOpen:"#1b2836",caption:a,isDraggable:e,option:{caption:a},onDragStart:n._hDragStartGroup,onDragEnter:n._hDragEnterGroup,onDragOver:n._hDragOverGroup,onDragLeave:n._hDragLeaveGroup,onDrop:n._hDropGroup},i&&n._renderLists(i,a))}))},n._renderLists=function(t,e){var r=n.state.isModeEdit;return t.map((function(t,a){var i=t.caption,o=t.items;return c.a.createElement(g.a.OpenClose2,{key:a,fillOpen:"#80c040",style:tt.LIST_DIV,styleNotSelected:tt.ITEM_NOT_SELECTED,caption:i,isDraggable:r,option:{groupCaption:e,caption:i},onDragStart:n._hDragStartList,onDragEnter:n._hDragEnterList,onDragOver:n._hDragOverList,onDragLeave:n._hDragLeaveList,onDrop:n._hDropList},o&&n._renderItems(o,e,i))}))},n._renderItems=function(t,e,r){var a=n.state.isModeEdit;return t.map((function(t,i){var o=t.id,s=t.caption;return c.a.createElement(L,{key:o,className:$,isModeEdit:a,item:t,option:{groupCaption:e,listCaption:r,caption:s},onClick:n._handlerClickItem,onClose:n._handlerRemoveItem,onDragStart:n._hDragStartItem,onDragOver:n._hDragOverItem,onDragEnter:n._hDragEnterItem,onDragLeave:n._hDragLeaveItem,onDrop:n._hDropItem})}))},n._bindDnDGroup(et,D.b),n._bindDnDList(et,D.b),n._bindDnDItem(et,D.b),n.state={isShow:!!e.isInitShow,isModeEdit:!1,watchList:e.store.getWatchList()},n}d()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.unsubscribe=this.props.store.listen(this._onStore)},n.componentWillUnmount=function(){this.unsubscribe()},n._handlerSaveWatch=function(){D.b.saveWatch()},n._handlerEditGroup=function(){h.b.showModalDialog(u.f.EDIT_WATCH_GROUP)},n._handlerEditList=function(){h.b.showModalDialog(u.f.EDIT_WATCH_LIST)},n._handlerClickItem=function(t){h.b.showModalDialog(u.f.LOAD_ITEM,t)},n._handlerRemoveItem=function(t,e){e.stopPropagation(),D.b.removeItem(t)},n.render=function(){var t=this.props.caption,e=this.state,n=e.isShow,r=e.isModeEdit,a=e.watchList,i=r?"V":"E";return c.a.createElement(g.a.Browser,{isShow:n,style:tt.BROWSER},c.a.createElement(g.a.BrowserCaption,{caption:t,onClose:this._handlerHide},c.a.createElement(g.a.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:tt.BT_CIRCLE,onClick:this._handlerSaveWatch}),c.a.createElement(g.a.ButtonCircle,{caption:i,title:"Toggle Edit Mode: E/V",style:tt.BT_CIRCLE,onClick:this._handlerToggleEditMode})),c.a.createElement(v,{isShow:r,onClickGroup:this._handlerEditGroup,onClickList:this._handlerEditList}),c.a.createElement(g.a.ScrollPane,{className:Y},a&&this._renderWatchList(a)))},e}(p.Component))||s;e.default=nt}}]);