"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[341],{5100:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Le});var o=r(1768),a=r(1926),n=r(2564),i=r(795),s=r(2038),l=r(3218),p=r(3513);const d=()=>s.Ck.showModalDialog(p.Tz),c=()=>s.Ck.showModalDialog(p.pQ),g=e=>s.Ck.showModalDialog(p.LA,e),u=(e,t)=>{t.stopPropagation(),l.e4.removeItem(e)},C=()=>{l.e4.saveWatch()};var f=r(9626),I=r(4832),y=r(5893);const D="bt__watch__bar",T={marginBottom:10},m={marginLeft:20},x=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,y.jsxs)("div",{style:T,children:[(0,y.jsx)(I.Z,{caption:"GROUP",className:D,onClick:r}),(0,y.jsx)(I.Z,{caption:"LIST",className:D,style:m,onClick:o})]}):null},h=e=>JSON.parse(e.dataTransfer.getData("text")),v={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},E="border-bottom",L="border-left";let S,b,w,_;const j=e=>e.currentTarget.style,O=(e,t)=>(e=>"4px solid "+e)((e=>-1!==S.indexOf(e))(e)?t||"green":"red"),P=e=>{const t=b.style;j(e).removeProperty(L),t.removeProperty("border"),t.setProperty(E,w)},k=Object.assign,M=e=>{let{event:t,dragId:r,xType:o}=e;k(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},R=(e,t)=>(r,o)=>{((e,t)=>{b=e.currentTarget,S=t,w=j(e).getPropertyValue(E)})(o,e),M({event:o,dragId:t(r),xType:e[0]})},N=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=j(e);_=o.getPropertyValue(L),o.setProperty(L,O(t,r))})(r,e,t)},G=e=>{e.preventDefault()},A=e=>{e.preventDefault(),(e=>{const t=j(e);t.removeProperty(L),t.setProperty(L,_)})(e)},U=e=>{let{caption:t}=e;return t+";"},Z=R([v.GROUP],U),B=(e,t)=>{P(t);const{xType:r,dragId:o}=h(t),a=U(e);if(r===v.GROUP){if(o===a)return;t.preventDefault(),l.e4.dragDropGroup({dragId:o,dropId:a})}else r===v.LIST&&(t.preventDefault(),l.e4.dragDropList({dragId:o,dropId:a}))},V=N(v.GROUP,v.C_GROUP_ENTER),W=G,J=A,H=e=>{let{groupCaption:t,caption:r}=e;return t+";"+r+";"},z=R([v.LIST,v.GROUP],H),F=(e,t)=>{P(t);const{xType:r,dragId:o}=h(t),a=H(e);if(r===v.LIST){if(o===a)return;t.preventDefault(),l.e4.dragDropList({dragId:o,dropId:a})}else r===v.ITEM&&(t.preventDefault(),l.e4.dragDropItem({dragId:o,dropId:a}))},K=N(v.LIST,v.C_LIST_ENTER),Q=G,Y=A,q=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return t+";"+r+";"+o},X=R([v.ITEM,v.LIST],q),$=(e,t)=>{P(t);const{xType:r,dragId:o}=h(t),a=q(e);if(r===v.ITEM){if(o===a)return;t.preventDefault(),l.e4.dragDropItem({dragId:o,dropId:a})}},ee=N(v.ITEM,v.C_LIST_ENTER),te=G,re=A;var oe=r(2306),ae=r(803),ne=r(8636),ie=r(773);const se={position:"relative",padding:"5px 40px 5px 0"},le={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},pe={position:"absolute",top:10,right:0},de="Not Found",ce=e=>{const{item:t,className:r,onClick:a,onClose:n,isDraggable:i,option:s}=e,{caption:l=de}=t||{},p=i?(0,y.jsx)(ne.Z,{style:pe,onClose:(0,o.YO)(n,s)}):null,d=(0,o.I4)((()=>a(t)),[t]),c=(0,o.I4)((e=>{(0,oe.Z)(e)&&d()}),[d]),g=(0,ae.Z)(e);return(0,y.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:se,onClick:d,...g,onKeyUp:c,children:[(0,y.jsx)(ie.Z,{style:le,text:l}),p]})},ge=Array.isArray,ue=e=>{let{isModeEdit:t,items:r,groupCaption:o,listCaption:a}=e;return ge(r)?r.map((e=>{const{caption:r}=e;return(0,y.jsx)(ce,{className:"row__type2-topic not-selected",isDraggable:t,item:e,option:{groupCaption:o,listCaption:a,caption:r},onClick:g,onClose:u,onDragStart:X,onDragOver:te,onDragEnter:ee,onDragLeave:re,onDrop:$},r)})):null},{OpenClose2:Ce}=f.default,fe=Array.isArray,Ie={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},ye={marginRight:10},De=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return fe(o)?o.map((e=>{let{caption:o,items:a}=e;return(0,y.jsx)(Ce,{style:Ie,notSelectedStyle:ye,openColor:"#80c040",caption:o,isDraggable:t,option:{groupCaption:r,caption:o},onDragStart:z,onDragEnter:K,onDragOver:Q,onDragLeave:Y,onDrop:F,children:(0,y.jsx)(ue,{isModeEdit:t,items:a,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:Te}=f.default,me=Array.isArray,xe={lineHeight:2},he=e=>{let{isModeEdit:t,groups:r}=e;return me(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,y.jsx)(Te,{style:xe,caption:r,isDraggable:t,option:{caption:r},onDragStart:Z,onDragEnter:V,onDragOver:W,onDragLeave:J,onDrop:B,children:(0,y.jsx)(De,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},ve={paddingRight:0},Ee={position:"relative",top:-6,marginLeft:20},Le=e=>{let{isInitShow:t,caption:r,store:s,browserType:l,showAction:p,updateAction:g}=e;const[u,I]=(0,a.Z)(),[D,T,m]=(0,n.Z)(t),[h,v]=(0,o.eJ)((()=>s.getWatchList()));(0,i.Z)(((e,t)=>{e===p&&t===l?T():e===g&&v({...t})}));const E=u?"V":"E",{groups:L}=h||{};return(0,y.jsxs)(f.default.Browser,{isShow:D,style:ve,children:[(0,y.jsxs)(f.default.BrowserCaption,{caption:r,onClose:m,children:[(0,y.jsx)(f.default.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:Ee,onClick:C}),(0,y.jsx)(f.default.ButtonCircle,{caption:E,title:"Toggle Edit Mode: E/V",style:Ee,onClick:I})]}),(0,y.jsx)(x,{isShow:u,onClickGroup:d,onClickList:c}),(0,y.jsx)(f.default.ScrollPane,{className:"scroll-container-y scroll-watch",children:(0,y.jsx)(he,{isModeEdit:u,groups:L})})]})}}}]);