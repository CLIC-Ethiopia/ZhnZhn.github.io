"use strict";(self.webpackChunkweb_app_erc=self.webpackChunkweb_app_erc||[]).push([[341],{5100:(e,t,r)=>{r.r(t),r.d(t,{default:()=>xe});var o=r(4887),n=r(1926),a=r(2133),i=r(3901),l=r(8345),s=r(3513);const d=()=>(0,l.lU)(s.Tz),p=()=>(0,l.lU)(s.pQ),c=e=>(0,l.lU)(s.LA,e),u=(e,t)=>{t.stopPropagation(),(0,i.X9)(e)};var g=r(4599),C=r(4832),f=r(5893);const y="bt__watch__bar",I={marginBottom:10},x={marginLeft:20},T=e=>{let{isShow:t,onClickGroup:r,onClickList:o}=e;return t?(0,f.jsxs)("div",{style:I,children:[(0,f.jsx)(C.Z,{caption:"GROUP",className:y,onClick:r}),(0,f.jsx)(C.Z,{caption:"LIST",className:y,style:x,onClick:o})]}):null};var m=r(9999);const v=e=>JSON.parse(e.dataTransfer.getData("text")),E={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},h="border-bottom",L="border-left";let S,O,b,j;const P=e=>e.currentTarget.style,D=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==S.indexOf(e))(e)?t||"green":"red"),_=e=>{const t=O.style;P(e).removeProperty(L),t.removeProperty("border"),t.setProperty(h,b)},k=Object.assign,M=e=>{let{event:t,dragId:r,xType:o}=e;k(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:r,xType:o}))},R=(e,t)=>(r,o)=>{((e,t)=>{O=e.currentTarget,S=t,b=P(e).getPropertyValue(h)})(o,e),M({event:o,dragId:t(r),xType:e[0]})},w=(e,t)=>r=>{r.preventDefault(),((e,t,r)=>{const o=P(e);j=o.getPropertyValue(L),o.setProperty(L,D(t,r))})(r,e,t)},N=e=>{e.preventDefault()},G=e=>{e.preventDefault(),(e=>{const t=P(e);t.removeProperty(L),t.setProperty(L,j)})(e)},U=(e,t,r,o,n,a,i)=>a?{draggable:!0,onDragStart:(0,m.YO)(e,i),onDrop:(0,m.YO)(t,i),onDragEnter:r,onDragOver:o,onDragLeave:n}:void 0,A=e=>{let{caption:t}=e;return`${t};`},H=R([E.GROUP],A),Z=w(E.GROUP,E.C_GROUP_ENTER),$=(0,m.YO)(U,H,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=A(e);if(r===E.GROUP){if(o===n)return;t.preventDefault(),(0,i.k1)({dragId:o,dropId:n})}else r===E.LIST&&(t.preventDefault(),(0,i.HG)({dragId:o,dropId:n}))}),Z,N,G),Y=e=>{let{groupCaption:t,caption:r}=e;return`${t};${r};`},B=R([E.LIST,E.GROUP],Y),V=w(E.LIST,E.C_LIST_ENTER),J=(0,m.YO)(U,B,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=Y(e);if(r===E.LIST){if(o===n)return;t.preventDefault(),(0,i.HG)({dragId:o,dropId:n})}else r===E.ITEM&&(t.preventDefault(),(0,i.dM)({dragId:o,dropId:n}))}),V,N,G),W=e=>{let{groupCaption:t,listCaption:r,caption:o}=e;return`${t};${r};${o}`},K=R([E.ITEM,E.LIST],W),z=w(E.ITEM,E.C_LIST_ENTER),F=(0,m.YO)(U,K,((e,t)=>{_(t);const{xType:r,dragId:o}=v(t),n=W(e);if(r===E.ITEM){if(o===n)return;t.preventDefault(),(0,i.dM)({dragId:o,dropId:n})}}),z,N,G);var Q=r(2306),X=r(6908),q=r(773);const ee={position:"relative",padding:"5px 40px 5px 0"},te={width:"100%",maxWidth:250,height:28,verticalAlign:"middle"},re={top:8},oe="Not Found",ne=e=>{let{item:t,className:r,onClick:o,onClose:n,isDraggable:a,dndHandlers:i,option:l}=e;const{caption:s=oe}=t||{},d=a?(0,f.jsx)(X.g,{style:re,onClick:(0,m.YO)(n,l)}):null,p=(0,m.I4)((()=>o(t)),[t]),c=(0,m.I4)((e=>{(0,Q.Z)(e)&&p()}),[p]);return(0,f.jsxs)("div",{role:"menuitem",tabIndex:"0",className:r,style:ee,onClick:p,onKeyUp:c,...i,children:[(0,f.jsx)(q.Z,{style:te,text:s}),d]})},ae=Array.isArray,ie=e=>{let{isModeEdit:t,items:r,groupCaption:n,listCaption:a}=e;return ae(r)?r.map((e=>{const{caption:r}=e,i={groupCaption:n,listCaption:a,caption:r};return(0,f.jsx)(ne,{className:o.Zl,item:e,isDraggable:t,option:i,dndHandlers:F(t,i),onClick:c,onClose:u},r)})):null},{OpenClose2:le}=g.default,se=Array.isArray,de={marginLeft:8,paddingLeft:2,borderLeftStyle:"solid",borderLeftWidth:2,borderLeftColor:"inherit",lineHeight:2},pe={marginRight:10},ce=e=>{let{isModeEdit:t,groupCaption:r,lists:o}=e;return se(o)?o.map((e=>{let{caption:o,items:n}=e;return(0,f.jsx)(le,{style:de,notSelectedStyle:pe,openColor:"#80c040",caption:o,dndHandlers:J(t,{groupCaption:r,caption:o}),children:(0,f.jsx)(ie,{isModeEdit:t,items:n,groupCaption:r,listCaption:o})},o)})):null},{OpenClose2:ue}=g.default,ge=Array.isArray,Ce={lineHeight:2},fe=e=>{let{isModeEdit:t,groups:r}=e;return ge(r)?r.map((e=>{let{caption:r,lists:o}=e;return(0,f.jsx)(ue,{style:Ce,caption:r,dndHandlers:$(t,{caption:r}),children:(0,f.jsx)(ce,{isModeEdit:t,groupCaption:r,lists:o})},r)})):null},ye=(0,o.vJ)("scroll-watch"),Ie={position:"relative",top:-6,marginLeft:20},xe=e=>{const{caption:t,useWatchList:r}=e,[o,l]=(0,n.Z)(),[s,c,u]=(0,a.Z)(e),C=r(),{groups:y}=C||{},I=o?"V":"E";return(0,f.jsxs)(g.default.Browser,{isShow:s,onKeyDown:u,children:[(0,f.jsxs)(g.default.BrowserCaption,{caption:t,onClose:c,children:[(0,f.jsx)(g.default.ButtonCircle,{caption:"S",title:"Save to LocalStorage",style:Ie,onClick:i.e6}),(0,f.jsx)(g.default.ButtonCircle,{caption:I,title:"Toggle Edit Mode: E/V",style:Ie,onClick:l})]}),(0,f.jsx)(T,{isShow:o,onClickGroup:d,onClickList:p}),(0,f.jsx)(g.default.ScrollPane,{className:ye,children:(0,f.jsx)(fe,{isModeEdit:o,groups:y})})]})}}}]);