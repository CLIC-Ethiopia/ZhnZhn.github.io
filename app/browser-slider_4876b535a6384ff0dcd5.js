webpackJsonp([2],{404:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(2),u=r(i),s=n(3),l=r(s),d=n(4),f=r(d),c=n(0),p=r(c),_=n(60),h=r(_),v=n(36),m=r(v),g=n(30),y=r(g),M=n(453),P=r(M),b={BROWSER:{paddingRight:"0"},SCROLL_DIV:{overflowY:"auto",height:"92%",paddingRight:"10px",paddingBottom:"4px"}},x=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._onStore=function(e,t){var r=n.props,o=r.browserType;e===r.showAction&&t===o&&n._handleShow()},n._handleHide=function(){n.setState({isShow:!1})},n._handleShow=function(){n.setState({isShow:!0})},n.state={isShow:!!e.isInitShow},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.unsubscribe=this.props.store.listen(this._onStore)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.isShow!==t.isShow}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props.caption,t=this.state.isShow;return p.default.createElement(h.default,{isShow:t,style:b.BROWSER},p.default.createElement(m.default,{caption:e,onClose:this._handleHide}),p.default.createElement(y.default,{style:b.SCROLL_DIV},p.default.createElement(P.default,this.props)))}}]),t}(c.Component);t.default=x},411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={MSG_ERR:{paddingLeft:"12px",color:"#f44336",fontFamily:'Roboto, "Arial Unicode MS", Arial, sans-serif',fontWeight:"bold",fontSize:"16px"},TITLE:{position:"relative",color:"silver",paddingLeft:"32px",paddingTop:"8px",paddingBottom:"4px",fontFamily:'Roboto, "Arial Unicode MS", Arial, sans-serif',fontWeight:"bold",fontSize:"16px",cursor:"pointer"},TITLE_ARROW:{position:"absolute",top:"8px",left:"16px"},ITEM_L:{color:"#a487d4",fontFamily:'Roboto, "Arial Unicode MS", Arial, sans-serif',fontWeight:"bold",fontSize:"16px",padding:"8px",paddingLeft:"12px",cursor:"pointer"},ITEM_T:{color:"black",fontFamily:'Roboto, "Arial Unicode MS", Arial, sans-serif',fontWeight:"bold",fontSize:"16px",padding:"8px",cursor:"pointer"}};t.default=r},414:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(2),u=r(i),s=n(3),l=r(s),d=n(4),f=r(d),c=n(0),p=r(c),_=n(411),h=r(_),v={ITEM:"menu-item"},m=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=(0,l.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r._ref=function(e){return r._node=e},r.focus=function(){r._node&&r._node.focus()},o=n,(0,l.default)(r,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.onClick,r=t.text,o=t.type,a="l"===o?h.default.ITEM_L:h.default.ITEM_T;return p.default.createElement("div",{ref:this._ref,className:v.ITEM,style:a,tabIndex:"0",role:"menuitem",onClick:n,onKeyPress:function(e){e.preventDefault();var t=e.which;13!==t&&32!==t||n()}},r)}}]),t}(c.Component);t.default=m},415:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(411),u=r(i),s=function(e){var t=e.errMsg;return t?a.default.createElement("div",{style:u.default.MSG_ERR},t):null};t.default=s},453:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),i=n(1),u=r(i),s=n(2),l=r(s),d=n(3),f=r(d),c=n(4),p=r(c),_=n(0),h=r(_),v=n(454),m=r(v),g=n(455),y=r(g),M=n(456),P=r(M),b=n(414),x=r(b),E=n(415),S=r(E),C={ROOT:{width:"300px",overflow:"hidden"},PAGES:{width:"1500px",overflowX:"hidden",display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",transition:"all 750ms ease-out"},PAGE:{width:"300px"}},O=function(e){var t=e.style.transform.substr(11).replace("px","").replace(")","");return parseInt(t,10)},T=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._loadItems=function(){var e=n.props,t=e.dfProps,r=e.store,o=r.getProxy();(0,y.default)(t.rootUrl,o).then(function(e){Array.isArray(e)&&n.setState({model:e,errMsg:void 0})}).catch(function(e){n.setState({errMsg:e.message})})},n.hPrevPage=function(e){n.setState(function(t){return t.pageCurrent=e-1,n._direction=-1,t})},n._addPage=function(e,t,r){var o=n.props,a=o.dfProps,i=o.store;e.push(h.default.createElement(P.default,{key:t,id:t,rootStyle:C.PAGE,store:i,title:r,dfProps:a,onClickPrev:n.hPrevPage,onClickNext:n.hNextPage,loadItems:y.default,fOnClickItem:m.default}))},n.hNextPage=function(e,t,r){n.setState(function(o){var a=o.pages;return a.length-1+1>r?a[r]&&a[r].key!==e&&(r>0?o.pages.splice(r):o.pages=[],n._addPage(o.pages,e,t)):n._addPage(a,e,t),o.pageCurrent=r+1,n._direction=1,o})},n._refFirst=function(e){return n._firstNode=e},n._renderMenu=function(){var e=n.state,t=e.model,r=e.errMsg,o=t.map(function(e,t){var r=e.text,o=e.id,a=0===t?n._refFirst:void 0;return h.default.createElement(x.default,{ref:a,key:o,item:e,onClick:n.hNextPage.bind(null,o,r,0)})});return h.default.createElement("div",{style:C.PAGE},o,h.default.createElement(S.default,{errMsg:r}))},n._renderPages=function(){var e=n.state,t=e.pages,r=e.pageCurrent;return t.map(function(e,t){return h.default.cloneElement(e,{pageCurrent:r,pageNumber:t+1})})},n._crTransform=function(){var e="0";if(0!==n._direction&&n._menuNode){var t=O(n._menuNode);e=1===n._direction?t-300:t+300,n._direction=0}else 0===n._direction&&n._menuNode&&(e=O(n._menuNode));return{transform:"translateX("+e+"px)"}},n._refMenu=function(e){return n._menuNode=e},n.focusFirst=function(){n._firstNode&&n._firstNode.focus()},n._direction=0,n.state={model:[],pageCurrent:0,pages:[]},n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this._loadItems()}},{key:"render",value:function(){var e=this._crTransform(),t=(0,a.default)({},C.PAGES,e);return h.default.createElement("div",{style:C.ROOT},h.default.createElement("div",{ref:this._refMenu,style:t},this._renderMenu(),this._renderPages()))}},{key:"componentDidUpdate",value:function(){0===this.state.pageCurrent&&setTimeout(this.focusFirst,1e3)}}]),t}(_.Component);t.default=T},454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a={dialogConf:!0,dialogType:"DialogStatN",dialogProps:{chartsType:"t2",dfProps:{},isProxy:!0}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.charAt(0).toUpperCase()+e.substr(1)},u=function(e){var t=[],n=e.variables,r=void 0===n?[]:n,o="Y";return r.forEach(function(e){var n=e.code,r=e.text;"Tid"!==n?t.push({c:i(r),v:n}):"month"===r?o="M":"quarter"===r&&(o="K")}),{mapFrequency:o,dims:t}},s=function(e){var t=e.rootUrl,n=e.id,r=e.bT,i=e.lT,s=e.sP,l=e.dU,d=e.proxy;return function(){var e=d?""+d+t+"/"+n:t+"/"+n;fetch(e).then(function(e){var t=e.status,n=e.statusText;if(t>=200&&t<400)return e.json();throw Error(n)}).then(function(e){var d=u(e),f=d.mapFrequency,c=d.dims,p=e.title,_=void 0===p?"":p,h=_.length>35?_.substr(0,35)+"...":_,v=Object.assign({},a,{type:r+"_"+n,menuTitle:_.substr(0,27),chartContainerCaption:s+": "+h});Object.assign(v.dialogProps,{baseMeta:t,loadId:i,mapFrequency:f,dims:c,descrUrl:l,dfProps:{dfId:n}}),o.default.showDialog(r+"_"+n,r,v)}).catch(function(e){console.log(e.message)})}};t.default=s},455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e.text<t.text?-1:e.text>t.text?1:0},o=function(e,t){var n=t?t+e:e;return fetch(n,{cache:"default"}).then(function(e){return e.json()}).then(function(e){return Array.isArray(e)&&e.sort(r),e})};t.default=o},456:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),i=n(1),u=r(i),s=n(2),l=r(s),d=n(3),f=r(d),c=n(4),p=r(c),_=n(0),h=r(_),v=n(457),m=r(v),g=n(414),y=r(g),M=n(415),P=r(M),b=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.loadMenu=function(e){var t=n.props,r=t.dfProps,o=t.loadItems,a=t.store,i=a.getProxy();o(r.rootUrl+"/"+e,i).then(function(e){Array.isArray(e)&&n.setState({model:e,errMsg:void 0})}).catch(function(e){n.setState({errMsg:e.message})})},n._renderMenu=function(){var e=n.props,t=e.dfProps,r=e.pageNumber,o=e.store,i=o.getProxy(),u=n.state.model,s=n.props,l=s.onClickNext,d=s.fOnClickItem,f=s.id,c=u.map(function(e){var n=e.text,o=e.id,u=e.type,s="l"===u?l.bind(null,f+"/"+o,n,r):d((0,a.default)({id:f+"/"+o},t,{proxy:i}));return h.default.createElement(y.default,{key:o,item:e,onClick:s})});return h.default.createElement("div",null,c)},n._refFirst=function(e){return n._firstNode=e},n.focusFirst=function(){n._firstNode&&n._firstNode.focus()},n.state={model:[]},n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.title,n=e.id;t&&this.loadMenu(n)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.rootStyle,r=e.pageNumber,o=e.onClickPrev,a=this.state.errMsg;return h.default.createElement("div",{style:n},h.default.createElement(m.default,{ref:this._refFirst,title:t,onClick:o.bind(null,r)}),this._renderMenu(),h.default.createElement(P.default,{errMsg:a}))}},{key:"componentDidUpdate",value:function(e){var t=this.props;t.pageNumber===t.pageCurrent&&setTimeout(this.focusFirst,1e3)}}]),t}(_.Component);t.default=b},457:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(2),u=r(i),s=n(3),l=r(s),d=n(4),f=r(d),c=n(0),p=r(c),_=n(411),h=r(_),v={ITEM:"menu-item"},m=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=(0,l.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r._refNode=function(e){return r._node=e},r.focus=function(){r._node&&r._node.focus()},o=n,(0,l.default)(r,o)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=void 0===t?"":t,r=e.onClick;return p.default.createElement("div",{ref:this._refNode,className:v.ITEM,style:h.default.TITLE,role:"menuitem",tabIndex:"0",onClick:r,onKeyPress:function(e){e.preventDefault();var t=e.which;13!==t&&32!==t||r()}},n,p.default.createElement("span",{style:h.default.TITLE_ARROW},"<"))}}]),t}(c.Component);t.default=m}});