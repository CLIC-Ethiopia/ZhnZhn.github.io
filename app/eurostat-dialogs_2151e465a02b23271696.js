webpackJsonp([3],{497:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(546),i=a(n),l=o(547),r=a(l),s=o(548),u=a(s),d=o(549),c=a(d),p=o(550),h=a(p),f={Eurostat:i.default,Eurostat2:r.default,Eurostat3:u.default,Eurostat3A:c.default,StatN:h.default};t.default=f},506:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={DF_PLACEHOLDER:"Before Select Metric",YEAR_MAX:12,BI_YEAR_MAX:24,Q_YEAR_MAX:4,M_YEAR_MAX:3},n=function(e,t){return(e[t]||{}).value},i=function(e,t){var o=(new Date).getUTCMonth(),a=void 0,n=void 0,i=void 0;for(i=0;i<12;i++)o-=1,o>-1?(a=o+1>9?o+1:"0"+(o+1),n=t+"M"+a):(o=11,t-=1,n=t+"M12"),e.push({caption:n,value:n})},l=function(e,t,o){var a=(new Date).getUTCMonth(),n=Math.floor((a+1)/3),i=4===n?3:n,l=void 0;for(l=0;l<4;l++)i<1&&(t-=1,i=4),e.push({caption:""+t+o+i,value:""+t+o+i}),i-=1},r=function(e,t){return{dateOptions:e,dateDefault:n(e,t)}},s=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=[],o=(new Date).getUTCFullYear(),n=0;n<a.M_YEAR_MAX;n++)i(t,o-n);return r(t,e)},u=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Q",o=[],n=(new Date).getUTCFullYear(),i=0;i<a.Q_YEAR_MAX;i++)l(o,n-i,t);return r(o,e)},d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[],o=(new Date).getUTCFullYear(),n=0;n<a.BI_YEAR_MAX;n++)t.push({caption:o+"S2",value:o+"S2"},{caption:o+"S1",value:o+"S1"}),o-=1;return r(t,e)},c=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],o=(new Date).getUTCFullYear(),n=0;n<a.YEAR_MAX;n++)t.push({caption:""+o,value:""+o}),o-=1;return r(t,e)},p=function(){return{dateDefault:a.DF_PLACEHOLDER,dateOptions:[]}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"M",t=arguments[1];switch(e){case"M":return s(t);case"Q":case"K":return u(t,e);case"S":return d();case"Y":return c(t);case"EMPTY":return p();default:return c(t)}};t.default=h},507:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(28),n=function(e){return e&&e.__esModule?e:{default:e}}(a),i=o(6),l={T1:"t1",T2:"t2",T3:"t3",T3B:"t3b",T3A:"t3a",T3A2:"t3a2",T4:"t4",DF3:"df3"},r={A:"AREA",A_Y:"AREA_YEARLY",S:"SPLINE",S_C:"COLUMN",M:"MAP",C:"COLUMN_SET",C_C:"COLUMN_CLUSTER",C_2:"COLUMN_BY_2",B:"BAR_SET",B_C:"BAR_CLUSTER",B_2:"BAR_BY_2",TM:"TREE_MAP",TM_C:"TREE_MAP_CLUSTER",TM_2:"TREE_MAP_2",TM_2_C:"TREE_MAP_2_CLUSTER"},s={EMPTY:""},u=function(){return[{caption:"Default: Spline",value:r.S},{caption:"Area",value:r.A},{caption:"Column",value:r.S_C},{caption:"Bar: All Countries",value:r.B},{caption:"Column: All Countries",value:r.C},{caption:"Map: All Countries",value:r.M,compType:i.CompItemType.EUROSTAT_MAP}]},d=function(){return[{caption:"Default: Spline",value:r.S},{caption:"Column",value:r.S_C},{caption:"Bar: All Countries",value:r.B},{caption:"Column: All Countries",value:r.C}]},c=function(){return[{caption:"Default: Spline",value:r.S}]},p=function(){return[{caption:"Default: Spline",value:r.S},{caption:"Column",value:r.S_C},{caption:"Yearly by Months",value:r.A_Y}]},h=function(e){return[{caption:"Column: By "+e,value:r.C,dim:e},{caption:"Column: By "+e+": Cluster",value:r.C_C,dim:e},{caption:"Bar: By "+e,value:r.B,dim:e},{caption:"Bar: By "+e+": Cluster",value:r.B_C,dim:e}]},f=function(e){return[{caption:"Default: Spline",value:r.A}].concat((0,n.default)(h(e)))},_=function(e){return[{caption:"Default: Spline",value:r.A},{caption:"Yearly by Months",value:r.A_Y}].concat((0,n.default)(h(e)))},S=function(e){return[].concat((0,n.default)(f(e)),[{caption:"TreeMap: By "+e,value:r.TM,dim:e},{caption:"TreeMap: By "+e+": Cluster",value:r.TM_C,dim:e}])},m=function(e){return[].concat((0,n.default)(S(e)),[{caption:"TreeMap: By "+e+": Depth 2",value:r.TM_2,dim:e},{caption:"TreeMap: By "+e+": Depth 2: Cluster",value:r.TM_2_C,dim:e}])},C=function(e,t){return[].concat((0,n.default)(f(e)),[{caption:"Column: By "+t,value:r.C_2,dim:t},{caption:"Bar: By "+t,value:r.B_2,dim:t}])},w=[r.M,r.C,r.C_C,r.C_2,r.B,r.B_C,r.B_2,r.TM,r.TM_C,r.TM_2,r.TM_2_C],v=function(e){var t=e.dims,o=e.oneCaption,a=void 0===o?s.EMPTY:o,n=e.twoCaption,i=void 0===n?s.EMPTY:n;return Array.isArray(t)?t.map(function(e){return e.c||s.EMPTY}):[a,i]},g={crOptions:function(e){var t=e.chartsType,o=v(e);switch(t){case l.T1:return c();case l.T2:return p();case l.T3:return f(o[0]);case l.T3B:return _(o[0]);case l.T3A:return S(o[0]);case l.T3A2:return m(o[0]);case l.T4:return C(o[0],o[1]);case l.DF3:return d();default:return u()}},isCategory:function(e){return!!e&&-1!==w.indexOf(e.value)}};t.default=g},546:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u=o(2),d=a(u),c=o(3),p=a(c),h=o(4),f=a(h),_=o(5),S=a(_),m=o(0),C=a(m),w=o(30),v=a(w),g=o(38),T=a(g),M=o(39),b=a(M),y=(n=b.default.withToolbar,i=b.default.withValidationLoad,n(l=i((s=r=function(e){function t(e){(0,d.default)(this,t);var o=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._handleSelectOne=function(e){o.one=e},o._handleSelectTwo=function(e){o.two=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props,t=e.oneCaption,a=e.twoCaption,n=[];return o.one||n.push(o.props.msgOnNotSelected(t)),o.two||n.push(o.props.msgOnNotSelected(a)),n.isValid=0===n.length,n},o._createLoadOption=function(){return o.props.loadFn(o.props,{one:o.one,two:o.two})},o._handleClose=function(){o._handleWithValidationClose()},o.one=void 0,o.two=void 0,o._menuMore=(0,T.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e,{noDate:!0}),o._commandButtons=[C.default.createElement(v.default.Button.Load,{onClick:o._handleLoad})],o.state={isToolbar:!0,isShowLabels:!0,validationMessages:[]},o}return(0,S.default)(t,e),(0,p.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=e.oneCaption,l=e.oneURI,r=e.oneJsonProp,s=e.twoCaption,u=e.twoURI,d=e.twoJsonProp,c=this.state,p=c.isToolbar,h=c.isShowLabels,f=c.validationMessages;return C.default.createElement(v.default.DraggableDialog,{caption:t,isShow:o,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._handleClose},C.default.createElement(v.default.Toolbar,{isShow:p,buttons:this.toolbarButtons}),C.default.createElement(v.default.SelectWithLoad,{isShow:o,isShowLabels:h,uri:l,jsonProp:r,caption:i,optionNames:"Items",onSelect:this._handleSelectOne}),C.default.createElement(v.default.SelectWithLoad,{isShow:o,isShowLabels:h,uri:u,jsonProp:d,caption:s,optionNames:"Items",onSelect:this._handleSelectTwo}),C.default.createElement(v.default.ValidationMessages,{validationMessages:f}))}}]),t}(m.Component),r.defaultProps={oneCaption:"Item",oneJsonProp:"items",twoCaption:"Metric",twoJsonProp:"metrics"},l=s))||l)||l);t.default=y},547:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u=o(1),d=a(u),c=o(2),p=a(c),h=o(3),f=a(h),_=o(4),S=a(_),m=o(5),C=a(m),w=o(0),v=a(w),g=o(506),T=a(g),M=o(30),b=a(M),y=o(38),L=a(y),E=o(39),D=a(E),O=o(507),P=a(O),B="M",A=(n=D.default.withToolbar,i=D.default.withValidationLoad,n(l=i((s=r=function(e){function t(e){(0,p.default)(this,t);var o=(0,S.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._isCategory=function(){return P.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=null;var e=o.two?o.props.mapFrequency?o.props.mapFrequency:o.two.mapFrequency?o.two.mapFrequency:B:null,t=o.props.mapDateDf,a=e?(0,T.default)(e,t):(0,T.default)("EMPTY");o.setState((0,d.default)({isShowDate:!0},a))},o._handleSelectOne=function(e){o.one=e},o._handleSelectTwo=function(e){o.two=e,o._isCategory()&&o._updateForDate()},o._handleSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._handleSelectDate=function(e){o.date=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props,t=e.oneCaption,a=e.twoCaption,n=[];return o._isCategory()||o.one||n.push(o.props.msgOnNotSelected(t)),o.two||n.push(o.props.msgOnNotSelected(a)),n.isValid=0===n.length,n},o._createLoadOption=function(){var e=o.one,t=o.two,a=o.chartType,n=o.colorComp,i=o.date,l=o.compSelect1,r=o.compSelect2,s=n?n.getColor():void 0,u=o.state.dateDefault;return o.props.loadFn(o.props,{one:e,two:t,chartType:a,seriaColor:s,date:i,dateDefault:u,selectOptions:[l.getOptions(),r.getOptions()]})},o._handleClose=function(){o._handleWithValidationClose()},o._refSelect1=function(e){o.compSelect1=e},o._refSelect2=function(e){o.compSelect2=e},o.one=void 0,o.two=void 0,o.date=void 0,o.chartType=void 0,o._menuMore=(0,L.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e),o._commandButtons=[v.default.createElement(b.default.Button.Load,{onClick:o._handleLoad})],o._chartOptions=P.default.crOptions(e),o.state=(0,d.default)({isToolbar:!0,isShowLabels:!0,isShowDate:!1},(0,T.default)("EMPTY"),{validationMessages:[]}),o}return(0,C.default)(t,e),(0,f.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.noDate,o=e.caption,a=e.isShow,n=e.onShow,i=e.onFront,l=e.oneCaption,r=e.oneURI,s=e.oneJsonProp,u=e.twoCaption,d=e.twoURI,c=e.twoJsonProp,p=this.state,h=p.isToolbar,f=p.isShowLabels,_=p.isShowDate,S=p.dateDefault,m=p.dateOptions,C=p.validationMessages;return v.default.createElement(b.default.DraggableDialog,{isShow:a,caption:o,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:n,onFront:i,onClose:this._handleClose},v.default.createElement(b.default.Toolbar,{isShow:h,buttons:this.toolbarButtons}),v.default.createElement(b.default.SelectWithLoad,{ref:this._refSelect1,isShow:a,isShowLabels:f,uri:r,jsonProp:s,caption:l,optionNames:"Items",onSelect:this._handleSelectOne}),v.default.createElement(b.default.SelectWithLoad,{ref:this._refSelect2,isShow:a,isShowLabels:f,uri:d,jsonProp:c,caption:u,optionNames:"Metrics",onSelect:this._handleSelectTwo}),v.default.createElement(b.default.RowChart,{isShowLabels:f,options:this._chartOptions,onSelectChart:this._handleSelectChartType,onRegColor:this._onRegColor}),!t&&v.default.createElement(b.default.ShowHide,{isShow:_},v.default.createElement(b.default.RowInputSelect,{isShowLabels:f,caption:"For Date",placeholder:S,options:m,onSelect:this._handleSelectDate})),v.default.createElement(b.default.ValidationMessages,{validationMessages:C}))}}]),t}(w.Component),r.defaultProps={oneCaption:"Item",oneJsonProp:"items",twoCaption:"Metric",twoJsonProp:"metrics"},l=s))||l)||l);t.default=A},548:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r=o(2),s=a(r),u=o(3),d=a(u),c=o(4),p=a(c),h=o(5),f=a(h),_=o(0),S=a(_),m=o(30),C=a(m),w=o(38),v=a(w),g=o(39),T=a(g),M=(n=T.default.withToolbar,i=T.default.withValidationLoad,n(l=i(l=function(e){function t(e){(0,s.default)(this,t);var o=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._handleSelectOne=function(e){o.one=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props.oneCaption,t=[];o.one||t.push(o.props.msgOnNotSelected(e));var a=o.parentChild.getValidation(),n=a.isValid,i=a.msg;return n||(t=t.concat(i)),t.isValid=0===t.length,t},o._createLoadOption=function(){var e=o.parentChild.getValues(),t=e.parent,a=e.child;return o.props.loadFn(o.props,{one:o.one,group:t,metric:a})},o._handleClose=function(){o._handleWithValidationClose()},o.one=void 0,o._menuMore=(0,v.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e,{noDate:!0}),o._commandButtons=[S.default.createElement(C.default.Button.Load,{onClick:o._handleLoad})],o.state={isToolbar:!0,isShowLabels:!0,validationMessages:[]},o}return(0,f.default)(t,e),(0,d.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this,t=this.props,o=t.caption,a=t.isShow,n=t.onShow,i=t.onFront,l=t.oneCaption,r=t.oneURI,s=t.oneJsonProp,u=t.twoCaption,d=t.twoURI,c=t.twoJsonProp,p=t.threeCaption,h=t.msgOnNotSelected,f=this.state,_=f.isToolbar,m=f.isShowLabels,w=f.validationMessages;return S.default.createElement(C.default.DraggableDialog,{isShow:a,caption:o,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:n,onFront:i,onClose:this._handleClose},S.default.createElement(C.default.Toolbar,{isShow:_,buttons:this.toolbarButtons}),S.default.createElement(C.default.SelectWithLoad,{isShow:a,isShowLabels:m,uri:r,jsonProp:s,caption:l,optionNames:"Items",onSelect:this._handleSelectOne}),S.default.createElement(C.default.SelectParentChild,{ref:function(t){return e.parentChild=t},isShow:a,isShowLabels:m,uri:d,parentCaption:u,parentOptionNames:"Items",parentJsonProp:c,childCaption:p,msgOnNotSelected:h}),S.default.createElement(C.default.ValidationMessages,{validationMessages:w}))}}]),t}(_.Component))||l)||l);t.default=M},549:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r,s,u=o(1),d=a(u),c=o(2),p=a(c),h=o(3),f=a(h),_=o(4),S=a(_),m=o(5),C=a(m),w=o(0),v=a(w),g=o(506),T=a(g),M=o(30),b=a(M),y=o(38),L=a(y),E=o(39),D=a(E),O=o(507),P=a(O),B="M",A=(n=D.default.withToolbar,i=D.default.withValidationLoad,n(l=i((s=r=function(e){function t(e){(0,p.default)(this,t);var o=(0,S.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._isCategory=function(){return P.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=void 0;var e=o.props.dfProps,t=void 0===e?{}:e,a=t.mapFrequency,n=t.mapDateDf,i=o.two?a:B,l=i?(0,T.default)(i,n):(0,T.default)("EMPTY");o.setState((0,d.default)({isShowDate:!0},l))},o._handleSelectOne=function(e){o.one=e},o._handleSelectTwo=function(e){o.two=e,o._isCategory()&&o._updateForDate()},o._handleSelectThree=function(e){o.three=e},o._handleSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._handleSelectDate=function(e){o.date=e},o._handleLoad=function(){o._handleWithValidationLoad(o._createValidationMessages(),o._createLoadOption)},o._createValidationMessages=function(){var e=o.props,t=e.oneCaption,a=e.twoCaption,n=e.threeCaption,i=e.msgOnNotSelected,l=[];return o._isCategory()||o.one||l.push(i(t)),o.two||l.push(i(a)),o.three||l.push(i(n)),l.isValid=0===l.length,l},o._createLoadOption=function(){var e=o.one,t=o.two,a=o.three,n=o.chartType,i=o.colorComp,l=o.date,r=o.compSelect1,s=o.compSelect2,u=i?i.getColor():void 0,d=o.state.dateDefault;return o.props.loadFn(o.props,{one:e,group:t,metric:a,chartType:n,seriaColor:u,date:l,dateDefault:d,selectOptions:[r.getOptions(),s.getOptions()]})},o._handleClose=function(){o._handleWithValidationClose()},o._refSelect1=function(e){o.compSelect1=e},o._refSelect2=function(e){o.compSelect2=e},o.one=void 0,o.two=void 0,o.three=void 0,o.date=void 0,o.chartType=void 0,o._menuMore=(0,L.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e),o._commandButtons=[v.default.createElement(b.default.Button.Load,{onClick:o._handleLoad})],o._chartOptions=P.default.crOptions(e),o.state=(0,d.default)({isToolbar:!0,isShowLabels:!0,isShowDate:!1},(0,T.default)("EMPTY"),{validationMessages:[]}),o}return(0,C.default)(t,e),(0,f.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=e.oneCaption,l=e.oneURI,r=e.oneJsonProp,s=e.twoCaption,u=e.twoURI,d=e.twoJsonProp,c=e.threeCaption,p=e.threeURI,h=e.threeJsonProp,f=e.noDate,_=this.state,S=_.isToolbar,m=_.isShowLabels,C=_.isShowDate,w=_.dateDefault,g=_.dateOptions,T=_.validationMessages;return v.default.createElement(b.default.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._handleClose},v.default.createElement(b.default.Toolbar,{isShow:S,buttons:this.toolbarButtons}),v.default.createElement(b.default.SelectWithLoad,{ref:this._refSelect1,isShow:o,isShowLabels:m,uri:l,jsonProp:r,caption:i,optionNames:"Countries",onSelect:this._handleSelectOne}),v.default.createElement(b.default.SelectWithLoad,{ref:this._refSelect2,isShow:o,isShowLabels:m,uri:u,jsonProp:d,caption:s,optionNames:"Items",onSelect:this._handleSelectTwo}),v.default.createElement(b.default.SelectWithLoad,{isShow:o,isShowLabels:m,uri:p,jsonProp:h,caption:c,optionNames:"Metrics",onSelect:this._handleSelectThree}),v.default.createElement(b.default.RowChart,{isShowLabels:m,options:this._chartOptions,onSelectChart:this._handleSelectChartType,onRegColor:this._onRegColor}),!f&&v.default.createElement(b.default.ShowHide,{isShow:C},v.default.createElement(b.default.RowInputSelect,{isShowLabels:m,caption:"For Date",placeholder:w,options:g,onSelect:this._handleSelectDate})),v.default.createElement(b.default.ValidationMessages,{validationMessages:T}))}}]),t}(w.Component),r.defaultProps={oneCaption:"Country",oneJsonProp:"countries",twoCaption:"Item",twoJsonProp:"items",threeCaption:"Metric",threeJsonProp:"items"},l=s))||l)||l);t.default=A},550:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r=o(1),s=a(r),u=o(2),d=a(u),c=o(3),p=a(c),h=o(4),f=a(h),_=o(5),S=a(_),m=o(0),C=a(m),w=o(506),v=a(w),g=o(30),T=a(g),M=o(38),b=a(M),y=o(39),L=a(y),E=o(94),D=a(E),O=o(507),P=a(O),B=o(551),A=a(B),R="M",F="Dims for request haven't been loaded.\nClose, open dialog for trying load again.",I={SPINNER_LOADING:{position:"relative",display:"block",textAlign:"middle",margin:"16px auto 32px",width:"32px",height:"32px"},SPINNER_FAILED:{borderColor:"#f44336",animation:"none"}},N=(n=L.default.withToolbar,i=L.default.withValidationLoad,n(l=i(l=function(e){function t(e){(0,d.default)(this,t);var o=(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._loadDims=function(){var e=o.props,t=e.proxy,a=e.baseMeta,n=e.dims,i=e.dfProps,l=void 0===i?{}:i,r=l.dfId;(0,A.default)({id:r,proxy:t,baseMeta:a,dims:n}).then(function(e){var t=e.configs,a=e.errMsg;t?(o._selectOptions=t.map(function(e){return e.options}),o.setState({isLoading:!1,isLoadFailed:!1,configs:t})):o.setState({isLoading:!1,isLoadFailed:!0,validationMessages:[a]})})},o._isCategory=function(){return P.default.isCategory(o.chartType)},o._updateForDate=function(){o.date=null;var e=o._items[1]?o.props.mapFrequency?o.props.mapFrequency:o.two.mapFrequency?o.two.mapFrequency:R:null,t=o.props.mapDateDf,a=e?(0,v.default)(e,t):(0,v.default)("Y",t);o.setState((0,s.default)({isShowDate:!0},a))},o._handleLoad=function(){var e=o._crValidationMessages();if(0===e.length){var t=o._items,a=o.chartType,n=o.colorComp,i=o.date,l=n?n.getColor():void 0,r=o.state.dateDefault,s=o.props.loadFn(o.props,{chartType:a,seriaColor:l,date:i,dateDefault:r,items:t,selectOptions:o._selectOptions});o.props.onLoad(s)}o.setState({validationMessages:e})},o._crValidationMessages=function(){var e=[],t=o.state,a=t.configs;return t.isLoadFailed?e.push(F):a.forEach(function(t,a){var n=t.caption;o._items[a]||e.push(o.props.msgOnNotSelected(n))}),e},o._handleClose=function(){o._handleWithValidationClose()},o._hSelectChartType=function(e){o.chartType=e,o._isCategory()?o._updateForDate():o.setState({isShowDate:!1})},o._onRegColor=function(e){o.colorComp=e},o._fSelect=function(e){return function(t){this._items[e]=t}},o._hSelectDate=function(e){o.date=e},o._renderSelectInputs=function(){var e=o.state,t=e.isShowLabels;return e.configs.map(function(e,a){var n=e.id,i=e.caption,l=e.options,r={isShowLabels:t,caption:i,options:l};return C.default.createElement(T.default.RowInputSelect,(0,s.default)({key:n},r,{onSelect:o._fSelect(a).bind(o)}))})},o._menuMore=(0,b.default)(o,{toggleToolBar:o._toggleWithToolbar,onAbout:o._clickInfoWithToolbar}),o.toolbarButtons=o._createType2WithToolbar(e),o._commandButtons=[C.default.createElement(T.default.Button.Load,{onClick:o._handleLoad})],o._chartOptions=P.default.crOptions(e),o._items=[],o._selectOptions=[],o.state=(0,s.default)({isToolbar:!0,isShowLabels:!0,isLoading:!0,isLoadFailed:!1,isShowDate:!1},(0,v.default)("EMPTY"),{validationMessages:[]}),o}return(0,S.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props!==e&&!this.props.isShow&&e.isShow&&this.state.isLoadFailed&&(this.setState({isLoading:!0,isLoadFailed:!1}),this._loadDims())}},{key:"shouldComponentUpdate",value:function(e,t){return this.props===e||this.props.isShow!==e.isShow}},{key:"componentDidMount",value:function(){this._loadDims()}},{key:"render",value:function(){var e=this.props,t=e.caption,o=e.isShow,a=e.onShow,n=e.onFront,i=this.state,l=i.isToolbar,r=i.isShowLabels,u=i.isLoading,d=i.isLoadFailed,c=i.isShowDate,p=i.dateDefault,h=i.dateOptions,f=i.validationMessages,_=d?(0,s.default)({},I.SPINNER_LOADING,I.SPINNER_FAILED):I.SPINNER_LOADING;return C.default.createElement(T.default.DraggableDialog,{isShow:o,caption:t,menuModel:this._menuMore,commandButtons:this._commandButtons,onShowChart:a,onFront:n,onClose:this._handleClose},C.default.createElement(T.default.Toolbar,{isShow:l,buttons:this.toolbarButtons}),(u||d)&&C.default.createElement(D.default,{style:_}),!u&&!d&&this._renderSelectInputs(),C.default.createElement(T.default.RowChart,{isShowLabels:r,options:this._chartOptions,onSelectChart:this._hSelectChartType,onRegColor:this._onRegColor}),C.default.createElement(T.default.ShowHide,{isShow:c},C.default.createElement(T.default.RowInputSelect,{isShowLabels:r,caption:"For Date",placeholder:p,options:h,onSelect:this._hSelectDate})),C.default.createElement(T.default.ValidationMessages,{validationMessages:f}))}}]),t}(m.Component))||l)||l);t.default=N},551:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(10),i=a(n),l=o(1),r=a(l),s=o(51),u=a(s),d={SELECTION_ALL:{selection:{filter:"all",values:["*"]}},TID_DIM:{code:"Tid",selection:{filter:"top",values:["1"]}}},c=function(e,t,o){return e?""+e+t+"/"+o:t+"/"+o},p=function(e){return(0,r.default)({code:e},d.SELECTION_ALL)},h=function(e){var t=e.map(function(e){return p(e.v)});return t.push(d.TID_DIM),{method:"POST",body:JSON.stringify({query:t,response:{format:"json-stat"}})}},f=function(e,t){for(var o=[],a=t.v,n=e.Dimension(a),l=n.length,r=0;r<l;r++)o.push({caption:n.Category(r).label,slice:(0,i.default)({},a,n.id[r])});return o},_=!1,S=void 0,m=void 0,C=function(e){return function(){e===S&&(_=!1)}},w=function(e){S=e,m=setTimeout(C(e),5e3),_=!0},v=function(){_=!1,clearTimeout(m)},g=function(e){var t=e.proxy,o=e.baseMeta,a=e.id,n=e.dims;if(_)return Promise.resolve({errMsg:"Another dims are still loading"});var i=c(t,o,a),l=h(n);return w(i),fetch(i,l).then(function(e){var t=e.status;if(t>=200&&t<400)return e.json();if(403===t)throw Error("HTTP Code 403: Forbitten.\nMaybe, require API key.");throw Error("HTTP Code: "+t)}).then(function(e){var t=(0,u.default)(e).Dataset(0),o=n.map(function(e){return{id:e.v,caption:e.c,options:f(t,e)}});return v(),{configs:o}}).catch(function(e){return v(),{errMsg:e.message}})};t.default=g}});